-- MySQL dump 10.13  Distrib 5.7.17, for Win64 (x86_64)
--
-- Host: localhost    Database: minicms
-- ------------------------------------------------------
-- Server version	5.7.17-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `auth_group`
--

DROP TABLE IF EXISTS `auth_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_group` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(80) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_group`
--

LOCK TABLES `auth_group` WRITE;
/*!40000 ALTER TABLE `auth_group` DISABLE KEYS */;
INSERT INTO `auth_group` VALUES (1,'No');
/*!40000 ALTER TABLE `auth_group` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_group_permissions`
--

DROP TABLE IF EXISTS `auth_group_permissions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_group_permissions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `group_id` int(11) NOT NULL,
  `permission_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `auth_group_permissions_group_id_0cd325b0_uniq` (`group_id`,`permission_id`),
  KEY `auth_group_permissi_permission_id_84c5c92e_fk_auth_permission_id` (`permission_id`),
  CONSTRAINT `auth_group_permissi_permission_id_84c5c92e_fk_auth_permission_id` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`),
  CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_group_permissions`
--

LOCK TABLES `auth_group_permissions` WRITE;
/*!40000 ALTER TABLE `auth_group_permissions` DISABLE KEYS */;
/*!40000 ALTER TABLE `auth_group_permissions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_permission`
--

DROP TABLE IF EXISTS `auth_permission`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_permission` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `content_type_id` int(11) NOT NULL,
  `codename` varchar(100) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `auth_permission_content_type_id_01ab375a_uniq` (`content_type_id`,`codename`),
  CONSTRAINT `auth_permissi_content_type_id_2f476e4b_fk_django_content_type_id` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=52 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_permission`
--

LOCK TABLES `auth_permission` WRITE;
/*!40000 ALTER TABLE `auth_permission` DISABLE KEYS */;
INSERT INTO `auth_permission` VALUES (1,'Can add log entry',1,'add_logentry'),(2,'Can change log entry',1,'change_logentry'),(3,'Can delete log entry',1,'delete_logentry'),(4,'Can add group',2,'add_group'),(5,'Can change group',2,'change_group'),(6,'Can delete group',2,'delete_group'),(7,'Can add permission',3,'add_permission'),(8,'Can change permission',3,'change_permission'),(9,'Can delete permission',3,'delete_permission'),(10,'Can add content type',4,'add_contenttype'),(11,'Can change content type',4,'change_contenttype'),(12,'Can delete content type',4,'delete_contenttype'),(13,'Can add session',5,'add_session'),(14,'Can change session',5,'change_session'),(15,'Can delete session',5,'delete_session'),(16,'Can add item',6,'add_item'),(17,'Can change item',6,'change_item'),(18,'Can delete item',6,'delete_item'),(19,'Can add last post id',7,'add_lastpostid'),(20,'Can change last post id',7,'change_lastpostid'),(21,'Can delete last post id',7,'delete_lastpostid'),(22,'Can add column',8,'add_column'),(23,'Can change column',8,'change_column'),(24,'Can delete column',8,'delete_column'),(25,'Can add comment',9,'add_comment'),(26,'Can change comment',9,'change_comment'),(27,'Can delete comment',9,'delete_comment'),(28,'Can add article',10,'add_article'),(29,'Can change article',10,'change_article'),(30,'Can delete article',10,'delete_article'),(31,'Can add poll',11,'add_poll'),(32,'Can change poll',11,'change_poll'),(33,'Can delete poll',11,'delete_poll'),(34,'Can add author',12,'add_author'),(35,'Can change author',12,'change_author'),(36,'Can delete author',12,'delete_author'),(37,'Can add user',13,'add_newuser'),(38,'Can change user',13,'change_newuser'),(39,'Can delete user',13,'delete_newuser'),(40,'Can add 首页中部栏左侧图片',14,'add_imagestory'),(41,'Can change 首页中部栏左侧图片',14,'change_imagestory'),(42,'Can delete 首页中部栏左侧图片',14,'delete_imagestory'),(43,'Can add 微信文章',15,'add_weixinarticle'),(44,'Can change 微信文章',15,'change_weixinarticle'),(45,'Can delete 微信文章',15,'delete_weixinarticle'),(46,'Can add img tools',16,'add_imgtools'),(47,'Can change img tools',16,'change_imgtools'),(48,'Can delete img tools',16,'delete_imgtools'),(49,'Can add 斗鱼时间信息',17,'add_info'),(50,'Can change 斗鱼时间信息',17,'change_info'),(51,'Can delete 斗鱼时间信息',17,'delete_info');
/*!40000 ALTER TABLE `auth_permission` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `django_admin_log`
--

DROP TABLE IF EXISTS `django_admin_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `django_admin_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `action_time` datetime(6) NOT NULL,
  `object_id` longtext,
  `object_repr` varchar(200) NOT NULL,
  `action_flag` smallint(5) unsigned NOT NULL,
  `change_message` longtext NOT NULL,
  `content_type_id` int(11) DEFAULT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `django_admin__content_type_id_c4bce8eb_fk_django_content_type_id` (`content_type_id`),
  KEY `django_admin_log_user_id_c564eba6_fk_focus_newuser_id` (`user_id`),
  CONSTRAINT `django_admin__content_type_id_c4bce8eb_fk_django_content_type_id` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`),
  CONSTRAINT `django_admin_log_user_id_c564eba6_fk_focus_newuser_id` FOREIGN KEY (`user_id`) REFERENCES `focus_newuser` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `django_admin_log`
--

LOCK TABLES `django_admin_log` WRITE;
/*!40000 ALTER TABLE `django_admin_log` DISABLE KEYS */;
INSERT INTO `django_admin_log` VALUES (1,'2017-05-27 01:48:18.602149','1','测试1',1,'[{\"added\": {}}]',8,1),(2,'2017-05-27 01:48:45.167669','1','actanble',1,'[{\"added\": {}}]',12,1),(3,'2017-05-27 01:48:51.228015','1','1111',1,'[{\"added\": {}}]',10,1),(4,'2017-05-27 01:49:00.843565','1','1111111111111111111111111111111111',1,'[{\"added\": {}}]',9,1),(5,'2017-05-27 01:51:56.699624','1','2017-05-27 09:51:00+08:00_测试1:<p>111111111111111111<br/></p>',1,'[{\"added\": {}}]',6,1),(6,'2017-05-27 01:53:56.912499','2','22222222222',1,'[{\"added\": {}}]',10,1),(7,'2017-05-27 02:31:08.709151','3','微信开发注意事项',1,'[{\"added\": {}}]',10,1),(8,'2017-05-27 02:32:21.836333','1','111111',1,'[{\"added\": {}}]',15,1),(9,'2017-05-27 02:33:54.148613','3','微信开发注意事项',2,'[]',10,1),(10,'2017-05-27 02:39:13.361871','2','22222222222',3,'',10,1),(11,'2017-05-27 07:32:06.830016','4','werobot-Api',1,'[{\"added\": {}}]',10,1),(12,'2017-05-27 07:40:10.948706','1','No',1,'[{\"added\": {}}]',2,1),(13,'2017-05-27 07:40:56.361304','2','user1',1,'[{\"added\": {}}]',13,1),(14,'2017-05-27 07:54:08.049586','2','2017-05-27 15:54:00+08:00_作者1:<p>测试图文发布</p><p><br/></p><p><strong>粗体</strong></p><p><strong><br/></strong></p><p><img src=\"/media/uploads/images/p4_20170527155403.jpg\" title=\"\" alt=\"p4.jpg\"/></p>',1,'[{\"added\": {}}]',6,1),(15,'2017-05-27 07:54:54.520244','3','2017-05-27 15:54:00+08:00_测试2:<p>图文发布<br/></p>',1,'[{\"added\": {}}]',6,1),(16,'2017-05-30 01:27:49.297823','5','SDK开发和设计',1,'[{\"added\": {}}]',10,1),(17,'2017-05-30 04:32:00.160896','6','BeautifulSoup 教程',1,'[{\"added\": {}}]',10,1),(18,'2017-05-30 09:17:48.327715','7','个性化推荐入门描述',1,'[{\"added\": {}}]',10,1);
/*!40000 ALTER TABLE `django_admin_log` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `django_content_type`
--

DROP TABLE IF EXISTS `django_content_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `django_content_type` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app_label` varchar(100) NOT NULL,
  `model` varchar(100) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `django_content_type_app_label_76bd3d3b_uniq` (`app_label`,`model`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `django_content_type`
--

LOCK TABLES `django_content_type` WRITE;
/*!40000 ALTER TABLE `django_content_type` DISABLE KEYS */;
INSERT INTO `django_content_type` VALUES (1,'admin','logentry'),(2,'auth','group'),(3,'auth','permission'),(4,'contenttypes','contenttype'),(10,'focus','article'),(12,'focus','author'),(8,'focus','column'),(9,'focus','comment'),(13,'focus','newuser'),(11,'focus','poll'),(5,'sessions','session'),(16,'tv','imgtools'),(17,'tv','info'),(6,'twfabu','item'),(7,'twfabu','lastpostid'),(14,'weixin','imagestory'),(15,'weixin','weixinarticle');
/*!40000 ALTER TABLE `django_content_type` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `django_migrations`
--

DROP TABLE IF EXISTS `django_migrations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `django_migrations` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app` varchar(255) NOT NULL,
  `name` varchar(255) NOT NULL,
  `applied` datetime(6) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `django_migrations`
--

LOCK TABLES `django_migrations` WRITE;
/*!40000 ALTER TABLE `django_migrations` DISABLE KEYS */;
INSERT INTO `django_migrations` VALUES (1,'contenttypes','0001_initial','2017-05-27 01:45:29.076453'),(2,'contenttypes','0002_remove_content_type_name','2017-05-27 01:45:30.926559'),(3,'auth','0001_initial','2017-05-27 01:45:36.338868'),(4,'auth','0002_alter_permission_name_max_length','2017-05-27 01:45:37.419930'),(5,'auth','0003_alter_user_email_max_length','2017-05-27 01:45:37.496934'),(6,'auth','0004_alter_user_username_opts','2017-05-27 01:45:37.547937'),(7,'auth','0005_alter_user_last_login_null','2017-05-27 01:45:37.599940'),(8,'auth','0006_require_contenttypes_0002','2017-05-27 01:45:37.644943'),(9,'focus','0001_initial','2017-05-27 01:46:09.862786'),(10,'admin','0001_initial','2017-05-27 01:46:16.035139'),(11,'admin','0002_logentry_remove_auto_add','2017-05-27 01:46:16.294153'),(12,'auth','0007_alter_validators_add_error_messages','2017-05-27 01:46:16.410160'),(13,'auth','0008_alter_user_username_max_length','2017-05-27 01:46:16.532167'),(14,'focus','0002_auto_20170527_0755','2017-05-27 01:46:21.019424'),(15,'focus','0003_auto_20170527_0931','2017-05-27 01:46:25.250666'),(16,'sessions','0001_initial','2017-05-27 01:46:26.116715'),(17,'twfabu','0001_initial','2017-05-27 01:46:27.331785'),(18,'weixin','0001_initial','2017-05-27 02:29:19.518905'),(19,'tv','0001_initial','2017-05-30 15:04:29.678320');
/*!40000 ALTER TABLE `django_migrations` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `django_session`
--

DROP TABLE IF EXISTS `django_session`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `django_session` (
  `session_key` varchar(40) NOT NULL,
  `session_data` longtext NOT NULL,
  `expire_date` datetime(6) NOT NULL,
  PRIMARY KEY (`session_key`),
  KEY `django_session_de54fa62` (`expire_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `django_session`
--

LOCK TABLES `django_session` WRITE;
/*!40000 ALTER TABLE `django_session` DISABLE KEYS */;
INSERT INTO `django_session` VALUES ('p81l68y4se5rvr9alpnan7z19nlvpkuf','NzRhMDAxMzc0ZWU0ZjBjYjNkZDkyNzAzYjMxZjdjZjk0MTg3ZWM5YTp7Il9hdXRoX3VzZXJfaGFzaCI6ImZmOWEzZmY2ZDhlMDU5YzZmMmM0YzQ1NmRlZjA4MmZhNzcwZGFkNWEiLCJfYXV0aF91c2VyX2JhY2tlbmQiOiJkamFuZ28uY29udHJpYi5hdXRoLmJhY2tlbmRzLk1vZGVsQmFja2VuZCIsIl9hdXRoX3VzZXJfaWQiOiIxIn0=','2017-06-10 01:47:26.463167');
/*!40000 ALTER TABLE `django_session` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `focus_article`
--

DROP TABLE IF EXISTS `focus_article`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `focus_article` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(256) NOT NULL,
  `content` longtext NOT NULL,
  `pub_date` datetime(6) NOT NULL,
  `update_time` datetime(6) DEFAULT NULL,
  `published` tinyint(1) NOT NULL,
  `poll_num` int(11) NOT NULL,
  `comment_num` int(11) NOT NULL,
  `keep_num` int(11) NOT NULL,
  `author_id` int(11) NOT NULL,
  `column_id` int(11),
  `pic` varchar(100) NOT NULL,
  `set_top` tinyint(1) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `focus_article_author_id_ba2809a9_fk_focus_author_id` (`author_id`),
  KEY `focus_article_column_id_3d390601_fk_focus_column_id` (`column_id`),
  CONSTRAINT `focus_article_author_id_ba2809a9_fk_focus_author_id` FOREIGN KEY (`author_id`) REFERENCES `focus_author` (`id`),
  CONSTRAINT `focus_article_column_id_3d390601_fk_focus_column_id` FOREIGN KEY (`column_id`) REFERENCES `focus_column` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `focus_article`
--

LOCK TABLES `focus_article` WRITE;
/*!40000 ALTER TABLE `focus_article` DISABLE KEYS */;
INSERT INTO `focus_article` VALUES (1,'1111','11','2017-05-27 01:48:51.178012','2017-05-27 01:48:51.178012',1,0,0,0,1,1,'uploads/blog/images/default.jpg',1),(3,'微信开发注意事项','<blockquote><p>tips: 本文面向的对象是已经会使用django开发web后端的人员</p></blockquote><h2>微信小程序后端与普通web的区别</h2><p>微信小程序的后端开发和普通的restful API 大致上相同，只不过要注意以下几点限制</p><ul class=\" list-paddingleft-2\"><li><p>必须使用HTTPS协议请求后端服务器</p></li><li><p>不支持COOKIE</p></li><li><p>不支持django内置的user登录, 因为它使用的是微信的用户系统</p></li></ul><h2>应对方法</h2><ul class=\" list-paddingleft-2\"><li><p>对于HTTPS的限制, 很简单, 去godaddy等网站申请一个https证书, 下载后使用nginx指定即可, 可以参照<a href=\"http://www.cnblogs.com/yanghuahui/archive/2012/06/25/2561568.html\" target=\"_blank\">此文章</a>, 这篇文章的证书是自己生成的, 这里需要替换为申请的证书</p></li><li><p>不支持cookie, django原生的session机制就会失效</p></li><li><p>不支持django内置的user登录, 因为它使用的是微信的用户系统</p><p>对于上边这两个问题,我使用了<code>JWT</code>来保证了用户的在线验证. 那么什么是JWT呢, 可以看下推酷的<a href=\"http://www.tuicool.com/articles/R7Rj6r3\" target=\"_blank\">这篇文章</a>了解一下, 简要的来说就是用户登录以后, 原先保存在cookie里边的一个随机的sessionid变成了保存在http头部的<code>Authorization</code>字段的一个token值, 这个值是服务端自身加密的, 客户端无需解密, 只要服务端知道这个token对应这个用户就好, 当然这里也有很多的附加功能, 比如超时等等, 不再赘述</p><p>然而网上有很多的jwt开源项目, 比如<code>django-jwt</code>, <code>rest-framework-jwt</code>, 你都可以使用, 但是却不适用于微信小程序, 为什么这么说? 是因为这两个项目都和django内置的user相耦合, 在上边提出的第三个问题的地方会引起问题, 在尝试了<code>rest-framework-jwt</code>发现问题后, 我毅然决定自己使用<code>pyjwt</code>实现一个用户登录/鉴权的组件.</p><p>首先要知道微信小程序的登录流程是:</p><p>看起来好像步骤很多, 但是我们没有必要去重新造轮子, 早有人已经写好认证流程<a href=\"https://github.com/gusibi/python-weixin\" target=\"_blank\">python-weixin</a>我们可以省去4-6的步骤, 那么剩下的问题就是如何解决第7步也就是维持session的问题了.</p></li><ol class=\" list-paddingleft-2\"><li><p>客户端请求用户授权</p></li><li><p>用户授权成功</p></li><li><p>客户端或得到用户基本信息(包括code,没有openid的用户明文信息, 有openid的加密后的信息, 解密向量iv)</p></li><li><p>客户端把返回的信息发送到服务器</p></li><li><p>服务器使用code去微信服务器换取session_key</p></li><li><p>服务器用这个session_key+iv去解密用户密文, 得到用户完整信息(基本+openid)</p></li><li><p>将用户在服务器登录, 维持用户session(这里的失效时间微信约定是30天)</p></li></ol></ul><p>因为jwt始终使用http头部的token进行验证这里我的思路是:</p><ol class=\" list-paddingleft-2\"><li><p>微信用户登录后, 返回客户端token, 并在缓存创建用户的session信息</p></li><li><p>客户端请求时附加http头<code>Authorization=JWT &lt;token&gt;</code></p></li><li><p>使用中间件检验http头的token, 审查通过则在request上追加一个<code>jwt_user</code>属性(这里不想覆盖django自带user), 同时去缓存寻找这个用户的session信息, 加载到<code>request.jwt_session</code>, 审查如果不通过则jwt_user设置为None, jwt_session为一个空的session对象</p></li><li><p>使用认证方法, 对于需要进行登录的接口检验用户是否为<code>None</code></p></li></ol><p>到这一步就已经完成了整个的用户鉴权/session持久化流程, 如果你只是为了了解django开发小程序注意的点到这里已经可以结束了, 下边我要介绍的是我实现的一套中间件逻辑, 有兴趣可以拿去直接使用.</p><p>这里中间件我已经实现了参见<a href=\"https://github.com/weidwonder/django-jwt-session-auth\" target=\"_blank\">django-jwt-session-auth</a>, 调用模块内部的<code>jwt_login</code>函数, 登录你的用户时会返回一个token, 这个token将要返回客户端, 同时它也会做user的session缓存动作.下一次客户端带着<code>Authorization=JWT &lt;token&gt;</code>调用的时候中间件会直接将对应的user和session加载到<code>request.jwt_user</code>和<code>request.jwt_session</code>, 这里你需要设置的只有设置两个值: <code>USER_TO_PAYLOAD</code>和<code>PAYLOAD_TO_USER</code>两个方法:</p><pre class=\"hljs asciidoc\">*&nbsp;USER_TO_PAYLOAD:&nbsp;根据当前登录的用户生成一个字典payload方法*&nbsp;PAYLOAD_TO_USER:&nbsp;根据你之前生成的payload找到对应的用户</pre><blockquote><p>注: 2017.1.15我这个组件还没有完整的readme, 后续会加上</p></blockquote><p>最后, 关于认证器, 如果你使用rest-framework可以直接继承<code>BaseAuthentication</code>在<code>authenticate</code>方法里校验<code>jwt_user</code>是否为None即可, 如果直接使用django原生的view, 可以写一个装饰器装饰在类view的<code>dispatch</code>方法上或直接装饰在函数的view上.</p><p>示例</p><pre class=\"hljs python\">#&nbsp;django-jwt-session-auth设置,&nbsp;放在settings.py文件中JWT_AUTH&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&#39;PAYLOAD_TO_USER&#39;:&nbsp;&#39;user.auth.payload_to_user&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&#39;USER_TO_PAYLOAD&#39;:&nbsp;&#39;user.auth.user_to_payload&#39;,\r\n}#&nbsp;rest-framework验证器class&nbsp;WechatUserAuthentication(BaseAuthentication):\r\n&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;authenticate(self,&nbsp;request):\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;request.jwt_user:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg&nbsp;=&nbsp;u&#39;请先授权&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;raise&nbsp;exceptions.AuthenticationFailed(msg)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(request.jwt_user,&nbsp;request.jwt_user.uuid)#&nbsp;原生django验证装饰器def&nbsp;login_required(func):&nbsp;&nbsp;&nbsp;&nbsp;@wraps(func)\r\n&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;verify_login(request,&nbsp;*args,&nbsp;**kwargs):\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;request.jwt_user:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;func(request,&nbsp;*args,&nbsp;**kwargs)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;返回HTTP_401\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;verify_login</pre><p>&nbsp; &nbsp; &nbsp; &nbsp;</p><p><br/></p>','2017-05-27 02:31:08.606145','2017-05-27 02:33:54.139613',1,0,0,0,1,1,'uploads/blog/images/default.jpg',1),(4,'werobot-Api','<h1>API</h1><p><span id=\"id1\"></span></p><h2>应用对象</h2><ul class=\"class list-paddingleft-2\"><li><p><em class=\"property\">class </em><code class=\"descclassname\">werobot.robot.</code><code class=\"descname\">BaseRoBot</code><span class=\"sig-paren\">(</span><em>token=None</em>, <em>logger=None</em>, <em>enable_session=None</em>, <em>session_storage=None</em>, <em>app_id=None</em>, <em>app_secret=None</em>, <em>encoding_aes_key=None</em>, <em>config=None</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span></p></li><li><p>BaseRoBot 是整个应用的核心对象，负责提供 handler 的维护，消息和事件的处理等核心功能。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><br/></td></tr></tbody></table><p class=\"first admonition-title\">注解</p><p class=\"last\">对于下面的参数推荐使用 <a class=\"reference internal\" href=\"https://werobot.readthedocs.io/zh_CN/latest/api.html#werobot.config.Config\" title=\"werobot.config.Config\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">Config</span></code></a> 进行设置， &nbsp; &nbsp;并且以下参数均已 <strong>deprecated</strong>。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><br/></td></tr></tbody></table></li><ul class=\"method list-paddingleft-2\" style=\"list-style-type: square;\"><li><p><code class=\"descname\">voice</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为语音 <code class=\"docutils literal\"><span class=\"pre\">(voice)</span></code> 消息添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">view</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为链接 <code class=\"docutils literal\"><span class=\"pre\">(view)</span></code> 事件添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">unsubscribe</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为被取消关注 <code class=\"docutils literal\"><span class=\"pre\">(unsubscribe)</span></code> 事件添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">unknown_event</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为未知类型 <code class=\"docutils literal\"><span class=\"pre\">(unknown_event)</span></code> 事件添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">unknown</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为未知类型 <code class=\"docutils literal\"><span class=\"pre\">(unknown)</span></code> 消息添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">text</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为文本 <code class=\"docutils literal\"><span class=\"pre\">(text)</span></code> 消息添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">subscribe</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为被关注 <code class=\"docutils literal\"><span class=\"pre\">(subscribe)</span></code> 事件添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">scancode_waitmsg</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为扫描弹消息 <code class=\"docutils literal\"><span class=\"pre\">(scancode_waitmsg)</span></code> 事件添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">scancode_push</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为扫描推送 <code class=\"docutils literal\"><span class=\"pre\">(scancode_push)</span></code> 事件添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">parse_message</code><span class=\"sig-paren\">(</span><em>body</em>, <em>timestamp=None</em>, <em>nonce=None</em>, <em>msg_signature=None</em><span class=\"sig-paren\">)</span></p></li><li><p>解析获取到的 Raw XML ，如果需要的话进行解密，返回 WeRoBot Message。\r\n:param body: 微信服务器发来的请求中的 Body。\r\n:return: WeRoBot Message</p></li><li><p><code class=\"descname\">location_event</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为上报位置 <code class=\"docutils literal\"><span class=\"pre\">(location_event)</span></code> 事件添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">location</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为位置 <code class=\"docutils literal\"><span class=\"pre\">(location)</span></code> 消息添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">link</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为链接 <code class=\"docutils literal\"><span class=\"pre\">(link)</span></code> 消息添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">key_click</code><span class=\"sig-paren\">(</span><em>key</em><span class=\"sig-paren\">)</span></p></li><li><p>为自定义菜单 <code class=\"docutils literal\"><span class=\"pre\">(click)</span></code> 事件添加 handler 的简便方法。</p><p><strong>@key_click(‘KEYNAME’)</strong> 用来为特定 key 的点击事件添加 handler 方法。</p></li><li><p><code class=\"descname\">image</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为图像 <code class=\"docutils literal\"><span class=\"pre\">(image)</span></code> 消息添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">handler</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为每一条消息或事件添加一个 handler 方法的装饰器。</p></li><li><p><code class=\"descname\">get_reply</code><span class=\"sig-paren\">(</span><em>message</em><span class=\"sig-paren\">)</span></p></li><li><p>根据 message 的内容获取 Reply 对象。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><strong>message</strong> – 要处理的 message</td></tr><tr class=\"field-even field\"><th class=\"field-name\">返回:</th><td class=\"field-body\">获取的 Reply 对象</td></tr></tbody></table></li><li><p><code class=\"descname\">get_encrypted_reply</code><span class=\"sig-paren\">(</span><em>message</em><span class=\"sig-paren\">)</span></p></li><li><p>对一个指定的 WeRoBot Message ，获取 handlers 处理后得到的 Reply。\r\n如果可能，对该 Reply 进行加密。\r\n返回 Reply Render 后的文本。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><strong>message</strong> – 一个 WeRoBot Message 实例。</td></tr><tr class=\"field-even field\"><th class=\"field-name\">返回:</th><td class=\"field-body\">reply （纯文本）</td></tr></tbody></table></li><li><p><code class=\"descname\">filter</code><span class=\"sig-paren\">(</span><em>*args</em><span class=\"sig-paren\">)</span></p></li><li><p>为文本 <code class=\"docutils literal\"><span class=\"pre\">(text)</span></code> 消息添加 handler 的简便方法。</p><p>使用 <code class=\"docutils literal\"><span class=\"pre\">@filter(&quot;xxx&quot;)</span></code>, <code class=\"docutils literal\"><span class=\"pre\">@filter(re.compile(&quot;xxx&quot;))</span></code>或 <code class=\"docutils literal\"><span class=\"pre\">@filter(&quot;xxx&quot;,</span> <span class=\"pre\">&quot;xxx2&quot;)</span></code> 的形式为特定内容添加 handler。</p></li><li><p><code class=\"descname\">error_page</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为 robot 指定 Signature 验证不通过时显示的错误页面。</p><p>Usage:</p><pre>@robot.error_pagedef&nbsp;make_error_page(url):\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&quot;&lt;h1&gt;喵喵喵&nbsp;%s&nbsp;不是给麻瓜访问的快走开&lt;/h1&gt;&quot;&nbsp;%&nbsp;url</pre></li><li><p><code class=\"descname\">click</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span></p></li><li><p>为自定义菜单事件 <code class=\"docutils literal\"><span class=\"pre\">(click)</span></code> 事件添加一个 handler 方法的装饰器。</p></li><li><p><strong>timestamp</strong> – 时间戳</p></li><li><p><strong>nonce</strong> – 生成签名的随机字符串</p></li><li><p><strong>signature</strong> – 要检查的签名</p></li><li><p><code class=\"descname\">check_signature</code><span class=\"sig-paren\">(</span><em>timestamp</em>, <em>nonce</em>, <em>signature</em><span class=\"sig-paren\">)</span></p></li><li><p>根据时间戳和生成签名的字符串 (nonce) 检查签名。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><br/></td></tr><tr class=\"field-even field\"><th class=\"field-name\">返回:</th><td class=\"field-body\"><p class=\"first last\">如果签名合法将返回 <code class=\"docutils literal\"><span class=\"pre\">True</span></code>，不合法将返回 <code class=\"docutils literal\"><span class=\"pre\">False</span></code></p></td></tr></tbody></table></li><li><p><strong>func</strong> – 要作为 handler 的方法。</p></li><li><p><strong>type</strong> – handler 的种类。</p></li><li><p><code class=\"descname\">add_handler</code><span class=\"sig-paren\">(</span><em>func</em>, <em>type=&#39;all&#39;</em><span class=\"sig-paren\">)</span></p></li><li><p>为 BaseRoBot 实例添加一个 handler。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><br/></td></tr><tr class=\"field-even field\"><th class=\"field-name\">返回:</th><td class=\"field-body\"><p class=\"first last\">None</p></td></tr></tbody></table></li><li><p><strong>func</strong> – 如果 rules 通过，则处理该消息的 handler。</p></li><li><p><strong>rules</strong> – 一个 list，包含要匹配的字符串或者正则表达式。</p></li><li><p><code class=\"descname\">add_filter</code><span class=\"sig-paren\">(</span><em>func</em>, <em>rules</em><span class=\"sig-paren\">)</span></p></li><li><p>为 BaseRoBot 添加一个 <code class=\"docutils literal\"><span class=\"pre\">filter</span> <span class=\"pre\">handler</span></code>。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><br/></td></tr><tr class=\"field-even field\"><th class=\"field-name\">返回:</th><td class=\"field-body\"><p class=\"first last\">None</p></td></tr></tbody></table></li><li><p><strong>token</strong> – 微信公众号设置的 token <strong>(deprecated)</strong></p></li><li><p><strong>enable_session</strong> – 是否开启 session <strong>(deprecated)</strong></p></li><li><p><strong>session_storage</strong> – 用来储存 session 的对象，如果为 <code class=\"docutils literal\"><span class=\"pre\">None</span></code>， &nbsp; &nbsp;将使用 werobot.session.sqlitestorage.SQLiteStorage <strong>(deprecated)</strong></p></li><li><p><strong>app_id</strong> – 微信公众号设置的 app id <strong>(deprecated)</strong></p></li><li><p><strong>app_secret</strong> – 微信公众号设置的 app secret <strong>(deprecated)</strong></p></li><li><p><strong>encoding_aes_key</strong> – 用来加解密消息的 aes key <strong>(deprecated)</strong></p></li><li><p><strong>logger</strong> – 用来输出 log 的 logger，如果是 <code class=\"docutils literal\"><span class=\"pre\">None</span></code>，将使用 werobot.logger</p></li><li><p><strong>config</strong> – 用来设置的 <a class=\"reference internal\" href=\"https://werobot.readthedocs.io/zh_CN/latest/api.html#werobot.config.Config\" title=\"werobot.config.Config\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">werobot.config.Config</span></code></a> 对象</p></li></ul></ul><ul class=\"class list-paddingleft-2\"><li><p><em class=\"property\">class </em><code class=\"descclassname\">werobot.robot.</code><code class=\"descname\">WeRoBot</code><span class=\"sig-paren\">(</span><em>token=None</em>, <em>logger=None</em>, <em>enable_session=None</em>, <em>session_storage=None</em>, <em>app_id=None</em>, <em>app_secret=None</em>, <em>encoding_aes_key=None</em>, <em>config=None</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span></p></li><li><p>WeRoBot 是一个继承自 BaseRoBot 的对象，在 BaseRoBot 的基础上使用了 bottle 框架，\r\n提供接收微信服务器发来的请求的功能。</p></li><ul class=\"first last simple list-paddingleft-2\" style=\"list-style-type: square;\"><li><p><strong>server</strong> – 传递给 Bottle 框架 run 方法的参数，详情见 &nbsp; &nbsp; &nbsp; &nbsp;<a class=\"reference external\" href=\"https://bottlepy.org/docs/dev/deployment.html#switching-the-server-backend\">bottle 文档</a></p></li><li><p><strong>host</strong> – 运行时绑定的主机地址</p></li><li><p><strong>port</strong> – 运行时绑定的主机端口</p></li><li><p><strong>enable_pretty_logging</strong> – 是否开启 log 的输出格式优化</p></li><li><p><code class=\"descname\">run</code><span class=\"sig-paren\">(</span><em>server=None</em>, <em>host=None</em>, <em>port=None</em>, <em>enable_pretty_logging=True</em><span class=\"sig-paren\">)</span></p></li><li><p>运行 WeRoBot。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><br/></td></tr></tbody></table></li></ul></ul><p><span id=\"id2\"></span></p><h2>配置对象</h2><ul class=\"class list-paddingleft-2\"><li><p><em class=\"property\">class </em><code class=\"descclassname\">werobot.config.</code><code class=\"descname\">Config</code></p></li><li><p><br/></p></li><ul class=\"method list-paddingleft-2\" style=\"list-style-type: square;\"><li><p><code class=\"descname\">from_pyfile</code><span class=\"sig-paren\">(</span><em>filename</em><span class=\"sig-paren\">)</span></p></li><li><p>在一个 Python 文件中读取配置。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><strong>filename</strong> – 配置文件的文件名</td></tr><tr class=\"field-even field\"><th class=\"field-name\">返回:</th><td class=\"field-body\">如果读取成功，返回 <code class=\"docutils literal\"><span class=\"pre\">True</span></code>，如果失败，会抛出错误异常</td></tr></tbody></table></li><li><p><code class=\"descname\">from_object</code><span class=\"sig-paren\">(</span><em>obj</em><span class=\"sig-paren\">)</span></p></li><li><p>在给定的 Python 对象中读取配置。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><strong>obj</strong> – 一个 Python 对象</td></tr></tbody></table></li></ul></ul><p><span id=\"session\"></span></p><h2>Session 对象</h2><ul class=\"class list-paddingleft-2\"><li><p><em class=\"property\">class </em><code class=\"descclassname\">werobot.session.sqlitestorage.</code><code class=\"descname\">SQLiteStorage</code><span class=\"sig-paren\">(</span><em>filename=&#39;werobot_session.sqlite3&#39;</em><span class=\"sig-paren\">)</span></p></li><li><p>SQLiteStorge 会把 Session 数据储存在一个 SQLite 数据库文件中</p><pre>import&nbsp;werobotfrom&nbsp;werobot.session.sqlitestorage&nbsp;import&nbsp;SQLiteStoragesession_storage&nbsp;=&nbsp;SQLiteStoragerobot&nbsp;=&nbsp;werobot.WeRoBot(token=&quot;token&quot;,&nbsp;enable_session=True,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session_storage=session_storage)</pre><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><strong>filename</strong> – SQLite数据库的文件名, 默认是 <code class=\"docutils literal\"><span class=\"pre\">werobot_session.sqlite3</span></code></td></tr></tbody></table></li></ul><p><span class=\"target\" id=\"module-werobot.session.filestorage\"></span></p><ul class=\"class list-paddingleft-2\"><li><p><em class=\"property\">class </em><code class=\"descclassname\">werobot.session.filestorage.</code><code class=\"descname\">FileStorage</code><span class=\"sig-paren\">(</span><em>filename=&#39;werobot_session&#39;</em><span class=\"sig-paren\">)</span></p></li><li><p>FileStorage 会把你的 Session 数据以 dbm 形式储存在文件中。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><strong>filename</strong> – 文件名， 默认为 <code class=\"docutils literal\"><span class=\"pre\">werobot_session</span></code></td></tr></tbody></table></li></ul><p><span class=\"target\" id=\"module-werobot.session.mongodbstorage\"></span></p><ul class=\"class list-paddingleft-2\"><li><p><em class=\"property\">class </em><code class=\"descclassname\">werobot.session.mongodbstorage.</code><code class=\"descname\">MongoDBStorage</code><span class=\"sig-paren\">(</span><em>collection</em><span class=\"sig-paren\">)</span></p></li><li><p>MongoDBStorage 会把你的 Session 数据储存在一个 MongoDB Collection 中</p><pre>import&nbsp;pymongoimport&nbsp;werobotfrom&nbsp;werobot.session.mongodbstorage&nbsp;import&nbsp;MongoDBStoragecollection&nbsp;=&nbsp;pymongo.MongoClient()[&quot;wechat&quot;][&quot;session&quot;]session_storage&nbsp;=&nbsp;MongoDBStorage(collection)robot&nbsp;=&nbsp;werobot.WeRoBot(token=&quot;token&quot;,&nbsp;enable_session=True,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session_storage=session_storage)</pre><p>你需要安装 <code class=\"docutils literal\"><span class=\"pre\">pymongo</span></code> 才能使用 MongoDBStorage 。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><strong>collection</strong> – 一个 MongoDB Collection。</td></tr></tbody></table></li></ul><p><span class=\"target\" id=\"module-werobot.session.redisstorage\"></span></p><ul class=\"class list-paddingleft-2\"><li><p><em class=\"property\">class </em><code class=\"descclassname\">werobot.session.redisstorage.</code><code class=\"descname\">RedisStorage</code><span class=\"sig-paren\">(</span><em>redis</em>, <em>prefix=&#39;ws_&#39;</em><span class=\"sig-paren\">)</span></p></li><li><p>RedisStorage 会把你的 Session 数据储存在 Redis 中</p><pre>import&nbsp;redisimport&nbsp;werobotfrom&nbsp;werobot.session.redisstorage&nbsp;import&nbsp;RedisStoragedb&nbsp;=&nbsp;redis.Redis()session_storage&nbsp;=&nbsp;RedisStorage(db,&nbsp;prefix=&quot;my_prefix_&quot;)robot&nbsp;=&nbsp;werobot.WeRoBot(token=&quot;token&quot;,&nbsp;enable_session=True,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session_storage=session_storage)</pre><p>你需要安装 <code class=\"docutils literal\"><span class=\"pre\">redis</span></code> 才能使用 RedisStorage 。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><br/></td></tr></tbody></table></li><ul class=\"first last simple list-paddingleft-2\" style=\"list-style-type: square;\"><li><p><strong>redis</strong> – 一个 Redis Client。</p></li><li><p><strong>prefix</strong> – Reids 中 Session 数据 key 的 prefix 。默认为 <code class=\"docutils literal\"><span class=\"pre\">ws_</span></code></p></li></ul></ul><p><span class=\"target\" id=\"module-werobot.session.saekvstorage\"></span></p><ul class=\"class list-paddingleft-2\"><li><p><em class=\"property\">class </em><code class=\"descclassname\">werobot.session.saekvstorage.</code><code class=\"descname\">SaeKVDBStorage</code><span class=\"sig-paren\">(</span><em>prefix=&#39;ws_&#39;</em><span class=\"sig-paren\">)</span></p></li><li><p>SaeKVDBStorage 使用SAE 的 KVDB 来保存你的session</p><pre>import&nbsp;werobotfrom&nbsp;werobot.session.saekvstorage&nbsp;import&nbsp;SaeKVDBStoragesession_storage&nbsp;=&nbsp;SaeKVDBStorage()robot&nbsp;=&nbsp;werobot.WeRoBot(token=&quot;token&quot;,&nbsp;enable_session=True,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session_storage=session_storage)</pre><p>需要先在后台开启 KVDB 支持</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"><strong>prefix</strong> – KVDB 中 Session 数据 key 的 prefix 。默认为 <code class=\"docutils literal\"><span class=\"pre\">ws_</span></code></td></tr></tbody></table></li></ul><p><span id=\"log\"></span></p><h2>log</h2><ul class=\"function list-paddingleft-2\"><li><p><code class=\"descclassname\">werobot.logger.</code><code class=\"descname\">enable_pretty_logging</code><span class=\"sig-paren\">(</span><em>logger</em>, <em>level=&#39;info&#39;</em><span class=\"sig-paren\">)</span></p></li><li><p>按照配置开启 log 的格式化优化。</p><table class=\"docutils field-list\" frame=\"void\" rules=\"none\"><colgroup><col class=\"field-name\"/><col class=\"field-body\"/></colgroup><tbody valign=\"top\"><tr class=\"field-odd field firstRow\"><th class=\"field-name\">参数:</th><td class=\"field-body\"></td></tr></tbody></table></li><ul class=\"first last simple list-paddingleft-2\" style=\"list-style-type: square;\"><li><p><strong>logger</strong> – 配置的 logger 对象</p></li><li><p><strong>level</strong> – 要为 logger 设置的等级</p></li></ul></ul><p><br/></p><p>https://werobot.readthedocs.io/zh_CN/latest/api.html</p>','2017-05-27 07:32:06.801015','2017-05-27 07:32:06.801015',1,0,0,0,1,1,'uploads/blog/images/default.jpg',1),(5,'SDK开发和设计','<p style=\"line-height: 16px;\">SDK开发和设计；</p><p><br/>sdk，又称api，作为一种软件产品为程序员所熟知，为非程序员所陌生。<br/>sdk作为一个对内面向程序员，对外面向程序员的产品，有着非常独特的开发和设计特点。sdk比任何一门语言都更像一门语言，完成程序员之间的交流。<br/>sdk开发者清楚程序员需要的是什么。<br/>一份可用的文档：<br/>什么是可用的文档呢？准确。<br/>程序员是一个很特殊的个体，不想写文档，但是又希望别的程序员提供文档，而且是高质量的可用的文档。优秀程序员为什么不愿意写文档呢，很简单，优秀的程序员一直秉持的一个编程信念就是：减少重复，而文档首先就是代码的重复。（其实注释也是一样的，优秀的程序员同样不喜欢写注释）。代码需要维护，文档同样需要维护，而这个持续的重复过程对有原则（减少重复）的优秀程序员来说是折磨。（没有人愿意持续违背自己的原则）。有鉴于此，没有文档，或者文档不能及时维护，就非常的普遍。那么我们可以理解为文档不可用，首先不能保证是准确的。<br/>作为优秀的sdk开发人员，对此是游刃有余的（提供文档，并非sdk的开发人员不够优秀，其实也是无奈）。sdk的开发人员必须提供一份可用的文档，就像必须要有sdk一样。那么sdk的开发人员怎么解决这个问题呢？<br/>1 文档从代码中自动化生成。这个不同的语言和平台有不同的方式方法，不做赘述。优秀的程序员首先考虑的是让自己的所有工作自动化，写文档这么low的事情肯定要自动化完成。文档主要来源于代码注释，刚刚提到优秀的程序员不喜欢写注释时不准确的，优秀的程序员不希望浪费自己的注释，必要的注释也是优秀程序员乐于撰写的。而这必要的注释首先就是公开部分的文档生成来源。<br/>2 文档第一个读者。优秀的sdk开发人员是sdk的第一个使用者，也是文档的第一个读者。这个很重要，为什么这么说呢？sdk的开发人员清楚自己面向的是开发人员，加上开发人员有一种“文人相轻”的心态，总是不免降低姿态，考虑一个很low的程序员读自己的文档是否清楚的样子。因此优秀的sdk开发人员会积极的阅读自己的文档，以确保一个并不是很擅长编程的程序员也能使用sdk。<br/>3 精简的文档。维护文档的工作量和文档的大小是成正比的。一个优秀的sdk开发人员会尽量减少文档的内容。其实这里的减少，不是裁剪，而是精简。减少重复，避免冗余，整洁的代码是这样的，优秀的程序员面对文档也是这个态度。<br/>4 其实优秀的sdk开发人员这么尽职尽责的维护一份优秀的文档还有另外一个原因，避免使用人员的打扰。程序员是一个十分讨厌深恶痛绝被打扰的群体，（这是职业病，而且很重）。因此sdk的程序员宁可花一点时间维护好文档，减少不必要的麻烦。<br/><br/>一份可用的示例代码：<br/>其实文档是首要的，但是不是必须的，大部分是无用的。这话只有程序员明白。开发文档大部分时候就像牛津大字典一样，大部分人不会先去背诵牛津大字典，然后再去读文章，读文章发现单词去查就好了。那么一份可用的示例代码就尤为重要。<br/>什么是可用的示例代码呢？准确。<br/>又一次提到准确，我也很意外，但是事实如此。程序员从网上拷贝代码已经不是什么稀罕的事情了，甚至无可厚非。那么写出一份可以供程序员拷贝的代码，真的还是很有技术含量的。不要笑，示例代码就是这样一份代码，它经常被拿来拷贝。程序员使用示例代码，第一是F5(对不起，我用vc太久了)，第二是control＋c、control＋v。因此示例代码无需任何处理，可以运行，不需要任何改变，直接可以拷贝，那真是太理想了。<br/>作为优秀的sdk开发人员，对此是游刃有余的。这里我们采用和文档逆序的方式来述说吧。<br/>1 程序员首先是害怕被别人打扰的，那么花时间维护一份可用的示例代码，而后就可以专心继续码代码而不被人打扰，真是一劳永逸。无奈有时候催生出好的产品。因此优秀程序员算清楚了这笔账，他乐于写出一份高效的示例程序。如果其他程序员使用了，神马，已经上线了，好吧，哈哈！<br/>2 好的示例代码是符合优秀编程规范的。示例代码也是代码，优秀的程序员不会看不起示例代码（的确有一些程序员看不起示例代码）。写出一份高质量的示例代码也是需要很高水准的。规范的命名，模块化，小函数，异常检测，。。。好吧，其实我在编程，我在写代码，我喜欢写代码。<br/>3 优秀的示例代码会弥补文档的缺陷。有时候文档是注释生成的，经常是干巴巴的接口描述。而优秀的示例代码会在进行接口调用的过程中通过清晰的代码结构和必要的说明来让其他程序员看清楚调用过程。并且对一些代码注意事项进行必要说明。<br/><br/>一份可用的接口：<br/>好吧，sdk程序员终于可以做点程序员该做的事情了。那么一份可用的接口是什么样的呢？<br/>好吧，其实只要优秀的设计就好了，真的没有开玩笑。<br/>设计一个类，应该怎么设计呢，设计一个模块应该怎么设计呢，一个sdk也是。<br/>相信有太多的书籍告诉我们怎么写出优秀的代码，一个可用的sdk接口首先是一个优秀的设计。这里我只想强调几个地方：<br/>1 简，少。尽可能少，用其极。接口数量越少越好，接口参数越少越好，调用流程越少越好。越少越好，一是后续维护更加方便，少，需要维护的就少，文档改变就少，示例代码调整就少。另一方面，开发者用起来真是方便极了。没有买卖就没有伤害，精简的sdk让大家出bug的机会都少了好多。<br/>2 自说明的代码。有时候真的可以没有注释和文档，好的程序是自说明的。我们不排除一些程序员连示例代码也没有看，就看着接口名称就开始写代码了。<br/>3 提前报警。使用一些编程术语，让开发者在编程过程就发现错误，在调试阶段就暴露问题，施主功德无量啊。以c＋＋为例，我想说const再怎么使用也不过分，我在写接口参数时先写上这个关键字，然后再考虑是否要去掉。<br/><br/>以己度人，sdk的开发人员，也许没有面对可恶的产品经理，变态的用户，但是在一个柳暗花明的地方遇见的是自己。<br/><br/><img style=\"vertical-align: middle; margin-right: 2px;\" src=\"http://127.0.0.1:8000/static/ueditor/dialogs/attachment/fileTypeImages/icon_txt.gif\"/><a style=\"font-size:12px; color:#0066cc;\" href=\"http://127.0.0.1:8000/media/uploads/files/SDK%E5%BC%80%E5%8F%91%E5%92%8C%E8%AE%BE%E8%AE%A1_20170530092629.txt\" title=\"SDK开发和设计.txt\">SDK开发和设计.txt<br/></a></p><p style=\"line-height: 16px;\"><a style=\"font-size:12px; color:#0066cc;\" href=\"http://127.0.0.1:8000/media/uploads/files/SDK%E5%BC%80%E5%8F%91%E5%92%8C%E8%AE%BE%E8%AE%A1_20170530092629.txt\" title=\"SDK开发和设计.txt\"><br/></a></p><p><br/></p>','2017-05-30 01:27:49.026807','2017-05-30 01:27:49.026807',1,0,0,0,1,1,'uploads/blog/images/default.jpg',0),(6,'BeautifulSoup 教程','<h1>Beautiful Soup 中文文档</h1><p>原文 by <a href=\"http://www.crummy.com/\">Leonard Richardson</a>(leonardr@segfault.org)<br/>翻译 by <a href=\"http://hi.baidu.com/javalang\">Richie Yan</a>(richieyan@gmail.com)<br/>###如果有些翻译的不准确或者难以理解，直接看例子吧。###<br/><br/><br/>英文原文点<a href=\"http://www.crummy.com/software/BeautifulSoup/documentation.html\">这里</a></p><p><a href=\"http://www.crummy.com/software/BeautifulSoup/\">Beautiful\r\nSoup</a> 是用Python写的一个HTML/XML的解析器，它可以很好的处理不规范标记并生成剖析树(parse tree)。\r\n它提供简单又常用的导航（navigating），搜索以及修改剖析树的操作。它可以大大节省你的编程时间。 \r\n对于Ruby，使用<a href=\"http://www.crummy.com/software/RubyfulSoup/\">Rubyful Soup</a>。</p><p>这个文档说明了Beautiful Soup 3.0主要的功能特性，并附有例子。\r\n从中你可以知道这个库有哪些好处，它是怎样工作的，\r\n怎样让它帮做你想做的事以及你该怎样做当它做的和你期待不一样。</p><h2>目录</h2><ul class=\" list-paddingleft-2\"><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Quick%20Start\">快速开始</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Parsing%20a%20Document\">剖析文档</a></p></li><ul style=\"list-style-type: square;\" class=\" list-paddingleft-2\"><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Parsing%20HTML\">剖析 HTML</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Parsing%20XML\">剖析 XML</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#If%20That%20Doesn%27t%20Work\">如果它不工作</a></p></li></ul><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Beautiful%20Soup%20Gives%20You%20Unicode,%20Dammit\">使用Unicode的Beautiful Soup, Dammit</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Printing%20a%20Document\">输出文档</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#The%20Parse%20Tree\">剖析树</a></p></li><ul style=\"list-style-type: square;\" class=\" list-paddingleft-2\"><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#The%20attributes%20of%20Tags\"><code>Tag</code>s的属性</a></p></li></ul><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Navigating%20the%20Parse%20Tree\">Navigating 剖析树</a></p></li><ul style=\"list-style-type: square;\" class=\" list-paddingleft-2\"><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#parent\"><code>parent</code></a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#contents\"><code>contents</code></a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#string\"><code>string</code></a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#nextSibling%20and%20previousSibling\"><code>nextSibling</code> and <code>previousSibling</code></a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#next%20and%20previous\"><code>next</code> and <code>previous</code></a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Iterating%20over%20a%20Tag\">遍历<code>Tag</code></a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Using%20tag%20names%20as%20members\">使用标签名作为成员</a></p></li></ul><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Searching%20the%20Parse%20Tree\">Searching 剖析树</a></p></li><ul style=\"list-style-type: square;\" class=\" list-paddingleft-2\"><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#The%20basic%20find%20method:%20findAll%28name,%20attrs,%20recursive,%20text,%20limit,%20**kwargs%29\">The basic find method: <code>findAll(name, attrs, recursive, text, limit, **kwargs)</code></a></p></li><ul class=\" list-paddingleft-2\"><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Searching%20by%20CSS%20class\">使用CSS类查找</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Calling%20a%20tag%20is%20like%20calling%20findall\">像 <code>findall</code>一样调用tag</a></p></li></ul><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#find%28name,%20attrs,%20recursive,%20text,%20**kwargs%29\"><code>find(name, attrs, recursive, text, **kwargs)</code></a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#What%20happened%20to%20first?\"><code>first</code>哪里去了?</a></p></li></ul><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Searching%20Within%20the%20Parse%20Tree\">Searching 剖析树内部</a></p></li><ul style=\"list-style-type: square;\" class=\" list-paddingleft-2\"><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#findNextSiblings%28name,%20attrs,%20text,%20limit,%20**kwargs%29%20and%20findNextSibling%28name,%20attrs,%20text,%20**kwargs%29\"><code>findNextSiblings(name, attrs, text, limit, **kwargs)</code> and <code>findNextSibling(name, attrs, text, **kwargs)</code></a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#findPreviousSiblings%28name,%20attrs,%20text,%20limit,%20**kwargs%29%20and%20findPreviousSibling%28name,%20attrs,%20text,%20**kwargs%29\"><code>findPreviousSiblings(name, attrs, text, limit, **kwargs)</code> and <code>findPreviousSibling(name, attrs, text, **kwargs)</code></a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#findAllNext%28name,%20attrs,%20text,%20limit,%20**kwargs%29%20and%20findNext%28name,%20attrs,%20text,%20**kwargs%29\"><code>findAllNext(name, attrs, text, limit, **kwargs)</code> and <code>findNext(name, attrs, text, **kwargs)</code></a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#findAllPrevious%28name,%20attrs,%20text,%20limit,%20**kwargs%29%20and%20findPrevious%28name,%20attrs,%20text,%20**kwargs%29\"><code>findAllPrevious(name, attrs, text, limit, **kwargs)</code> and <code>findPrevious(name, attrs, text, **kwargs)</code></a></p></li></ul><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Modifying%20the%20Parse%20Tree\">Modifying 剖析树</a></p></li><ul style=\"list-style-type: square;\" class=\" list-paddingleft-2\"><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Changing%20attribute%20values\">改变属性值</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Removing%20elements\">删除元素</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Replacing%20one%20Element%20with%20Another\">替换元素</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Adding%20a%20Brand%20New%20Element\">添加新元素</a></p></li></ul><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Troubleshooting\">常见问题(Troubleshooting)</a></p></li><ul style=\"list-style-type: square;\" class=\" list-paddingleft-2\"><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Why%20can%27t%20Beautiful%20Soup%20print%20out%20the%20non-ASCII%20characters%20I%20gave%20it?\">为什么Beautiful Soup不能打印我的no-ASCII字符?</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Beautiful%20Soup%20loses%20the%20data%20I%20fed%20it%21%20Why?%20WHY?????\">Beautiful Soup 弄丢了我给的数据!为什么?为什么?????</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Beautiful%20Soup%20is%20too%20slow%21\">Beautiful Soup 太慢了!</a></p></li></ul><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Advanced%20Topics\">高级主题</a></p></li><ul style=\"list-style-type: square;\" class=\" list-paddingleft-2\"><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Generators\">产生器(Generators)</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Other%20Built-In%20Parsers\">其他的内部剖析器</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Customizing%20the%20Parser\">定制剖析器(Parser)</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Entity%20Conversion\">实体转换</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Sanitizing%20Bad%20Data%20with%20Regexps\">使用正则式处理糟糕的数据</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Fun%20With%20SoupStrainers\">玩玩<code>SoupStrainer</code>s</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Improving%20Performance%20by%20Parsing%20Only%20Part%20of%20the%20Document\">通过剖析部分文档来提升效率</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Improving%20Memory%20Usage%20with%20extract\">使用<code>extract</code>改进内存使用</a></p></li></ul><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#See%20Also\">其它</a></p></li><ul style=\"list-style-type: square;\" class=\" list-paddingleft-2\"><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Applications%20that%20use%20Beautiful%20Soup\">使用Beautiful Soup的其他应用</a></p></li><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Similar%20libraries\">类似的库</a></p></li></ul><li><p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Conclusion\">小结</a></p></li></ul><p><a name=\"Quick Start\"></a></p><h2>快速开始</h2><p>从<a href=\"http://www.crummy.com/software/BeautifulSoup/#Download/\">这里</a>获得 Beautiful Soup。 \r\n<a href=\"http://www.crummy.com/software/BeautifulSoup/CHANGELOG.html\">变更日志</a>描述了3.0 版本与之前版本的不同。</p><p>在程序中中导入 Beautiful Soup库:</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;For&nbsp;processing&nbsp;HTMLfrom&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulStoneSoup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;For&nbsp;processing&nbsp;XMLimport&nbsp;BeautifulSoup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;To&nbsp;get&nbsp;everything</pre><p>下面的代码是Beautiful Soup基本功能的示范。你可以复制粘贴到你的python文件中，自己运行看看。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupimport&nbsp;redoc&nbsp;=&nbsp;[&#39;&lt;html&gt;&lt;head&gt;&lt;title&gt;Page&nbsp;title&lt;/title&gt;&lt;/head&gt;&#39;,&#39;&lt;body&gt;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&#39;,&#39;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&#39;,&#39;&lt;/html&gt;&#39;]soup&nbsp;=&nbsp;BeautifulSoup(&#39;&#39;.join(doc))print&nbsp;soup.prettify()#&nbsp;&lt;html&gt;#&nbsp;&nbsp;&lt;head&gt;#&nbsp;&nbsp;&nbsp;&lt;title&gt;#&nbsp;&nbsp;&nbsp;&nbsp;Page&nbsp;title#&nbsp;&nbsp;&nbsp;&lt;/title&gt;#&nbsp;&nbsp;&lt;/head&gt;#&nbsp;&nbsp;&lt;body&gt;#&nbsp;&nbsp;&nbsp;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;#&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;paragraph#&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;.#&nbsp;&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;#&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;paragraph#&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;two#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;.#&nbsp;&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&nbsp;&lt;/body&gt;#&nbsp;&lt;/html&gt;</pre><p>navigate soup的一些方法:</p><pre>soup.contents[0].name#&nbsp;u&#39;html&#39;soup.contents[0].contents[0].name#&nbsp;u&#39;head&#39;head&nbsp;=&nbsp;soup.contents[0].contents[0]head.parent.name#&nbsp;u&#39;html&#39;head.next#&nbsp;&lt;title&gt;Page&nbsp;title&lt;/title&gt;head.nextSibling.name#&nbsp;u&#39;body&#39;head.nextSibling.contents[0]#&nbsp;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;head.nextSibling.contents[0].nextSibling#&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;</pre><p>下面是一些方法搜索soup，获得特定标签或有着特定属性的标签：</p><pre>titleTag&nbsp;=&nbsp;soup.html.head.titletitleTag#&nbsp;&lt;title&gt;Page&nbsp;title&lt;/title&gt;titleTag.string#&nbsp;u&#39;Page&nbsp;title&#39;len(soup(&#39;p&#39;))#&nbsp;2soup.findAll(&#39;p&#39;,&nbsp;align=&quot;center&quot;)#&nbsp;[&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&nbsp;&lt;/p&gt;]soup.find(&#39;p&#39;,&nbsp;align=&quot;center&quot;)#&nbsp;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&nbsp;&lt;/p&gt;soup(&#39;p&#39;,&nbsp;align=&quot;center&quot;)[0][&#39;id&#39;]#&nbsp;u&#39;firstpara&#39;soup.find(&#39;p&#39;,&nbsp;align=re.compile(&#39;^b.*&#39;))[&#39;id&#39;]#&nbsp;u&#39;secondpara&#39;soup.find(&#39;p&#39;).b.string#&nbsp;u&#39;one&#39;soup(&#39;p&#39;)[1].b.string#&nbsp;u&#39;two&#39;</pre><p>修改soup也很简单：</p><pre>titleTag[&#39;id&#39;]&nbsp;=&nbsp;&#39;theTitle&#39;titleTag.contents[0].replaceWith(&quot;New&nbsp;title&quot;)soup.html.head#&nbsp;&lt;head&gt;&lt;title&nbsp;id=&quot;theTitle&quot;&gt;New&nbsp;title&lt;/title&gt;&lt;/head&gt;soup.p.extract()soup.prettify()#&nbsp;&lt;html&gt;#&nbsp;&nbsp;&lt;head&gt;#&nbsp;&nbsp;&nbsp;&lt;title&nbsp;id=&quot;theTitle&quot;&gt;#&nbsp;&nbsp;&nbsp;&nbsp;New&nbsp;title#&nbsp;&nbsp;&nbsp;&lt;/title&gt;#&nbsp;&nbsp;&lt;/head&gt;#&nbsp;&nbsp;&lt;body&gt;#&nbsp;&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;#&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;paragraph#&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;two#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;.#&nbsp;&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&nbsp;&lt;/body&gt;#&nbsp;&lt;/html&gt;soup.p.replaceWith(soup.b)#&nbsp;&lt;html&gt;#&nbsp;&nbsp;&lt;head&gt;#&nbsp;&nbsp;&nbsp;&lt;title&nbsp;id=&quot;theTitle&quot;&gt;#&nbsp;&nbsp;&nbsp;&nbsp;New&nbsp;title#&nbsp;&nbsp;&nbsp;&lt;/title&gt;#&nbsp;&nbsp;&lt;/head&gt;#&nbsp;&nbsp;&lt;body&gt;#&nbsp;&nbsp;&nbsp;&lt;b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;two#&nbsp;&nbsp;&nbsp;&lt;/b&gt;#&nbsp;&nbsp;&lt;/body&gt;#&nbsp;&lt;/html&gt;soup.body.insert(0,&nbsp;&quot;This&nbsp;page&nbsp;used&nbsp;to&nbsp;have&nbsp;&quot;)soup.body.insert(2,&nbsp;&quot;&nbsp;&amp;lt;p&amp;gt;&nbsp;tags!&quot;)soup.body#&nbsp;&lt;body&gt;This&nbsp;page&nbsp;used&nbsp;to&nbsp;have&nbsp;&lt;b&gt;two&lt;/b&gt;&nbsp;&amp;lt;p&amp;gt;&nbsp;tags!&lt;/body&gt;</pre><p>一个实际例子，用于抓取 <a href=\"http://www.icc-ccs.org/prc/piracyreport.php\">ICC Commercial\r\nCrime Services weekly piracy report</a>页面, 使用Beautiful Soup剖析并获得发生的盗版事件:</p><pre>import&nbsp;urllib2from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSouppage&nbsp;=&nbsp;urllib2.urlopen(&quot;http://www.icc-ccs.org/prc/piracyreport.php&quot;)soup&nbsp;=&nbsp;BeautifulSoup(page)for&nbsp;incident&nbsp;in&nbsp;soup(&#39;td&#39;,&nbsp;width=&quot;90%&quot;):where,&nbsp;linebreak,&nbsp;what&nbsp;=&nbsp;incident.contents[:3]print&nbsp;where.strip()print&nbsp;what.strip()print</pre><p><a name=\"Parsing a Document\"></a></p><h2>剖析文档</h2><p>Beautiful Soup使用XML或HTML文档以字符串的方式(或类文件对象)构造。\r\n它剖析文档并在内存中创建通讯的数据结构</p><p>如果你的文档格式是非常标准的，解析出来的数据结构正如你的原始文档。但是\r\n如果你的文档有问题，Beautiful Soup会使用heuristics修复可能的结构问题。<a name=\"Parsing HTML\"></a></p><h3><a name=\"Parsing HTML\"></a>剖析 HTML</h3><p>使用 <code>BeautifulSoup</code> 类剖析HTML文档。 <code>BeautifulSoup</code>会得出以下一些信息：</p><ul class=\" list-paddingleft-2\"><li><p>有些标签可以内嵌 (&lt;BLOCKQUOTE&gt;) ，有些不行 (&lt;P&gt;).</p></li><li><p>table和list标签有一个自然的内嵌顺序。例如，&lt;TD&gt; 标签内为 &lt;TR&gt; 标签，而不会相反。</p></li><li><p>&lt;SCRIPT&gt; 标签的内容不会被剖析为HTML。</p></li><li><p>&lt;META&gt; 标签可以知道文档的编码类型。</p></li></ul><p>这是运行例子:</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSouphtml&nbsp;=&nbsp;&quot;&lt;html&gt;&lt;p&gt;Para&nbsp;1&lt;p&gt;Para&nbsp;2&lt;blockquote&gt;Quote&nbsp;1&lt;blockquote&gt;Quote&nbsp;2&quot;soup&nbsp;=&nbsp;BeautifulSoup(html)print&nbsp;soup.prettify()#&nbsp;&lt;html&gt;#&nbsp;&nbsp;&lt;p&gt;#&nbsp;&nbsp;&nbsp;Para&nbsp;1#&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&nbsp;&lt;p&gt;#&nbsp;&nbsp;&nbsp;Para&nbsp;2#&nbsp;&nbsp;&nbsp;&lt;blockquote&gt;#&nbsp;&nbsp;&nbsp;&nbsp;Quote&nbsp;1#&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Quote&nbsp;2#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;#&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;#&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&lt;/html&gt;</pre><p>注意：<code>BeautifulSoup</code> 会智能判断那些需要添加关闭标签的位置，即使原始的文档没有。</p><p>也就是说那个文档不是一个有效的HTML，但是它也不是太糟糕。下面是一个比较糟糕的文档。\r\n在一些问题中，它的&lt;FORM&gt;的开始在 &lt;TABLE&gt; 外面，结束在&lt;TABLE&gt;里面。\r\n(这种HTML在一些大公司的页面上也屡见不鲜)</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSouphtml&nbsp;=&nbsp;&quot;&quot;&quot;&lt;html&gt;&lt;form&gt;&lt;table&gt;&lt;td&gt;&lt;input&nbsp;name=&quot;input1&quot;&gt;Row&nbsp;1&nbsp;cell&nbsp;1&lt;tr&gt;&lt;td&gt;Row&nbsp;2&nbsp;cell&nbsp;1&lt;/form&gt;&lt;td&gt;Row&nbsp;2&nbsp;cell&nbsp;2&lt;br&gt;This&lt;/br&gt;&nbsp;sure&nbsp;is&nbsp;a&nbsp;long&nbsp;cell&lt;/body&gt;&lt;/html&gt;&quot;&quot;&quot;</pre><p>Beautiful Soup 也可以处理这个文档：</p><pre>print&nbsp;BeautifulSoup(html).prettify()#&nbsp;&lt;html&gt;#&nbsp;&nbsp;&lt;form&gt;#&nbsp;&nbsp;&nbsp;&lt;table&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;name=&quot;input1&quot;&nbsp;/&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Row&nbsp;1&nbsp;cell&nbsp;1#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Row&nbsp;2&nbsp;cell&nbsp;1#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;#&nbsp;&nbsp;&nbsp;&lt;/table&gt;#&nbsp;&nbsp;&lt;/form&gt;#&nbsp;&nbsp;&lt;td&gt;#&nbsp;&nbsp;&nbsp;Row&nbsp;2&nbsp;cell&nbsp;2#&nbsp;&nbsp;&nbsp;&lt;br&nbsp;/&gt;#&nbsp;&nbsp;&nbsp;This&nbsp;#&nbsp;&nbsp;&nbsp;sure&nbsp;is&nbsp;a&nbsp;long&nbsp;cell#&nbsp;&nbsp;&lt;/td&gt;#&nbsp;&lt;/html&gt;</pre><p>table的最后一个单元格已经在标签&lt;TABLE&gt;外了；Beautiful\r\nSoup 决定关闭&lt;TABLE&gt;标签当它在&lt;FORM&gt;标签哪里关闭了。\r\n写这个文档家伙原本打算使用&lt;FORM&gt;标签扩展到table的结尾，但是Beautiful Soup\r\n肯定不知道这些。即使遇到这样糟糕的情况, Beautiful Soup\r\n仍可以剖析这个不合格文档，使你开业存取所有数据。<a name=\"Parsing XML\"></a></p><h3><a name=\"Parsing XML\"></a>剖析 XML</h3><p><code>BeautifulSoup</code> 类似浏览器，是个具有启发性的类，可以尽可能的推测HTML文档作者的意图。\r\n但是XML没有固定的标签集合，因此这些启发式的功能没有作用。因此<code>BeautifulSoup</code>处理XML不是很好。</p><p>使用<code>BeautifulStoneSoup</code>类剖析XML文档。它是一个\r\n概括的类，没有任何特定的XML方言已经简单的标签内嵌规则。\r\n下面是范例：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulStoneSoupxml&nbsp;=&nbsp;&quot;&lt;doc&gt;&lt;tag1&gt;Contents&nbsp;1&lt;tag2&gt;Contents&nbsp;2&lt;tag1&gt;Contents&nbsp;3&quot;soup&nbsp;=&nbsp;BeautifulStoneSoup(xml)print&nbsp;soup.prettify()#&nbsp;&lt;doc&gt;#&nbsp;&nbsp;&lt;tag1&gt;#&nbsp;&nbsp;&nbsp;Contents&nbsp;1#&nbsp;&nbsp;&nbsp;&lt;tag2&gt;#&nbsp;&nbsp;&nbsp;&nbsp;Contents&nbsp;2#&nbsp;&nbsp;&nbsp;&lt;/tag2&gt;#&nbsp;&nbsp;&lt;/tag1&gt;#&nbsp;&nbsp;&lt;tag1&gt;#&nbsp;&nbsp;&nbsp;Contents&nbsp;3#&nbsp;&nbsp;&lt;/tag1&gt;#&nbsp;&lt;/doc&gt;</pre><p><code>BeautifulStoneSoup</code>的一个主要缺点就是它不知道如何处理<a name=\"selfClosingTags\"></a>自结束标签 。\r\nHTML 有固定的自结束标签集合，但是XML取决对应的DTD文件。你可以通过传递<code>selfClosingTags</code> 的参数的名字到<code>BeautifulStoneSoup</code>的构造器中，指定自结束标签:</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulStoneSoupxml&nbsp;=&nbsp;&quot;&lt;tag&gt;Text&nbsp;1&lt;selfclosing&gt;Text&nbsp;2&quot;print&nbsp;BeautifulStoneSoup(xml).prettify()#&nbsp;&lt;tag&gt;#&nbsp;&nbsp;Text&nbsp;1#&nbsp;&nbsp;&lt;selfclosing&gt;#&nbsp;&nbsp;&nbsp;Text&nbsp;2#&nbsp;&nbsp;&lt;/selfclosing&gt;#&nbsp;&lt;/tag&gt;print&nbsp;BeautifulStoneSoup(xml,&nbsp;selfClosingTags=[&#39;selfclosing&#39;]).prettify()#&nbsp;&lt;tag&gt;#&nbsp;&nbsp;Text&nbsp;1#&nbsp;&nbsp;&lt;selfclosing&nbsp;/&gt;#&nbsp;&nbsp;Text&nbsp;2#&nbsp;&lt;/tag&gt;</pre><p><a name=\"If That Doesn&#39;t Work\"></a></p><h3>如果它不工作</h3><p>这里有 <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Other%20Built-In%20Parsers\">一些其他的剖析类</a>使用与上述两个类不同的智能感应。\r\n你也可以<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Customizing%20the%20Parser\">子类化以及定制一个剖析器</a>使用你自己的智能感应方法。<a name=\"Beautiful Soup Gives You Unicode, Dammit\"></a></p><h2><a name=\"Beautiful Soup Gives You Unicode, Dammit\"></a>使用Unicode的Beautiful Soup，Dammit</h2><p>当你的文档被剖析之后，它就自动被转换为unicode。\r\nBeautiful Soup 只存储Unicode字符串。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupsoup&nbsp;=&nbsp;BeautifulSoup(&quot;Hello&quot;)soup.contents[0]#&nbsp;u&#39;Hello&#39;soup.originalEncoding#&nbsp;&#39;ascii&#39;</pre><p>使用UTF-8编码的日文文档例子：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupsoup&nbsp;=&nbsp;BeautifulSoup(&quot;\\xe3\\x81\\x93\\xe3\\x82\\x8c\\xe3\\x81\\xaf&quot;)soup.contents[0]#&nbsp;u&#39;\\u3053\\u308c\\u306f&#39;soup.originalEncoding#&nbsp;&#39;utf-8&#39;str(soup)#&nbsp;&#39;\\xe3\\x81\\x93\\xe3\\x82\\x8c\\xe3\\x81\\xaf&#39;#&nbsp;Note:&nbsp;this&nbsp;bit&nbsp;uses&nbsp;EUC-JP,&nbsp;so&nbsp;it&nbsp;only&nbsp;works&nbsp;if&nbsp;you&nbsp;have&nbsp;cjkcodecs#&nbsp;installed,&nbsp;or&nbsp;are&nbsp;running&nbsp;Python&nbsp;2.4.soup.__str__(&#39;euc-jp&#39;)#&nbsp;&#39;\\xa4\\xb3\\xa4\\xec\\xa4\\xcf&#39;</pre><p>Beautiful Soup 使用一个称为<code>UnicodeDammit</code>的类去来检测文档的编码，并将其转换为Unicode。\r\n如果你需要为其他文档（没有石油Beautiful Soup剖析过得文档）使用这转换，你也可以\r\n直接使用<code>UnicodeDammit</code>。\r\n它是基于<a href=\"http://www.feedparser.org/\">Universal Feed Parser</a>开发的。</p><p>如果你使用Python2.4之前的版本，请下载和安装<a href=\"http://cjkpython.i18n.org/\"><code>cjkcodecs</code>以及<code>iconvcodec</code></a>是python支持更多的编码，特别是CJK编码。要想更好地自动检测，\r\n你也要安装<a href=\"http://chardet.feedparser.org/\"><code>chardet</code></a></p><p>Beautiful Soup 会按顺序尝试不同的编码将你的文档转换为Unicode：</p><ul class=\" list-paddingleft-2\"><li><p>可以通过<code>fromEncoding</code>参数传递编码类型给soup的构造器</p></li><li><p>通过文档本身找到编码类型：例如XML的声明或者HTML文档<code>http-equiv</code>的META标签。\r\n如果Beautiful Soup在文档中发现编码类型，它试着使用找到的类型转换文档。\r\n但是，如果你明显的指定一个编码类型，\r\n并且成功使用了编码：这时它会忽略任何它在文档中发现的编码类型。</p></li><li><p>通过嗅探文件开头的一下数据，判断编码。如果编码类型可以被检测到，\r\n它将是这些中的一个：UTF-*编码，EBCDIC或者ASCII。</p></li><li><p>通过<a href=\"http://chardet.feedparser.org/\"><code>chardet</code></a>库,嗅探编码，如果你安装了这个库。</p></li><li><p>UTF-8</p></li><li><p>Windows-1252</p></li></ul><p>Beautiful Soup总是会猜对它可以猜测的。但是对于那些没有声明以及有着奇怪编码\r\n的文档，它会常常会失败。这时，它会选择Windows-1252编码，这个可能是错误的编码。\r\n下面是EUC-JP的例子，Beautiful Soup猜错了编码。(重申一下：因为它使用了EUC-JP， 这个例子只会在\r\npython 2.4或者你安装了<code>cjkcodecs</code>的情况下才工作。)：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupeuc_jp&nbsp;=&nbsp;&#39;\\xa4\\xb3\\xa4\\xec\\xa4\\xcf&#39;soup&nbsp;=&nbsp;BeautifulSoup(euc_jp)soup.originalEncoding#&nbsp;&#39;windows-1252&#39;str(soup)#&nbsp;&#39;\\xc2\\xa4\\xc2\\xb3\\xc2\\xa4\\xc3\\xac\\xc2\\xa4\\xc3\\x8f&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Wrong!</pre><p>但如果你使用<code>fromEncoding</code>参数指定编码，\r\n它可以正确的剖析文档，并可以将文档转换为UTF-8或者转回EUC-JP。</p><pre>soup&nbsp;=&nbsp;BeautifulSoup(euc_jp,&nbsp;fromEncoding=&quot;euc-jp&quot;)soup.originalEncoding#&nbsp;&#39;windows-1252&#39;str(soup)#&nbsp;&#39;\\xe3\\x81\\x93\\xe3\\x82\\x8c\\xe3\\x81\\xaf&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Right!soup.__str__(self,&nbsp;&#39;euc-jp&#39;)&nbsp;==&nbsp;euc_jp#&nbsp;True</pre><p>如果你指定Beautiful Soup使用 Windows-1252编码（或者类似的编码如ISO-8859-1，ISO-8859-2),\r\nBeautiful Soup会找到并破坏文档的smart quotes以及其他的Windows-specific 字符。\r\n这些字符不会转换为相应的Unicode,而是将它们变为HTML entities(<code>BeautifulSoup</code>) \r\n或者XML entitis(<code>BeautifulStoneSoup</code>)。</p><p>但是，你可以指定参数<code>smartQuotesTo=None</code> 到soup构造器：这时\r\nsmart quotes会被正确的转换为Unicode。你也可以指定<code>smartQuotesTo</code>为&quot;xml&quot;或&quot;html&quot;\r\n去改变<code>BeautifulSoup</code>和<code>BeautifulStoneSoup</code>的默认操作。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoup,&nbsp;BeautifulStoneSouptext&nbsp;=&nbsp;&quot;Deploy&nbsp;the&nbsp;\\x91SMART&nbsp;QUOTES\\x92!&quot;str(BeautifulSoup(text))#&nbsp;&#39;Deploy&nbsp;the&nbsp;&amp;lsquo;SMART&nbsp;QUOTES&amp;rsquo;!&#39;str(BeautifulStoneSoup(text))#&nbsp;&#39;Deploy&nbsp;the&nbsp;&amp;#x2018;SMART&nbsp;QUOTES&amp;#x2019;!&#39;str(BeautifulSoup(text,&nbsp;smartQuotesTo=&quot;xml&quot;))#&nbsp;&#39;Deploy&nbsp;the&nbsp;&amp;#x2018;SMART&nbsp;QUOTES&amp;#x2019;!&#39;BeautifulSoup(text,&nbsp;smartQuotesTo=None).contents[0]#&nbsp;u&#39;Deploy&nbsp;the&nbsp;\\u2018SMART&nbsp;QUOTES\\u2019!&#39;</pre><p><a name=\"Printing a Document\"></a></p><h2>输出文档</h2><p>你可以使用 <code>str</code>函数将Beautiful Soup文档（或者它的子集）转换为字符串，\r\n或者使用它的code&gt;prettify或<code>renderContents</code>。\r\n你也可以使用<code>unicode</code>函数以Unicode字符串的形式获得。</p><p><code>prettify</code> 方法添加了一些换行和空格以便让文档结构看起来更清晰。\r\n它也将那些只包含空白符的，可能影响一个XML文档意义的文档节点(nodes)剔除(strips out)。<code>str</code>和<code>unicode</code>函数不会剔除这些节点，他们也不会添加任何空白符。</p><p>看看这个例子：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupdoc&nbsp;=&nbsp;&quot;&lt;html&gt;&lt;h1&gt;Heading&lt;/h1&gt;&lt;p&gt;Text&quot;soup&nbsp;=&nbsp;BeautifulSoup(doc)str(soup)#&nbsp;&#39;&lt;html&gt;&lt;h1&gt;Heading&lt;/h1&gt;&lt;p&gt;Text&lt;/p&gt;&lt;/html&gt;&#39;soup.renderContents()#&nbsp;&#39;&lt;html&gt;&lt;h1&gt;Heading&lt;/h1&gt;&lt;p&gt;Text&lt;/p&gt;&lt;/html&gt;&#39;soup.__str__()#&nbsp;&#39;&lt;html&gt;&lt;h1&gt;Heading&lt;/h1&gt;&lt;p&gt;Text&lt;/p&gt;&lt;/html&gt;&#39;unicode(soup)#&nbsp;u&#39;&lt;html&gt;&lt;h1&gt;Heading&lt;/h1&gt;&lt;p&gt;Text&lt;/p&gt;&lt;/html&gt;&#39;soup.prettify()#&nbsp;&#39;&lt;html&gt;\\n&nbsp;&lt;h1&gt;\\n&nbsp;&nbsp;Heading\\n&nbsp;&lt;/h1&gt;\\n&nbsp;&lt;p&gt;\\n&nbsp;&nbsp;Text\\n&nbsp;&lt;/p&gt;\\n&lt;/html&gt;&#39;print&nbsp;soup.prettify()#&nbsp;&lt;html&gt;#&nbsp;&nbsp;&lt;h1&gt;#&nbsp;&nbsp;&nbsp;Heading#&nbsp;&nbsp;&lt;/h1&gt;#&nbsp;&nbsp;&lt;p&gt;#&nbsp;&nbsp;&nbsp;Text#&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&lt;/html&gt;</pre><p>可以看到使用文档中的tag成员时<code>str</code>和<code>renderContents</code>返回的结果是不同的。</p><pre>heading&nbsp;=&nbsp;soup.h1str(heading)#&nbsp;&#39;&lt;h1&gt;Heading&lt;/h1&gt;&#39;heading.renderContents()#&nbsp;&#39;Heading&#39;</pre><p>当你调用<code>__str__</code>,<code>prettify</code>或者<code>renderContents</code>时，\r\n你可以指定输出的编码。默认的编码(<code>str</code>使用的)是UTF-8。\r\n下面是处理ISO-8851-1的串并以不同的编码输出同样的串的例子。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupdoc&nbsp;=&nbsp;&quot;Sacr\\xe9&nbsp;bleu!&quot;soup&nbsp;=&nbsp;BeautifulSoup(doc)str(soup)#&nbsp;&#39;Sacr\\xc3\\xa9&nbsp;bleu!&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;UTF-8soup.__str__(&quot;ISO-8859-1&quot;)#&nbsp;&#39;Sacr\\xe9&nbsp;bleu!&#39;soup.__str__(&quot;UTF-16&quot;)#&nbsp;&#39;\\xff\\xfeS\\x00a\\x00c\\x00r\\x00\\xe9\\x00&nbsp;\\x00b\\x00l\\x00e\\x00u\\x00!\\x00&#39;soup.__str__(&quot;EUC-JP&quot;)#&nbsp;&#39;Sacr\\x8f\\xab\\xb1&nbsp;bleu!&#39;</pre><p>如果原始文档含有编码声明，Beautiful Soup会将原始的编码声明改为新的编码。\r\n也就是说，你载入一个HTML文档到<code>BeautifulSoup</code>后，在输出它，不仅HTML被清理\r\n过了，而且可以明显的看到它已经被转换为UTF-8。</p><p>这是HTML的例子：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupdoc&nbsp;=&nbsp;&quot;&quot;&quot;&lt;html&gt;&lt;meta&nbsp;http-equiv=&quot;Content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=ISO-Latin-1&quot;&nbsp;&gt;Sacr\\xe9&nbsp;bleu!&lt;/html&gt;&quot;&quot;&quot;print&nbsp;BeautifulSoup(doc).prettify()#&nbsp;&lt;html&gt;#&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;Content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&nbsp;/&gt;#&nbsp;&nbsp;Sacré&nbsp;bleu!#&nbsp;&lt;/html&gt;</pre><p>这是XML的例子：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulStoneSoupdoc&nbsp;=&nbsp;&quot;&quot;&quot;&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;ISO-Latin-1&quot;&gt;Sacr\\xe9&nbsp;bleu!&quot;&quot;&quot;print&nbsp;BeautifulStoneSoup(doc).prettify()#&nbsp;&lt;?xml&nbsp;version=&#39;1.0&#39;&nbsp;encoding=&#39;utf-8&#39;&gt;#&nbsp;Sacré&nbsp;bleu!</pre><p><a name=\"The Parse Tree\"></a></p><h2>剖析树</h2><p>到目前为止，我们只是载入文档，然后再输出它。\r\n现在看看更让我们感兴趣的剖析树：\r\nBeautiful Soup剖析一个文档后生成的数据结构。</p><p>剖析对象 (<code>BeautifulSoup</code>或<code>BeautifulStoneSoup</code>的实例)是深层嵌套(deeply-nested), \r\n精心构思的(well-connected)的数据结构，可以与XML和HTML结构相互协调。\r\n剖析对象包括2个其他类型的对象，<code>Tag</code>对象，\r\n用于操纵像&lt;TITLE&gt; ，&lt;B&gt;这样的标签；<code>NavigableString</code>对象，\r\n用于操纵字符串，如&quot;Page title&quot;和&quot;This is paragraph&quot;。</p><p><code>NavigableString</code>的一些子类 (<code>CData</code>,<code>Comment</code>, <code>Declaration</code>, and <code>ProcessingInstruction</code>), \r\n也处理特殊XML结构。 它们就像<code>NavigableString</code>一样, 除了但他们被输出时，\r\n他们会被添加一些额外的数据。下面是一个包含有注释(comment)的文档：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupimport&nbsp;rehello&nbsp;=&nbsp;&quot;Hello!&nbsp;&lt;!--I&#39;ve&nbsp;got&nbsp;to&nbsp;be&nbsp;nice&nbsp;to&nbsp;get&nbsp;what&nbsp;I&nbsp;want.--&gt;&quot;commentSoup&nbsp;=&nbsp;BeautifulSoup(hello)comment&nbsp;=&nbsp;commentSoup.find(text=re.compile(&quot;nice&quot;))comment.__class__#&nbsp;&lt;class&nbsp;&#39;BeautifulSoup.Comment&#39;&gt;comment#&nbsp;u&quot;I&#39;ve&nbsp;got&nbsp;to&nbsp;be&nbsp;nice&nbsp;to&nbsp;get&nbsp;what&nbsp;I&nbsp;want.&quot;comment.previousSibling#&nbsp;u&#39;Hello!&nbsp;&#39;str(comment)#&nbsp;&quot;&lt;!--I&#39;ve&nbsp;got&nbsp;to&nbsp;be&nbsp;nice&nbsp;to&nbsp;get&nbsp;what&nbsp;I&nbsp;want.--&gt;&quot;print&nbsp;commentSoup#&nbsp;Hello!&nbsp;&lt;!--I&#39;ve&nbsp;got&nbsp;to&nbsp;be&nbsp;nice&nbsp;to&nbsp;get&nbsp;what&nbsp;I&nbsp;want.--&gt;</pre><p>现在，我们深入<a name=\"The document above\"></a>研究一下我们开头使用的那个文档:</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupdoc&nbsp;=&nbsp;[&#39;&lt;html&gt;&lt;head&gt;&lt;title&gt;Page&nbsp;title&lt;/title&gt;&lt;/head&gt;&#39;,&#39;&lt;body&gt;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&#39;,&#39;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&#39;,&#39;&lt;/html&gt;&#39;]soup&nbsp;=&nbsp;BeautifulSoup(&#39;&#39;.join(doc))print&nbsp;soup.prettify()#&nbsp;&lt;html&gt;#&nbsp;&nbsp;&lt;head&gt;#&nbsp;&nbsp;&nbsp;&lt;title&gt;#&nbsp;&nbsp;&nbsp;&nbsp;Page&nbsp;title#&nbsp;&nbsp;&nbsp;&lt;/title&gt;#&nbsp;&nbsp;&lt;/head&gt;#&nbsp;&nbsp;&lt;body&gt;#&nbsp;&nbsp;&nbsp;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;#&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;paragraph#&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;.#&nbsp;&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;#&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;paragraph#&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;two#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;.#&nbsp;&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&nbsp;&lt;/body&gt;#&nbsp;&lt;/html&gt;</pre><p><a name=\"The attributes of Tags\"></a></p><h3><code>Tag</code>的属性</h3><p><code>Tag</code>和<code>NavigableString</code>对象有很多有用的成员，在<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Navigating%20the%20Parse%20Tree\">Navigating剖析树</a>和<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Searching%20the%20Parse%20Tree\">Searching剖析树</a>中我们会更详细的介绍。\r\n\r\n现在，我们先看看这里使用的<code>Tag</code>成员：属性</p><p>SGML标签有属性：.例如，在<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#The%20document%20above\">上面那个HTML</a>中每个&lt;P&gt;标签都有&quot;id&quot;属性和&quot;align&quot;属性。\r\n你可以将<code>Tag</code>看成字典来访问标签的属性：</p><pre>firstPTag,&nbsp;secondPTag&nbsp;=&nbsp;soup.findAll(&#39;p&#39;)firstPTag[&#39;id&#39;]#&nbsp;u&#39;firstPara&#39;secondPTag[&#39;id&#39;]#&nbsp;u&#39;secondPara&#39;</pre><p><code>NavigableString</code>对象没有属性;只有<code>Tag</code> 对象有属性。<a name=\"Navigating the Parse Tree\"></a></p><h2><a name=\"Navigating the Parse Tree\"></a>Navigating剖析树</h2><p><code>Tag</code> 对象都有如下含有所有的成员的列表(尽管，某些实际的成员值可能为<code>None</code>).<code>NavigableString</code>对象也有下面这些成员，除了<code>contents</code>和 <code>string</code>成员。<a name=\"parent\"></a></p><h3><a name=\"parent\"></a><code>parent</code></h3><p>上面那个 <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#The%20document%20above\">例子</a>中, \r\n&lt;HEAD&gt; <code>Tag</code>的parent是&lt;HTML&gt; <code>Tag</code>. &lt;HTML&gt;<code>Tag</code> 的parent是<code>BeautifulSoup</code> 剖析对象自己。 剖析对象的parent是<code>None</code>. \r\n利用<code>parent</code>，你可以向前遍历剖析树。</p><pre>soup.head.parent.name#&nbsp;u&#39;html&#39;soup.head.parent.parent.__class__.__name__#&nbsp;&#39;BeautifulSoup&#39;soup.parent&nbsp;==&nbsp;None#&nbsp;True</pre><p><a name=\"contents\"></a></p><h3><code>contents</code></h3><p>使用<code>parent</code>向前遍历树。使用<code>contents</code>向后遍历树。<code>contents</code>是<code>Tag</code>的有序列表，<code>NavigableString</code> 对象包含在一个页面元素内。只有最高层的剖析对象和<code>Tag</code> 对象有<code>contents</code>。<code>NavigableString</code> 只有strings，不能包含子元素，因此他们也没有<code>contents</code>.</p><p>在上面的<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#The%20document%20above\">例子</a>中，<code>contents</code> 的第一个&lt;P&gt; <code>Tag</code>是个列表，包含一个<code>NavigableString</code> (&quot;This is paragraph &quot;), 一个&lt;B&gt; <code>Tag</code>, 和其它的<code>NavigableString</code> (&quot;.&quot;)。而<code>contents</code> 的&lt;B&gt; <code>Tag</code>:\r\n包含一个<code>NavigableString</code> (&quot;one&quot;)的列表。</p><pre>pTag&nbsp;=&nbsp;soup.ppTag.contents#&nbsp;[u&#39;This&nbsp;is&nbsp;paragraph&nbsp;&#39;,&nbsp;&lt;b&gt;one&lt;/b&gt;,&nbsp;u&#39;.&#39;]pTag.contents[1].contents#&nbsp;[u&#39;one&#39;]pTag.contents[0].contents#&nbsp;AttributeError:&nbsp;&#39;NavigableString&#39;&nbsp;object&nbsp;has&nbsp;no&nbsp;attribute&nbsp;&#39;contents&#39;</pre><p><a name=\"string\"></a></p><h3><code>string</code></h3><p>为了方便，如果一个标签只有一个子节点且是字符串类型，这个自己可以这样访问<code>tag.string</code>，等同于<code>tag.contents[0]</code>的形式。\r\n\r\n在上面的<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#The%20document%20above\">例子</a>中，<code>soup.b.string</code>是个<code>NavigableString</code>对象，它的值是Unicode字符串&quot;one&quot;.\r\n这是剖析树中&lt;B&gt;<code>Tag</code> 的第一个string。</p><pre>soup.b.string#&nbsp;u&#39;one&#39;soup.b.contents[0]#&nbsp;u&#39;one&#39;</pre><p>但是<code>soup.p.string</code>是<code>None</code>, 剖析中的第一个&lt;P&gt; <code>Tag</code>拥有多个子元素。<code>soup.head.string</code>也为<code>None</code>,\r\n虽然&lt;HEAD&gt; Tag只有一个子节点，但是这个子节点是<code>Tag</code>类型 (&lt;TITLE&gt; <code>Tag</code>)，\r\n不是<code>NavigableString</code>。</p><pre>soup.p.string&nbsp;==&nbsp;None#&nbsp;Truesoup.head.string&nbsp;==&nbsp;None#&nbsp;True</pre><p><a name=\"nextSibling and previousSibling\"></a></p><h3><code>nextSibling</code>和<code>previousSibling</code></h3><p>使用它们你可以跳往在剖析树中同等层次的下一个元素。\r\n在上面的<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#The%20document%20above\">文档中</a>，\r\n&lt;HEAD&gt; <code>Tag</code>的<code>nextSibling</code> 是&lt;BODY&gt; <code>Tag</code>，\r\n因为&lt;BODY&gt; <code>Tag</code>是在&lt;html&gt; <code>Tag</code>的下一层。\r\n&lt;BODY&gt;标签的<code>nextSibling</code>为<code>None</code>, \r\n因为&lt;HTML&gt;下一层没有标签是直接的在它之后。</p><pre>soup.head.nextSibling.name#&nbsp;u&#39;body&#39;soup.html.nextSibling&nbsp;==&nbsp;None#&nbsp;True</pre><p>相应的&lt;BODY&gt; <code>Tag</code>的<code>previousSibling</code>是&lt;HEAD&gt;标签，\r\n&lt;HEAD&gt; <code>Tag</code>的<code>previousSibling</code>为<code>None</code>：</p><pre>soup.body.previousSibling.name#&nbsp;u&#39;head&#39;soup.head.previousSibling&nbsp;==&nbsp;None#&nbsp;True</pre><p>更多例子：&lt;P&gt; <code>Tag</code>的第一个<code>nextSibling</code>是第二个\r\n&lt;P&gt; <code>Tag</code>。\r\n第二个&lt;P&gt;<code>Tag<code>里的&lt;B&gt;<code>Tag</code>的<code>previousSibling</code>是<code>NavigableString</code>&quot;This is paragraph&quot;。\r\n 这个<code>NavigableString</code>的<code>previousSibling</code>是<code>None</code>, \r\n 不会是第一个&lt;P&gt; <code>Tag</code>里面的任何元素。</code></code></p><pre>soup.p.nextSibling#&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;secondBTag&nbsp;=&nbsp;soup.findAlll(&#39;b&#39;)[1]secondBTag.previousSibling#&nbsp;u&#39;This&nbsp;is&nbsp;paragraph&#39;secondBTag.previousSibling.previousSibling&nbsp;==&nbsp;None#&nbsp;True</pre><p><code><code><a name=\"next and previous\"></a><h3><code>next</code>和<code>previous</code></h3><p>使用它们可以按照soup处理文档的次序遍历整个文档，而不是它们在剖析树中看到那种次序。\r\n例如&lt;HEAD&gt; <code>Tag</code>的<code>next</code>是&lt;TITLE&gt;<code>Tag</code>,\r\n而不是&lt;BODY&gt; <code>Tag</code>。\r\n这是因为在<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#The%20document%20above\">原始文档</a>中，&lt;TITLE&gt;\r\ntag 直接在&lt;HEAD&gt;标签之后。</p><pre>soup.head.next#&nbsp;u&#39;title&#39;soup.head.nextSibling.name#&nbsp;u&#39;body&#39;soup.head.previous.name#&nbsp;u&#39;html&#39;</pre><p>Where <code>next</code> and <code>previous</code> are concerned, a <code>Tag</code>&#39;s <code>contents</code> come\r\nbefore its <code>nextSibling</code>. \r\n通常不会用到这些成员，但有时使用它们能够非常方便地从剖析树获得不易找到的信息。<a name=\"Iterating over a Tag\"></a></p></code><h3><code><a name=\"Iterating over a Tag\"></a>遍历一个标签(Iterating over a Tag)</code></h3><p>你可以像遍历list一样遍历一个标签(<code>Tag</code>)的<code>contents</code> 。\r\n这非常有用。类似的，一个Tag的有多少child可以直接使用len(tag)而不必使用len(tag.contents)来获得。\r\n以上面那个<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#The%20document%20above\">文档</a>中的为例：</p><pre>for&nbsp;i&nbsp;in&nbsp;soup.body:print&nbsp;i#&nbsp;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;#&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;len(soup.body)#&nbsp;2len(soup.body.contents)#&nbsp;2</pre><a name=\"Using tag names as members\"></a><h3>使用标签(tag)名作为成员</h3><p>像剖析对象或Tag对象的成员一样使用Tag名可以很方便的操作剖析树。\r\n前面一些例子我们已经用到了这种方式。以上述<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#The%0Adocument%20above\">文档</a>为例，<code>soup.head</code>获得文档第一个&lt;HEAD&gt;标签：</p><pre>soup.head#&nbsp;&lt;head&gt;&lt;title&gt;Page&nbsp;title&lt;/title&gt;&lt;/head&gt;</pre><p>通常，调用<code>mytag.foo</code>获得的是<code>mytag</code>的第一个child，同时必须是一个&lt;FOO&gt; <code>标签</code>。\r\n如果在<code>mytag</code>中没有&lt;FOO&gt; <code>标签</code>，<code>mytag.foo</code>返回一个<code>None</code>。\r\n你可以使用这中方法快速的读取剖析树：</p><pre>soup.head.title#&nbsp;&lt;title&gt;Page&nbsp;title&lt;/title&gt;soup.body.p.b.string#&nbsp;u&#39;one&#39;</pre><p>你也可以使用这种方法快速的跳到剖析树的某个特定位置。例如，如果你担心&lt;TITLE&gt; tags会离奇的在&lt;HEAD&gt; tag之外，\r\n你可以使用<code>soup.title</code>去获得一个HTML文档的标题(title)，而不必使用<code>soup.head.title</code>:</p><pre>soup.title.string#&nbsp;u&#39;Page&nbsp;title&#39;</pre><p><code>soup.p</code>跳到文档中的第一个 &lt;P&gt; tag，不论它在哪里。 <code>soup.table.tr.td</code> 跳到文档总第一个table的第一列第一行。</p><p>这些成员实际上是下面<code>first</code> 方法的别名，<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Searching%20the%20Parse%20Tree\">这里</a>更多介绍。\r\n 这里提到是因为别名使得一个定位(zoom)一个结构良好剖析树变得异常容易。</p><p>获得第一个&lt;FOO&gt; 标签另一种方式是使用<code>.fooTag</code> 而不是 <code>.foo</code>。\r\n例如，<code>soup.table.tr.td</code>可以表示为<code>soup.tableTag.trTag.tdTag</code>，甚至为<code>soup.tableTag.tr.tdTag</code>。\r\n如果你喜欢更明确的知道表示的意义，或者你在剖析一个标签与Beautiful Soup的方法或成员有冲突的XML文档是，使用这种方式非常有用。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulStoneSoupxml&nbsp;=&nbsp;&#39;&lt;person&nbsp;name=&quot;Bob&quot;&gt;&lt;parent&nbsp;rel=&quot;mother&quot;&nbsp;name=&quot;Alice&quot;&gt;&#39;xmlSoup&nbsp;=&nbsp;BeautifulStoneSoup(xml)xmlSoup.person.parent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;A&nbsp;Beautiful&nbsp;Soup&nbsp;member#&nbsp;&lt;person&nbsp;name=&quot;Bob&quot;&gt;&lt;parent&nbsp;rel=&quot;mother&quot;&nbsp;name=&quot;Alice&quot;&gt;&lt;/parent&gt;&lt;/person&gt;xmlSoup.person.parentTag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;A&nbsp;tag&nbsp;name#&nbsp;&lt;parent&nbsp;rel=&quot;mother&quot;&nbsp;name=&quot;Alice&quot;&gt;&lt;/parent&gt;</pre><p>如果你要找的标签名不是有效的Python标识符，(例如<code>hyphenated-name</code>)，你就需要使用<code>first</code>方法了。<a name=\"Searching the Parse Tree\"></a></p><h2><a name=\"Searching the Parse Tree\"></a>搜索剖析树</h2><p>Beautiful Soup提供了许多方法用于浏览一个剖析树，收集你指定的<code>Tag</code>和<code>NavigableString</code>。</p><p><a name=\"findall example document\"></a>有几种方法去定义用于Beautiful Soup的匹配项。\r\n我们先用深入解释最基本的一种搜索方法<code>findAll</code>。\r\n和前面一样，我们使用下面这个文档说明：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupdoc&nbsp;=&nbsp;[&#39;&lt;html&gt;&lt;head&gt;&lt;title&gt;Page&nbsp;title&lt;/title&gt;&lt;/head&gt;&#39;,&#39;&lt;body&gt;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&#39;,&#39;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&#39;,&#39;&lt;/html&gt;&#39;]soup&nbsp;=&nbsp;BeautifulSoup(&#39;&#39;.join(doc))print&nbsp;soup.prettify()#&nbsp;&lt;html&gt;#&nbsp;&nbsp;&lt;head&gt;#&nbsp;&nbsp;&nbsp;&lt;title&gt;#&nbsp;&nbsp;&nbsp;&nbsp;Page&nbsp;title#&nbsp;&nbsp;&nbsp;&lt;/title&gt;#&nbsp;&nbsp;&lt;/head&gt;#&nbsp;&nbsp;&lt;body&gt;#&nbsp;&nbsp;&nbsp;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;#&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;paragraph#&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;.#&nbsp;&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;#&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;paragraph#&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;two#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;.#&nbsp;&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&nbsp;&lt;/body&gt;#&nbsp;&lt;/html&gt;</pre><p>还有, 这里的两个方法(<code>findAll</code>和 <code>find</code>)仅对<code>Tag</code>对象以及\r\n顶层剖析对象有效，但 <code>NavigableString</code>不可用。\r\n这两个方法在<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Searching%20Within%20the%20Parse%20Tree\">Searching 剖析树内部</a>同样可用。<a name=\"The basic find method: findAll(name, attrs, recursive, text, limit, **kwargs)\"></a></p><h3><a name=\"The basic find method: findAll(name, attrs, recursive, text, limit, **kwargs)\"></a>The basic find method: <code>findAll(</code><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-recursive\">recursive</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-text\">text</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-limit\">limit</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a>)</h3><p>方法<code>findAll</code> 从给定的点开始遍历整个树，并找到满足给定条件所有<code>Tag</code>以及<code>NavigableString</code>。 <code>findall</code>函数原型定义如下：</p><p><strong>findAll(name=None, attrs={}, recursive=True, text=None,\r\nlimit=None, **kwargs)</strong></p><p>这些<a name=\"args\"></a>参数会反复的在这个文档中出现。其中最重要的是<code>name</code>参数\r\n和keywords参数(译注：就是**kwargs参数)。</p><ul class=\" list-paddingleft-2\"><li><p>参数<a name=\"arg-name\"></a><strong><code>name</code></strong> 匹配tags的名字，获得相应的结果集。\r\n有几种方法去匹配name，在这个文档中会一再的用到。</p></li><ol class=\" list-paddingleft-2\"><p><br/></p><li><p>最简单用法是仅仅给定一个tag name值。下面的代码寻找文档中所有的\r\n &lt;B&gt; <code>Tag</code>:</p><pre>soup.findAll(&#39;b&#39;)#&nbsp;[&lt;b&gt;one&lt;/b&gt;,&nbsp;&lt;b&gt;two&lt;/b&gt;]</pre></li><li><p>你可以传一个正则表达式。下面的代码寻找所有以b开头的标签:</p><pre>import&nbsp;retagsStartingWithB&nbsp;=&nbsp;soup.findAll(re.compile(&#39;^b&#39;))[tag.name&nbsp;for&nbsp;tag&nbsp;in&nbsp;tagsStartingWithB]#&nbsp;[u&#39;body&#39;,&nbsp;u&#39;b&#39;,&nbsp;u&#39;b&#39;]</pre></li><li><p>你可以传一个list或dictionary。下面两个调用是查找所有的&lt;TITLE&gt;和&lt;P&gt;标签。\r\n他们获得结果一样，但是后一种方法更快一些:</p><pre>soup.findAll([&#39;title&#39;,&nbsp;&#39;p&#39;])#&nbsp;[&lt;title&gt;Page&nbsp;title&lt;/title&gt;,&nbsp;#&nbsp;&nbsp;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;,&nbsp;#&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;]soup.findAll({&#39;title&#39;&nbsp;:&nbsp;True,&nbsp;&#39;p&#39;&nbsp;:&nbsp;True})#&nbsp;[&lt;title&gt;Page&nbsp;title&lt;/title&gt;,&nbsp;#&nbsp;&nbsp;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;,&nbsp;#&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;]</pre></li><li><p>你可以传一个<code>True</code>值,这样可以匹配每个tag的name：也就是匹配每个tag。</p><pre>allTags&nbsp;=&nbsp;soup.findAll(True)[tag.name&nbsp;for&nbsp;tag&nbsp;in&nbsp;allTags][u&#39;html&#39;,&nbsp;u&#39;head&#39;,&nbsp;u&#39;title&#39;,&nbsp;u&#39;body&#39;,&nbsp;u&#39;p&#39;,&nbsp;u&#39;b&#39;,&nbsp;u&#39;p&#39;,&nbsp;u&#39;b&#39;]</pre><p>这看起来不是很有用，但是当你限定属性(attribute)值时候，使用<code>True</code>就很有用了。</p></li><li><p>你可以传<a name=\"match-callable\"></a>callable对象，就是一个使用<code>Tag</code>对象作为它唯一的参数，并返回布尔值的对象。<code>findAll</code>使用的每个作为参数的<code>Tag</code>对象都会传递给这个<a name=\"match-callable\"></a>callable对象，\r\n并且如果调用返回<code>True</code>，则这个tag便是匹配的。</p><p>下面是查找两个并仅两个属性的标签(tags)：</p><pre>soup.findAll(lambda&nbsp;tag:&nbsp;len(tag.attrs)&nbsp;==&nbsp;2)#&nbsp;[&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;,&nbsp;#&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;]</pre><p>下面是寻找单个字符为标签名并且没有属性的标签：</p><pre>soup.findAll(lambda&nbsp;tag:&nbsp;len(tag.name)&nbsp;==&nbsp;1&nbsp;and&nbsp;not&nbsp;tag.attrs)#&nbsp;[&lt;b&gt;one&lt;/b&gt;,&nbsp;&lt;b&gt;two&lt;/b&gt;]</pre></li></ol><li><p><a name=\"arg-**kwargs\"></a>keyword参数用于筛选tag的属性。下面这个例子是查找拥有属性align且值为center的\r\n所有标签：</p><pre>soup.findAll(align=&quot;center&quot;)#&nbsp;[&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;]</pre><p>如同<code>name</code>参数，你也可以使用不同的keyword参数对象，从而更加灵活的指定属性值的匹配条件。\r\n你可以向上面那样传递一个字符串，来匹配属性的值。你也可以传递一个正则表达式，一个列表(list)，一个哈希表(hash)，\r\n特殊值<code>True</code>或<code>None</code>，或者一个可调用的以属性值为参数的对象(注意：这个值可能为<code>None</code>)。\r\n一些例子：</p><pre>soup.findAll(id=re.compile(&quot;para$&quot;))#&nbsp;[&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;,#&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;]soup.findAll(align=[&quot;center&quot;,&nbsp;&quot;blah&quot;])#&nbsp;[&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;,#&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;]soup.findAll(align=lambda(value):&nbsp;value&nbsp;and&nbsp;len(value)&nbsp;&lt;&nbsp;5)#&nbsp;[&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;]</pre><p>特殊值<code>True</code>和<code>None</code>更让人感兴趣。<code>True</code>匹配给定属性为<em>任意</em>值的标签，<code>None</code>匹配那些给定的属性值为<em>空</em>的标签。 \r\n一些例子如下：</p><pre>soup.findAll(align=True)#&nbsp;[&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;,#&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;][tag.name&nbsp;for&nbsp;tag&nbsp;in&nbsp;soup.findAll(align=None)]#&nbsp;[u&#39;html&#39;,&nbsp;u&#39;head&#39;,&nbsp;u&#39;title&#39;,&nbsp;u&#39;body&#39;,&nbsp;u&#39;b&#39;,&nbsp;u&#39;b&#39;]</pre><p>如果你需要在标签的属性上添加更加复杂或相互关联的(interlocking)匹配值，<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#match-callable\">如同上面</a>一样，以callable对象的传递参数来处理<code>Tag</code>对象。</p><p><a name=\"arg-attrs\"></a>在这里你也许注意到一个问题。 如果你有一个文档，它有一个标签定义了一个name属性,会怎么样？\r\n你不能使用<code>name</code>为keyword参数，因为Beautiful Soup 已经定义了一个<code>name</code>参数使用。\r\n你也不能用一个Python的保留字例如<code>for</code>作为关键字参数。</p><p>Beautiful Soup提供了一个特殊的参数<code>attrs</code>，你可以使用它来应付这些情况。<code>attrs</code>是一个字典，用起来就和keyword参数一样：</p><pre>soup.findAll(id=re.compile(&quot;para$&quot;))#&nbsp;[&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;,#&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;]soup.findAll(attrs={&#39;id&#39;&nbsp;:&nbsp;re.compile(&quot;para$&quot;)})#&nbsp;[&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;,#&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;]</pre><p>你可以使用<code>attrs</code>去匹配那些名字为Python保留字的属性，\r\n例如<code>class</code>, <code>for</code>, 以及<code>import</code>；\r\n或者那些不是keyword参数但是名字为Beautiful Soup搜索方法使用的参数名的属性，\r\n例如<code>name</code>, <code>recursive</code>, <code>limit</code>, <code>text</code>,\r\n以及<code>attrs</code>本身。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulStoneSoupxml&nbsp;=&nbsp;&#39;&lt;person&nbsp;name=&quot;Bob&quot;&gt;&lt;parent&nbsp;rel=&quot;mother&quot;&nbsp;name=&quot;Alice&quot;&gt;&#39;xmlSoup&nbsp;=&nbsp;BeautifulStoneSoup(xml)xmlSoup.findAll(name=&quot;Alice&quot;)#&nbsp;[]xmlSoup.findAll(attrs={&quot;name&quot;&nbsp;:&nbsp;&quot;Alice&quot;})#&nbsp;[parent&nbsp;rel=&quot;mother&quot;&nbsp;name=&quot;Alice&quot;&gt;&lt;/parent&gt;]</pre><p><a name=\"Searching by CSS class\"></a></p><h4>使用CSS类查找</h4><p></p><p><code>对于CSS类attrs</code>参数更加方便。例如class不仅是一个CSS属性，\r\n也是Python的保留字。</p><p>你可以使用<code>soup.find(&quot;tagName&quot;, {\r\n&quot;class&quot; : &quot;cssClass&quot; })</code>搜索CSS class，但是由于有很多这样的操作，\r\n你也可以只传递一个字符串给<code>attrs</code>。\r\n这个字符串默认处理为CSS的class的参数值。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupsoup&nbsp;=&nbsp;BeautifulSoup(&quot;&quot;&quot;Bob&#39;s&nbsp;&lt;b&gt;Bold&lt;/b&gt;&nbsp;Barbeque&nbsp;Sauce&nbsp;now&nbsp;available&nbsp;in&lt;b&nbsp;class=&quot;hickory&quot;&gt;Hickory&lt;/b&gt;&nbsp;and&nbsp;&lt;b&nbsp;class=&quot;lime&quot;&gt;Lime&lt;/a&gt;&quot;&quot;&quot;)soup.find(&quot;b&quot;,&nbsp;{&nbsp;&quot;class&quot;&nbsp;:&nbsp;&quot;lime&quot;&nbsp;})#&nbsp;&lt;b&nbsp;class=&quot;lime&quot;&gt;Lime&lt;/b&gt;soup.find(&quot;b&quot;,&nbsp;&quot;hickory&quot;)#&nbsp;&lt;b&nbsp;class=&quot;hickory&quot;&gt;Hickory&lt;/b&gt;</pre></li><li><p><a name=\"arg-text\"></a><strong><code>text</code></strong> 是一个用于搜索<code>NavigableString</code>对象的参数。\r\n它的值可以是字符串，一个正则表达式，\r\n一个list或dictionary，<code>True</code>或<code>None</code>，\r\n一个以<code>NavigableString</code>为参数的可调用对象：</p><pre>soup.findAll(text=&quot;one&quot;)#&nbsp;[u&#39;one&#39;]soup.findAll(text=u&#39;one&#39;)#&nbsp;[u&#39;one&#39;]soup.findAll(text=[&quot;one&quot;,&nbsp;&quot;two&quot;])#&nbsp;[u&#39;one&#39;,&nbsp;u&#39;two&#39;]soup.findAll(text=re.compile(&quot;paragraph&quot;))#&nbsp;[u&#39;This&nbsp;is&nbsp;paragraph&nbsp;&#39;,&nbsp;u&#39;This&nbsp;is&nbsp;paragraph&nbsp;&#39;]soup.findAll(text=True)#&nbsp;[u&#39;Page&nbsp;title&#39;,&nbsp;u&#39;This&nbsp;is&nbsp;paragraph&nbsp;&#39;,&nbsp;u&#39;one&#39;,&nbsp;u&#39;.&#39;,&nbsp;u&#39;This&nbsp;is&nbsp;paragraph&nbsp;&#39;,&nbsp;#&nbsp;&nbsp;u&#39;two&#39;,&nbsp;u&#39;.&#39;]soup.findAll(text=lambda(x):&nbsp;len(x)&nbsp;&lt;&nbsp;12)#&nbsp;[u&#39;Page&nbsp;title&#39;,&nbsp;u&#39;one&#39;,&nbsp;u&#39;.&#39;,&nbsp;u&#39;two&#39;,&nbsp;u&#39;.&#39;]</pre><p>如果你使用<code>text</code>，任何指定给<code>name</code> 以及keyword参数的值都会被忽略。</p></li><li><p><a name=\"arg-recursive\"></a><strong><code>recursive</code></strong> 是一个布尔参数(默认为<code>True</code>)，用于指定Beautiful Soup遍历整个剖析树，\r\n还是只查找当前的子标签或者剖析对象。下面是这两种方法的区别：</p><pre>[tag.name&nbsp;for&nbsp;tag&nbsp;in&nbsp;soup.html.findAll()]#&nbsp;[u&#39;head&#39;,&nbsp;u&#39;title&#39;,&nbsp;u&#39;body&#39;,&nbsp;u&#39;p&#39;,&nbsp;u&#39;b&#39;,&nbsp;u&#39;p&#39;,&nbsp;u&#39;b&#39;][tag.name&nbsp;for&nbsp;tag&nbsp;in&nbsp;soup.html.findAll(recursive=False)]#&nbsp;[u&#39;head&#39;,&nbsp;u&#39;body&#39;]</pre><p>当<code>recursive</code>为false，只有当前的子标签&lt;HTML&gt;会被搜索。如果你需要搜索树，\r\n使用这种方法可以节省一些时间。</p></li><li><p>设置<a name=\"arg-limit\"></a><strong><code>limit</code></strong> 参数可以让Beautiful Soup\r\n在找到特定个数的匹配时停止搜索。\r\n文档中如果有上千个表格，但你只需要前四个，传值4到<code>limit</code>可以让你节省很多时间。\r\n默认是没有限制(limit没有指定值).</p><pre>soup.findAll(&#39;p&#39;,&nbsp;limit=1)#&nbsp;[&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;]soup.findAll(&#39;p&#39;,&nbsp;limit=100)#&nbsp;[&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;,&nbsp;#&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;]</pre></li></ul><a name=\"Calling a tag is like calling findall\"></a><h4>像<code>findall</code>一样调用tag</h4><p>一个小捷径。如果你像函数一样调用剖析对象或者<code>Tag</code>对象，\r\n这样你调用所用参数都会传递给<code>findall</code>的参数，就和调用<code>findall</code>一样。\r\n就上面那个<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#findall%20example%20document\">文档</a>为例：</p><pre>soup(text=lambda(x):&nbsp;len(x)&nbsp;&lt;&nbsp;12)#&nbsp;[u&#39;Page&nbsp;title&#39;,&nbsp;u&#39;one&#39;,&nbsp;u&#39;.&#39;,&nbsp;u&#39;two&#39;,&nbsp;u&#39;.&#39;]soup.body(&#39;p&#39;,&nbsp;limit=1)#&nbsp;[&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;]</pre><a name=\"find(name, attrs, recursive, text, **kwargs)\"></a><h3><code><a name=\"find(name, attrs, recursive, text, **kwargs)\"></a>find(<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-recursive\">recursive</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-text\">text</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a>)</code></h3><p>好了，我们现在看看其他的搜索方法。他们都是有和 <code>findAll</code>几乎一样的参数。</p><p><code>find</code>方法是最接近<code>findAll</code>的函数，\r\n只是它并不会获得所有的匹配对象，它仅仅返回找到第一个可匹配对象。\r\n也就是说，它相当于<code>limit</code>参数为1的结果集。\r\n以上面的 <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#findall%20example%20document\">文档</a>为例:</p><pre>soup.findAll(&#39;p&#39;,&nbsp;limit=1)#&nbsp;[&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;]soup.find(&#39;p&#39;,&nbsp;limit=1)#&nbsp;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;soup.find(&#39;nosuchtag&#39;,&nbsp;limit=1)&nbsp;==&nbsp;None#&nbsp;True</pre><p>通常，当你看到一个搜索方法的名字由复数构成\r\n(如<code>findAll</code>和<code>findNextSiblings</code>)时，\r\n这个方法就会存在<code>limit</code>参数，并返回一个list的结果。但你\r\n看到的方法不是复数形式(如<code>find</code>和<code>findNextSibling</code>)时，\r\n你就可以知道这函数没有limit参数且返回值是单一的结果。<a name=\"What happened to first?\"></a></p><h3><a name=\"What happened to first?\"></a><code>first</code>哪里去了?</h3><p>早期的Beautiful Soup 版本有一些<code>first</code>，<code>fetch</code>以及<code>fetchPrevious</code>方法。\r\n这些方法还在，但是已经被弃用了，也许不久就不在存在了。\r\n因为这些名字有些令人迷惑。新的名字更加有意义：\r\n前面提到了，复数名称的方法名，比如含有<code>All</code>的方法名，它将返回一个\r\n多对象。否则，它只会返回单个对象。<a name=\"Searching Within the Parse Tree\"></a></p><h2><a name=\"Searching Within the Parse Tree\"></a>Searching Within the Parse Tree</h2><p>上面说明的方法<code>findAll</code>及<code>find</code>，都是从剖析树的某一点开始并一直往下。\r\n他们反复的遍历对象的<code>contents</code>直到最低点。</p><p>也就是说你不能在 <code>NavigableString</code>对象上使用这些方法，\r\n因为<code>NavigableString</code>没有contents：它们是剖析树的叶子。</p><p>[这段翻译的不太准确]但是向下搜索不是唯一的遍历剖析树的方法。在<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Navigating%20the%20Parse%20Tree\">Navigating剖析树</a>中，我们可以使用这些方法：<code>parent</code>, <code>nextSibling</code>等。\r\n他们都有2个相应的方法：一个类似<code>findAll</code>,一个类似<code>find</code>.\r\n由于<code>NavigableString</code>对象也支持这些方法，你可以像<code>Tag</code>一样\r\n使用这些方法。</p><p>为什么这个很有用?因为有些时候，你不能使用<code>findAll</code>或<code>find</code>从<code>Tag</code>或<code>NavigableString</code>获得你想要的。例如，下面的HTML文档：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupsoup&nbsp;=&nbsp;BeautifulSoup(&#39;&#39;&#39;&lt;ul&gt;&lt;li&gt;An&nbsp;unrelated&nbsp;list&lt;/ul&gt;&lt;h1&gt;Heading&lt;/h1&gt;&lt;p&gt;This&nbsp;is&nbsp;&lt;b&gt;the&nbsp;list&nbsp;you&nbsp;want&lt;/b&gt;:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;The&nbsp;data&nbsp;you&nbsp;want&lt;/ul&gt;&#39;&#39;&#39;)</pre><p>有很多方法去定位到包含特定数据的&lt;LI&gt; 标签。最明显的方式如下：</p><pre>soup(&#39;li&#39;,&nbsp;limit=2)[1]#&nbsp;&lt;li&gt;The&nbsp;data&nbsp;you&nbsp;want&lt;/li&gt;</pre><p>显然，这样获得所需的&lt;LI&gt;标签并不稳定。如果，你只分析一次页面，这没什么影响。\r\n但是如果你需要在一段时间分析很多次这个页面，就需要考虑一下这种方法。\r\nIf the irrelevant list grows another &lt;LI&gt; tag, you&#39;ll get that tag instead of the one you\r\nwant, and your script will break or give the wrong data.<br/>因为如果列表发生变化，你可能就得不到你想要的结果。</p><pre>soup(&#39;ul&#39;,&nbsp;limit=2)[1].li#&nbsp;&lt;li&gt;The&nbsp;data&nbsp;you&nbsp;want&lt;/li&gt;</pre><p>That&#39;s is a little better, because it can survive changes to the\r\nirrelevant list. But if the document grows another irrelevant list at\r\nthe top, you&#39;ll get the first &lt;LI&gt; tag of that list instead of the one\r\nyou want. A more reliable way of referring to the ul tag you want\r\nwould better reflect that tag&#39;s place in the structure of the\r\ndocument.<br/>这有一点好处，因为那些不相干的列表的变更生效了。\r\n但是如果文档增长的不相干的列表在顶部，你会获得第一个&lt;LI&gt;标签而不是\r\n你想要的标签。一个更可靠的方式是去引用对应的ul标签，\r\n这样可以更好的处理文档的结构。</p><p>在HTML里面，你也许认为你想要的list是&lt;H1&gt;标签下的&lt;UL&gt;标签。\r\n问题是那个标签不是在&lt;H1&gt;下，它只是在它后面。获得&lt;H1&gt;标签很容易，但是获得\r\n&lt;UL&gt;却没法使用<code>first</code>和<code>fetch</code>，\r\n因为这些方法只是搜索&lt;H1&gt;标签的<code>contents</code>。\r\n你需要使用<code>next</code>或<code>nextSibling</code>来获得&lt;UL&gt;标签。</p><pre>s&nbsp;=&nbsp;soup.h1while&nbsp;getattr(s,&nbsp;&#39;name&#39;,&nbsp;None)&nbsp;!=&nbsp;&#39;ul&#39;:s&nbsp;=&nbsp;s.nextSiblings.li#&nbsp;&lt;li&gt;The&nbsp;data&nbsp;you&nbsp;want&lt;/li&gt;</pre><p>或者，你觉得这样也许会比较稳定：</p><pre>s&nbsp;=&nbsp;soup.find(text=&#39;Heading&#39;)while&nbsp;getattr(s,&nbsp;&#39;name&#39;,&nbsp;None)&nbsp;!=&nbsp;&#39;ul&#39;:s&nbsp;=&nbsp;s.nexts.li#&nbsp;&lt;li&gt;The&nbsp;data&nbsp;you&nbsp;want&lt;/li&gt;</pre><p>但是还有很多困难需要你去克服。这里会介绍一下非常有用的方法。\r\n你可以在你需要的使用它们写一些遍历成员的方法。它们以某种方式遍历树，并跟踪那些满足条件的<code>Tag</code>和<code>NavigableString</code>对象。代替上面那个例子的第一的循环的代码，你可以这样写：</p><pre>soup.h1.findNextSibling(&#39;ul&#39;).li#&nbsp;&lt;li&gt;The&nbsp;data&nbsp;you&nbsp;want&lt;/li&gt;</pre><p>第二循环，你可以这样写：</p><pre>soup.find(text=&#39;Heading&#39;).findNext(&#39;ul&#39;).li#&nbsp;&lt;li&gt;The&nbsp;data&nbsp;you&nbsp;want&lt;/li&gt;</pre><p>这些循环代替调用<code>findNextString</code>和<code>findNext</code>。\r\n本节剩下的内容是这种类型所用方法的参考。同时，对于遍历总是有两种方法：\r\n一个是返回list的<code>findAll</code>，一个是返回单一量的<code>find</code>。</p><p><a name=\"Search example document\"></a>下面，我们再举一个例子来说明：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupdoc&nbsp;=&nbsp;[&#39;&lt;html&gt;&lt;head&gt;&lt;title&gt;Page&nbsp;title&lt;/title&gt;&lt;/head&gt;&#39;,&#39;&lt;body&gt;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&#39;,&#39;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&#39;,&#39;&lt;/html&gt;&#39;]soup&nbsp;=&nbsp;BeautifulSoup(&#39;&#39;.join(doc))print&nbsp;soup.prettify()#&nbsp;&lt;html&gt;#&nbsp;&nbsp;&lt;head&gt;#&nbsp;&nbsp;&nbsp;&lt;title&gt;#&nbsp;&nbsp;&nbsp;&nbsp;Page&nbsp;title#&nbsp;&nbsp;&nbsp;&lt;/title&gt;#&nbsp;&nbsp;&lt;/head&gt;#&nbsp;&nbsp;&lt;body&gt;#&nbsp;&nbsp;&nbsp;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;#&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;paragraph#&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;.#&nbsp;&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&nbsp;&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;#&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;paragraph#&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;two#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/b&gt;#&nbsp;&nbsp;&nbsp;&nbsp;.#&nbsp;&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&nbsp;&lt;/body&gt;#&nbsp;&lt;/html&gt;</pre><a name=\"findNextSiblings(name, attrs, text, limit, **kwargs) and findNextSibling(name, attrs, text, **kwargs)\"></a><h3><code><a name=\"findNextSiblings(name, attrs, text, limit, **kwargs) and findNextSibling(name, attrs, text, **kwargs)\"></a>findNextSiblings(<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-text\">text</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-limit\">limit</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a>)</code> and <code>findNextSibling(<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-text\">text</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a>)</code></h3><p>这两个方法以<code>nextSibling</code>的成员为依据，\r\n获得满足条件的<code>Tag</code>或<code>NavigableText</code>对象。\r\n以上面的<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Search%20example%20document\">文档</a>为例:</p><pre>paraText&nbsp;=&nbsp;soup.find(text=&#39;This&nbsp;is&nbsp;paragraph&nbsp;&#39;)paraText.findNextSiblings(&#39;b&#39;)#&nbsp;[&lt;b&gt;one&lt;/b&gt;]paraText.findNextSibling(text&nbsp;=&nbsp;lambda(text):&nbsp;len(text)&nbsp;==&nbsp;1)#&nbsp;u&#39;.&#39;</pre><a name=\"findPreviousSiblings(name, attrs, text, limit, **kwargs) and findPreviousSibling(name, attrs, text, **kwargs)\"></a><h3><code><a name=\"findPreviousSiblings(name, attrs, text, limit, **kwargs) and findPreviousSibling(name, attrs, text, **kwargs)\"></a>findPreviousSiblings(<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-text\">text</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-limit\">limit</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a>)</code> and <code>findPreviousSibling(<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-text\">text</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a>)</code></h3><p>这两个方法以<code>previousSibling</code>成员为依据，获得满足条件的<code>Tag</code>和<code>NavigableText</code>对象。\r\n以上面的<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Search%20example%20document\">文档</a>为例:</p><pre>paraText&nbsp;=&nbsp;soup.find(text=&#39;.&#39;)paraText.findPreviousSiblings(&#39;b&#39;)#&nbsp;[&lt;b&gt;one&lt;/b&gt;]paraText.findPreviousSibling(text&nbsp;=&nbsp;True)#&nbsp;u&#39;This&nbsp;is&nbsp;paragraph&nbsp;&#39;</pre><a name=\"findAllNext(name, attrs, text, limit, **kwargs) and findNext(name, attrs, text, **kwargs)\"></a><h3><code><a name=\"findAllNext(name, attrs, text, limit, **kwargs) and findNext(name, attrs, text, **kwargs)\"></a>findAllNext(<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-text\">text</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-limit\">limit</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a>)</code> and <code>findNext(<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-text\">text</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a>)</code></h3><p>这两个方法以<code>next</code>的成员为依据，\r\n获得满足条件的<code>Tag</code>和<code>NavigableText</code>对象。\r\n以上面的<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Search%20example%20document\">文档</a>为例:</p><pre>pTag&nbsp;=&nbsp;soup.find(&#39;p&#39;)pTag.findAllNext(text=True)#&nbsp;[u&#39;This&nbsp;is&nbsp;paragraph&nbsp;&#39;,&nbsp;u&#39;one&#39;,&nbsp;u&#39;.&#39;,&nbsp;u&#39;This&nbsp;is&nbsp;paragraph&nbsp;&#39;,&nbsp;u&#39;two&#39;,&nbsp;u&#39;.&#39;]pTag.findNext(&#39;p&#39;)#&nbsp;&lt;p&nbsp;id=&quot;secondpara&quot;&nbsp;align=&quot;blah&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;pTag.findNext(&#39;b&#39;)#&nbsp;&lt;b&gt;one&lt;/b&gt;</pre><a name=\"findAllPrevious(name, attrs, text, limit, **kwargs) and findPrevious(name, attrs, text, **kwargs)\"></a><h3><code><a name=\"findAllPrevious(name, attrs, text, limit, **kwargs) and findPrevious(name, attrs, text, **kwargs)\"></a>findAllPrevious(<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-text\">text</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-limit\">limit</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a>)</code> and <code>findPrevious(<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-text\">text</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a>)</code></h3><p>这两方法以<code>previous</code>的成员依据，\r\n获得满足条件的<code>Tag</code>和<code>NavigableText</code>对象。\r\n以上面的<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Search%20example%20document\">文档</a>为例:</p><pre>lastPTag&nbsp;=&nbsp;soup(&#39;p&#39;)[-1]lastPTag.findAllPrevious(text=True)#&nbsp;[u&#39;.&#39;,&nbsp;u&#39;one&#39;,&nbsp;u&#39;This&nbsp;is&nbsp;paragraph&nbsp;&#39;,&nbsp;u&#39;Page&nbsp;title&#39;]#&nbsp;Note&nbsp;the&nbsp;reverse&nbsp;order!lastPTag.findPrevious(&#39;p&#39;)#&nbsp;&lt;p&nbsp;id=&quot;firstpara&quot;&nbsp;align=&quot;center&quot;&gt;This&nbsp;is&nbsp;paragraph&nbsp;&lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;lastPTag.findPrevious(&#39;b&#39;)#&nbsp;&lt;b&gt;one&lt;/b&gt;</pre><h3><code>findParents(<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-limit\">limit</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a>)</code> and<code>findParent(<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a>, <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a>)</code></h3><p>这两个方法以<code>parent</code>成员为依据，\r\n获得满足条件的<code>Tag</code>和<code>NavigableText</code>对象。\r\n他们没有<code>text</code>参数,因为这里的对象的parent不会有<code>NavigableString</code>。\r\n以上面的<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Search%20example%20document\">文档</a>为例:</p><pre>bTag&nbsp;=&nbsp;soup.find(&#39;b&#39;)[tag.name&nbsp;for&nbsp;tag&nbsp;in&nbsp;bTag.findParents()]#&nbsp;[u&#39;p&#39;,&nbsp;u&#39;body&#39;,&nbsp;u&#39;html&#39;,&nbsp;&#39;[document]&#39;]#&nbsp;NOTE:&nbsp;&quot;u&#39;[document]&#39;&quot;&nbsp;means&nbsp;that&nbsp;that&nbsp;the&nbsp;parser&nbsp;object&nbsp;itself&nbsp;matched.bTag.findParent(&#39;body&#39;).name#&nbsp;u&#39;body&#39;</pre><a name=\"Modifying the Parse Tree\"></a><h2>修改剖析树</h2><p>现在你已经知道如何在剖析树中寻找东西了。但也许你想对它做些修改并输出出来。\r\n你可以仅仅将一个元素从其父母的<code>contents</code>中分离，但是文档的其他部分仍然\r\n拥有对这个元素的引用。Beautiful Soup 提供了几种方法帮助你修改剖析树并保持其内部的一致性。<a name=\"Changing attribute values\"></a></p><h3><a name=\"Changing attribute values\"></a>修改属性值</h3><p>你可以使用字典赋值来修改<code>Tag</code>对象的属性值。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupsoup&nbsp;=&nbsp;BeautifulSoup(&quot;&lt;b&nbsp;id=&quot;2&quot;&gt;Argh!&lt;/b&gt;&quot;)print&nbsp;soup#&nbsp;&lt;b&nbsp;id=&quot;2&quot;&gt;Argh!&lt;/b&gt;b&nbsp;=&nbsp;soup.bb[&#39;id&#39;]&nbsp;=&nbsp;10print&nbsp;soup#&nbsp;&lt;b&nbsp;id=&quot;10&quot;&gt;Argh!&lt;/b&gt;b[&#39;id&#39;]&nbsp;=&nbsp;&quot;ten&quot;print&nbsp;soup#&nbsp;&lt;b&nbsp;id=&quot;ten&quot;&gt;Argh!&lt;/b&gt;b[&#39;id&#39;]&nbsp;=&nbsp;&#39;one&nbsp;&quot;million&quot;&#39;print&nbsp;soup#&nbsp;&lt;b&nbsp;id=&#39;one&nbsp;&quot;million&quot;&#39;&gt;Argh!&lt;/b&gt;</pre><p>你也可以删除一个属性值，然后添加一个新的属性:</p><pre>del(b[&#39;id&#39;])print&nbsp;soup#&nbsp;&lt;b&gt;Argh!&lt;/b&gt;b[&#39;class&#39;]&nbsp;=&nbsp;&quot;extra&nbsp;bold&nbsp;and&nbsp;brassy!&quot;print&nbsp;soup#&nbsp;&lt;b&nbsp;class=&quot;extra&nbsp;bold&nbsp;and&nbsp;brassy!&quot;&gt;Argh!&lt;/b&gt;</pre><a name=\"Removing elements\"></a><h3>删除元素</h3><p>要是你引用了一个元素，你可以使用<code>extract</code>将它从树中抽离。\r\n下面是将所有的注释从文档中移除的代码：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoup,&nbsp;Commentsoup&nbsp;=&nbsp;BeautifulSoup(&quot;&quot;&quot;1&lt;!--The&nbsp;loneliest&nbsp;number--&gt;&lt;a&gt;2&lt;!--Can&nbsp;be&nbsp;as&nbsp;bad&nbsp;as&nbsp;one--&gt;&lt;b&gt;3&quot;&quot;&quot;)comments&nbsp;=&nbsp;soup.findAll(text=lambda&nbsp;text:isinstance(text,&nbsp;Comment))[comment.extract()&nbsp;for&nbsp;comment&nbsp;in&nbsp;comments]print&nbsp;soup#&nbsp;1#&nbsp;&lt;a&gt;2&lt;b&gt;3&lt;/b&gt;&lt;/a&gt;</pre><p>这段代码是从文档中移除一个子树:</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupsoup&nbsp;=&nbsp;BeautifulSoup(&quot;&lt;a1&gt;&lt;/a1&gt;&lt;a&gt;&lt;b&gt;Amazing&nbsp;content&lt;c&gt;&lt;d&gt;&lt;/a&gt;&lt;a2&gt;&lt;/a2&gt;&quot;)soup.a1.nextSibling#&nbsp;&lt;a&gt;&lt;b&gt;Amazing&nbsp;content&lt;c&gt;&lt;d&gt;&lt;/d&gt;&lt;/c&gt;&lt;/b&gt;&lt;/a&gt;soup.a2.previousSibling#&nbsp;&lt;a&gt;&lt;b&gt;Amazing&nbsp;content&lt;c&gt;&lt;d&gt;&lt;/d&gt;&lt;/c&gt;&lt;/b&gt;&lt;/a&gt;subtree&nbsp;=&nbsp;soup.asubtree.extract()print&nbsp;soup#&nbsp;&lt;a1&gt;&lt;/a1&gt;&lt;a2&gt;&lt;/a2&gt;soup.a1.nextSibling#&nbsp;&lt;a2&gt;&lt;/a2&gt;soup.a2.previousSibling#&nbsp;&lt;a1&gt;&lt;/a1&gt;</pre><p><code>extract</code>方法将一个剖析树分离为两个不连贯的树。naviation的成员也因此变得看起来好像这两个树\r\n从来不是一起的。</p><pre>soup.a1.nextSibling#&nbsp;&lt;a2&gt;&lt;/a2&gt;soup.a2.previousSibling#&nbsp;&lt;a1&gt;&lt;/a1&gt;subtree.previousSibling&nbsp;==&nbsp;None#&nbsp;Truesubtree.parent&nbsp;==&nbsp;None#&nbsp;True</pre><a name=\"Replacing one Element with Another\"></a><h3>使用一个元素替换另一个元素</h3><p><code>replaceWith</code>方法抽出一个页面元素并将其替换为一个不同的元素。\r\n新元素可以为一个<code>Tag</code>（它可能包含一个剖析树）或者<code>NavigableString</code>。\r\n如果你传一个字符串到<code>replaceWith</code>, 它会变为<code>NavigableString</code>。\r\n这个Navigation成员会完全融入到这个剖析树中，就像它本来就存在一样。</p><p>下面是一个简单的例子：</p>The new element can be a <code>Tag</code> (possibly with a\r\nwhole parse tree beneath it) or a <code>NavigableString</code>. If you pass a\r\nplain old string into <code>replaceWith</code>, it gets turned into a<code>NavigableString</code>. The navigation members are changed as though the\r\ndocument had been parsed that way in the first place.<p>Here&#39;s a simple example:</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupsoup&nbsp;=&nbsp;BeautifulSoup(&quot;&lt;b&gt;Argh!&lt;/b&gt;&quot;)soup.find(text=&quot;Argh!&quot;).replaceWith(&quot;Hooray!&quot;)print&nbsp;soup#&nbsp;&lt;b&gt;Hooray!&lt;/b&gt;newText&nbsp;=&nbsp;soup.find(text=&quot;Hooray!&quot;)newText.previous#&nbsp;&lt;b&gt;Hooray!&lt;/b&gt;newText.previous.next#&nbsp;u&#39;Hooray!&#39;newText.parent#&nbsp;&lt;b&gt;Hooray!&lt;/b&gt;soup.b.contents#&nbsp;[u&#39;Hooray!&#39;]</pre><p>这里有一个更复杂点的，相互替换标签(tag)的例子：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoup,&nbsp;Tagsoup&nbsp;=&nbsp;BeautifulSoup(&quot;&lt;b&gt;Argh!&lt;a&gt;Foo&lt;/a&gt;&lt;/b&gt;&lt;i&gt;Blah!&lt;/i&gt;&quot;)tag&nbsp;=&nbsp;Tag(soup,&nbsp;&quot;newTag&quot;,&nbsp;[(&quot;id&quot;,&nbsp;1)])tag.insert(0,&nbsp;&quot;Hooray!&quot;)soup.a.replaceWith(tag)print&nbsp;soup#&nbsp;&lt;b&gt;Argh!&lt;newTag&nbsp;id=&quot;1&quot;&gt;Hooray!&lt;/newTag&gt;&lt;/b&gt;&lt;i&gt;Blah!&lt;/i&gt;</pre><p>You can even rip out an element from one part of the document and\r\nstick it in another part:<br/>你也可以将一个元素抽出然后插入到文档的其他地方：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSouptext&nbsp;=&nbsp;&quot;&lt;html&gt;There&#39;s&nbsp;&lt;b&gt;no&lt;/b&gt;&nbsp;business&nbsp;like&nbsp;&lt;b&gt;show&lt;/b&gt;&nbsp;business&lt;/html&gt;&quot;soup&nbsp;=&nbsp;BeautifulSoup(text)no,&nbsp;show&nbsp;=&nbsp;soup.findAll(&#39;b&#39;)show.replaceWith(no)print&nbsp;soup#&nbsp;&lt;html&gt;There&#39;s&nbsp;&nbsp;business&nbsp;like&nbsp;&lt;b&gt;no&lt;/b&gt;&nbsp;business&lt;/html&gt;</pre><a name=\"Adding a Brand New Element\"></a><h3>添加一个全新的元素</h3><p>The <code>Tag</code> class and the parser classes support a method called<code>insert</code>. It works just like a Python list&#39;s <code>insert</code> method: it takes\r\nan index to the tag&#39;s <code>contents</code> member, and sticks a new element in\r\nthat slot.<br/>标签类和剖析类有一个insert方法，它就像Python列表的<code>insert</code>方法：\r\n它使用索引来定位标签的<code>contents</code>成员，然后在那个位置插入一个新的元素。</p><p>This was demonstrated in the previous section, when we replaced a\r\ntag in the document with a brand new tag. You can use <code>insert</code> to\r\nbuild up an entire parse tree from scratch:<br/>在前面那个小结中，我们在文档替换一个新的标签时有用到这个方法。你可以使用<code>insert</code>来重新构建整个剖析树：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoup,&nbsp;Tag,&nbsp;NavigableStringsoup&nbsp;=&nbsp;BeautifulSoup()tag1&nbsp;=&nbsp;Tag(soup,&nbsp;&quot;mytag&quot;)tag2&nbsp;=&nbsp;Tag(soup,&nbsp;&quot;myOtherTag&quot;)tag3&nbsp;=&nbsp;Tag(soup,&nbsp;&quot;myThirdTag&quot;)soup.insert(0,&nbsp;tag1)tag1.insert(0,&nbsp;tag2)tag1.insert(1,&nbsp;tag3)print&nbsp;soup#&nbsp;&lt;mytag&gt;&lt;myOtherTag&gt;&lt;/myOtherTag&gt;&lt;myThirdTag&gt;&lt;/myThirdTag&gt;&lt;/mytag&gt;text&nbsp;=&nbsp;NavigableString(&quot;Hello!&quot;)tag3.insert(0,&nbsp;text)print&nbsp;soup#&nbsp;&lt;mytag&gt;&lt;myOtherTag&gt;&lt;/myOtherTag&gt;&lt;myThirdTag&gt;Hello!&lt;/myThirdTag&gt;&lt;/mytag&gt;</pre><p>An element can occur in only one place in one parse tree. If you\r\ngive <code>insert</code> an element that&#39;s already connected to a soup object, it\r\ngets disconnected (with <code>extract</code>) before it gets connected\r\nelsewhere. In this example, I try to insert my <code>NavigableString</code> into\r\na second part of the soup, but it doesn&#39;t get inserted again. It gets\r\nmoved:<br/>一个元素可能只在剖析树中出现一次。如果你给<code>insert</code>的元素已经和soup对象所关联，\r\n它会被取消关联(使用<code>extract</code>)在它在被连接别的地方之前。在这个例子中，我试着插入我的<code>NavigableString</code>到\r\nsoup对象的第二部分，但是它并没有被再次插入而是被移动了：</p><pre>tag2.insert(0,&nbsp;text)print&nbsp;soup#&nbsp;&lt;mytag&gt;&lt;myOtherTag&gt;Hello!&lt;/myOtherTag&gt;&lt;myThirdTag&gt;&lt;/myThirdTag&gt;&lt;/mytag&gt;</pre><p>This happens even if the element previously belonged to a\r\ncompletely different soup object. An element can only have one<code>parent</code>, one <code>nextSibling</code>, et cetera, so it can only be in one place\r\nat a time.<br/>即使这个元素属于一个完全不同的soup对象，还是会这样。\r\n一个元素只可以有一个<code>parent</code>，一个<code>nextSibling</code>等等，也就是说一个地方只能出现一次。<a name=\"Troubleshooting\"></a></p><h2><a name=\"Troubleshooting\"></a>常见问题(Troubleshooting)</h2><p>This section covers common problems people have with Beautiful Soup.\r\n这一节是使用BeautifulSoup时会遇到的一些常见问题的解决方法。<a name=\"Why can&#39;t Beautiful Soup print out the non-ASCII characters I gave it?\"></a></p><h3><a name=\"Why can&#39;t Beautiful Soup print out the non-ASCII characters I gave it?\"></a>为什么Beautiful Soup不能打印我的no-ASCII字符?</h3><p>If you&#39;re getting errors that say: \r\n<code>&quot;&#39;ascii&#39; codec can&#39;t encode character &#39;x&#39; in position y: ordinal not in range(128)&quot;</code>, \r\nthe problem is probably with your Python installation rather than with\r\nBeautiful Soup. Try printing out the non-ASCII characters without\r\nrunning them through Beautiful Soup and you should have the same\r\nproblem. For instance, try running code like this:<br/>如果你遇到这样的错误：<code>&quot;&#39;ascii&#39; codec can&#39;t encode character &#39;x&#39; in position y: ordinal not in range(128)&quot;</code>,\r\n这个错误可能是Python的问题而不是BeautifulSoup。<br/>（译者注：在已知文档编码类型的情况下，可以先将编码转换为unicode形式，在转换为utf-8编码，然后才传递给BeautifulSoup。\r\n例如HTML的内容htm是GB2312编码:<br/>htm=unicode(htm,&#39;gb2312&#39;,&#39;ignore&#39;).encode(&#39;utf-8&#39;,&#39;ignore&#39;)<br/>soup=BeautifulSoup(htm)<br/>如果不知道编码的类型,可以使用chardet先检测一下文档的编码类型。chardet需要自己安装一下，在网上很容下到。）<br/>试着不用Beautiful Soup而直接打印non-ASCII 字符，你也会遇到一样的问题。\r\n例如，试着运行以下代码：</p><pre>latin1word&nbsp;=&nbsp;&#39;Sacr\\xe9&nbsp;bleu!&#39;unicodeword&nbsp;=&nbsp;unicode(latin1word,&nbsp;&#39;latin-1&#39;)print&nbsp;unicodeword</pre><p>If this works but Beautiful Soup doesn&#39;t, there&#39;s probably a bug in\r\nBeautiful Soup. However, if this doesn&#39;t work, the problem&#39;s with your\r\nPython setup. Python is playing it safe and not sending non-ASCII\r\ncharacters to your terminal. There are two ways to override this\r\nbehavior.<br/>如果它没有问题而Beautiful Soup不行，这可能是BeautifulSoup的一个bug。\r\n但是，如果这个也有问题，就是Python本身的问题。Python为了安全缘故不支持发送non-ASCII\r\n到终端。有两种方法可以解决这个限制。</p><ol class=\" list-paddingleft-2\"><li><p>The easy way is to remap standard output to a converter that&#39;s\r\nnot afraid to send ISO-Latin-1 or UTF-8 characters to the terminal.<br/>最简单的方式是将标准输出重新映射到一个转换器，不在意发送到终端的字符类型是ISO-Latin-1还是UTF-8字符串。</p><pre>import&nbsp;codecsimport&nbsp;sysstreamWriter&nbsp;=&nbsp;codecs.lookup(&#39;utf-8&#39;)[-1]sys.stdout&nbsp;=&nbsp;streamWriter(sys.stdout)</pre><p><code>codecs.lookup</code> returns a number of bound methods and\r\nother objects related to a codec. The last one is a<code>StreamWriter</code> object capable of wrapping an output\r\nstream.<br/><code>codecs.lookup</code>返回一些绑定的方法和其它和codec相关的对象。\r\n最后一行是一个封装了输出流的<code>StreamWriter</code>对象。</p></li><li><p>The hard way is to create a <code>sitecustomize.py</code> file\r\nin your Python installation which sets the default encoding to\r\nISO-Latin-1 or to UTF-8. Then all your Python programs will use that\r\nencoding for standard output, without you having to do something for\r\neach program. In my installation, I have a<code>/usr/lib/python/sitecustomize.py</code> which looks like this:<br/>稍微困难点的方法是创建一个<code>sitecustomize.py</code>文件在你的Python安装中，\r\n将默认编码设置为ISO-Latin-1或UTF-8。这样你所有的Python程序都会使用这个编码作为标准输出，\r\n不用在每个程序里再设置一下。在我的安装中，我有一个<code>/usr/lib/python/sitecustomize.py</code>，内容如下：</p><pre>import&nbsp;syssys.setdefaultencoding(&quot;utf-8&quot;)</pre></li></ol><p>For more information about Python&#39;s Unicode support, look at <a href=\"http://dalchemy.com/opensource/unicodedoc/\">Unicode for\r\nProgrammers</a> or <a href=\"http://dalchemy.com/opensource/unicodedoc/\">End to End Unicode\r\nWeb Applications in Python</a>. Recipes 1.20 and 1.21 in the Python\r\ncookbook are also very helpful.<br/>更多关于Python的Unicode支持的信息，参考 <a href=\"http://dalchemy.com/opensource/unicodedoc/\">Unicode for\r\nProgrammers</a> or <a href=\"http://dalchemy.com/opensource/unicodedoc/\">End to End Unicode\r\nWeb Applications in Python</a>。Python食谱的给的菜谱1.20和1.21也很有用。</p><p>Remember, even if your terminal display is restricted to ASCII, you\r\ncan still use Beautiful Soup to parse, process, and write documents in\r\nUTF-8 and other encodings. You just can&#39;t print certain strings with<code>print</code>.<br/>但是即使你的终端显示被限制为ASCII，你也可以使用BeautifulSoup以UTF-8和其它的编码类型来剖析，处理和修改文档。\r\n只是对于某些字符，你不能使用<code>print</code>来输出。</p><h3><a name=\"Beautiful Soup loses the data I fed it! Why? WHY?????\"></a>Beautiful Soup 弄丢了我给的数据!为什么?为什么?????</h3><p>Beautiful Soup can handle poorly-structured SGML, but sometimes\r\nit loses data when it gets stuff that&#39;s not SGML at all. This is\r\nnot nearly as common as poorly-structured markup, but if you&#39;re\r\nbuilding a web crawler or something you&#39;ll surely run into it.<br/>Beautiful Soup可以处理结构不太规范的SGML，但是给它的材料非常不规范，\r\n它会丢失数据。如果你是在写一个网络爬虫之类的程序，你肯定会遇到这种，不太常见的结构有问题的文档。</p><p>The only solution is to \r\n<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Sanitizing%20Bad%20Data%20with%20Regexps\">sanitize the data ahead of\r\ntime</a> with a regular expression. Here are some examples that I and\r\nBeautiful Soup users have discovered:<br/>唯一的解决方法是先使用正则表达式来<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Sanitizing%20Bad%20Data%20with%20Regexps\">规范数据。</a> 下面是一些我和一些Beautiful Soup的使用者发现的例子：</p><ul class=\" list-paddingleft-2\"><li><p>Beautiful Soup treats ill-formed XML definitions as data. However,\r\n	it loses well-formed XML definitions that don&#39;t actually exist:<br/>Beautiful Soup 将不规范德XML定义处理为数据(data)。然而，它丢失了那些实际上不存在的良好的XML定义：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupBeautifulSoup(&quot;&lt;&nbsp;!&nbsp;FOO&nbsp;@=&gt;&quot;)#&nbsp;&lt;&nbsp;!&nbsp;FOO&nbsp;@=&gt;BeautifulSoup(&quot;&lt;b&gt;&lt;!FOO&gt;!&lt;/b&gt;&quot;)#&nbsp;&lt;b&gt;!&lt;/b&gt;</pre></li><li><p>If your document starts a declaration and never finishes it,\r\nBeautiful Soup assumes the rest of your document is part of the\r\ndeclaration. If the document ends in the middle of the declaration,\r\nBeautiful Soup ignores the declaration totally. A couple examples:<br/>如果你的文档开始了声明但却没有关闭，Beautiful Soup假定你的文档的剩余部分都是这个声明的一部分。\r\n如果文档在声明的中间结束了，Beautiful Soup会忽略这个声明。如下面这个例子：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupBeautifulSoup(&quot;foo&lt;!bar&quot;)#&nbsp;foo&nbsp;soup&nbsp;=&nbsp;BeautifulSoup(&quot;&lt;html&gt;foo&lt;!bar&lt;/html&gt;&quot;)print&nbsp;soup.prettify()#&nbsp;&lt;html&gt;#&nbsp;&nbsp;foo&lt;!bar&lt;/html&gt;#&nbsp;&lt;/html&gt;</pre><p>There are a couple ways to fix this; one is detailed <a href=\"http://groups.google.com/group/beautifulsoup/browse_thread/thread/69093cb0d3a3cf63\">here</a>.<br/>有几种方法来处理这种情况；其中一种在<a href=\"http://groups.google.com/group/beautifulsoup/browse_thread/thread/69093cb0d3a3cf63\">这里</a>有详细介绍。</p><p>Beautiful Soup also ignores an entity reference that&#39;s not finished\r\nby the end of the document:<br/>Beautiful Soup 也会忽略实体引用，如果它没有在文档结束的时候关闭：</p><pre>BeautifulSoup(&quot;&amp;lt;foo&amp;gt&quot;)#&nbsp;&amp;lt;foo</pre><p>I&#39;ve never seen this in real web pages, but it&#39;s probably out there\r\nsomewhere.\r\n我从来没有在实际的网页中遇到这种情况，但是也许别的地方会出现。</p></li><li><p>A malformed comment will make Beautiful Soup ignore the rest of\r\nthe document. This is covered as the example in <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Sanitizing%20%0ABad%20Data%20with%20Regexps\">Sanitizing Bad Data with Regexps</a>.<br/>一个畸形的注释会是Beautiful Soup回来文档的剩余部分。在<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Sanitizing%20%0ABad%20Data%20with%20Regexps\">使用正则规范数据</a>这里有详细的例子。</p></li></ul><h3>The parse tree built by the <code>BeautifulSoup</code> class offends my\r\nsenses!<br/><code>BeautifulSoup</code>类构建的剖析树让我感到头痛。</h3><p>To get your markup parsed differently, check out \r\n<br/>尝试一下别的剖析方法，试试<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Other%20Built-In%20Parsers\">其他内置的剖析器</a>,或者 \r\n<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Customizing%20the%20Parser\">自定义一个剖析器</a>.<a name=\"Beautiful Soup is too slow!\"></a></p><h3><a name=\"Beautiful Soup is too slow!\"></a>Beautiful Soup 太慢了！</h3><p>Beautiful Soup will never run as fast as ElementTree or a\r\ncustom-built <code>SGMLParser</code> subclass. ElementTree is written in C, and<code>SGMLParser</code> lets you write your own mini-Beautiful Soup that only\r\ndoes what you want. The point of Beautiful Soup is to save programmer\r\ntime, not processor time.<br/>Beautiful Soup 不会像ElementTree或者自定义的<code>SGMLParser</code>子类一样快。\r\nElementTree是用C写的，并且做那些你想要做的事。\r\nBeautiful Soup是用来节省程序员的时间，而不是处理器的时间。</p><p>That said, you can speed up Beautiful Soup quite a lot by \r\n<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Improving%20Performance%20by%20Parsing%20Only%20Part%20of%20the%20Document\">only \r\nparsing the parts of the document you need</a>, and you\r\ncan make unneeded objects get garbage-collected by using <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Improving%20Memory%20Usage%20with%20extract\"><code>extract</code></a>.<br/>但是你可以加快Beautiful Soup通过<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Improving%20Performance%20by%20Parsing%20Only%20Part%20of%20the%20Document\">解析部分的文档</a>,<a name=\"Advanced Topics\"></a></p><h2><a name=\"Advanced Topics\"></a>高级主题</h2><p>That does it for the basic usage of Beautiful Soup. But HTML and\r\nXML are tricky, and in the real world they&#39;re even trickier. So\r\nBeautiful Soup keeps some extra tricks of its own up its sleeve.<br/>那些是对Beautiful Soup的基本用法。但是现实中的HTML和XML是非常棘手的(tricky)，即使他们不是trickier。\r\n因此Beautiful Soup也有一些额外的技巧。<a name=\"Generators\"></a></p><h3><a name=\"Generators\"></a>产生器</h3><p>The search methods described above are driven by generator\r\nmethods. You can use these methods yourself: they&#39;re called<code>nextGenerator</code>, <code>previousGenerator</code>, <code>nextSiblingGenerator</code>,<code>previousSiblingGenerator</code>, and <code>parentGenerator</code>. <code>Tag</code> and parser\r\nobjects also have <code>childGenerator</code> and <code>recursiveChildGenerator</code>available. \r\n<br/>以上的搜索方法都是由产生器驱动的。你也可以自己使用这些方法：\r\n他们是<code>nextGenerator</code>, <code>previousGenerator</code>, <code>nextSiblingGenerator</code>,<code>previousSiblingGenerator</code>, 和<code>parentGenerator</code>. <code>Tag</code>和剖析对象\r\n可以使用<code>childGenerator</code>和<code>recursiveChildGenerator</code>。</p><p>Here&#39;s a simple example that strips HTML tags out of a document by\r\niterating over the document and collecting all the strings.<br/>下面是一个简单的例子,将遍历HTML的标签并将它们从文档中剥离，搜集所有的字符串:</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupsoup&nbsp;=&nbsp;BeautifulSoup(&quot;&quot;&quot;&lt;div&gt;You&nbsp;&lt;i&gt;bet&lt;/i&gt;&lt;a&nbsp;href=&quot;http://www.crummy.com/software/BeautifulSoup/&quot;&gt;BeautifulSoup&lt;/a&gt;rocks!&lt;/div&gt;&quot;&quot;&quot;)&#39;&#39;.join([e&nbsp;for&nbsp;e&nbsp;in&nbsp;soup.recursiveChildGenerator()if&nbsp;isinstance(e,unicode)])#&nbsp;u&#39;You&nbsp;bet\\nBeautifulSoup\\nrocks!&#39;</pre><p>Here&#39;s a more complex example that uses <code>recursiveChildGenerator</code>to iterate over the elements of a document, printing each one as it\r\ngets it.\r\n这是一个稍微复杂点的使用<code>recursiveChildGenerator</code>的例子来遍历文档中所有元素，\r\n并打印它们。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupsoup&nbsp;=&nbsp;BeautifulSoup(&quot;1&lt;a&gt;2&lt;b&gt;3&quot;)g&nbsp;=&nbsp;soup.recursiveChildGenerator()while&nbsp;True:try:print&nbsp;g.next()except&nbsp;StopIteration:break#&nbsp;1#&nbsp;&lt;a&gt;2&lt;b&gt;3&lt;/b&gt;&lt;/a&gt;#&nbsp;2#&nbsp;&lt;b&gt;3&lt;/b&gt;#&nbsp;3</pre><a name=\"Other Built-In Parsers\"></a><h3>其它内置的剖析器</h3><p>Beautiful Soup comes with three parser classes besides <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Parsing%20HTML\"><code>BeautifulSoup</code></a> and <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Parsing%20XML\"><code>BeautifulStoneSoup</code></a>:<br/>除了<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Parsing%20HTML\"><code>BeautifulSoup</code></a>和<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Parsing%20XML\"><code>BeautifulStoneSoup</code></a>，还有其它三个Beautiful Soup剖析器：</p><ul class=\" list-paddingleft-2\"><li><p><code>MinimalSoup</code> is a subclass of <code>BeautifulSoup</code>. It knows most\r\nfacts about HTML like which tags are self-closing, the special\r\nbehavior of the &lt;SCRIPT&gt; tag, the possibility of an encoding mentioned\r\nin a &lt;META&gt; tag, etc. But it has no nesting heuristics at all. So it\r\ndoesn&#39;t know that &lt;LI&gt; tags go underneath &lt;UL&gt; tags and not the other\r\nway around. It&#39;s useful for parsing pathologically bad markup, and for\r\nsubclassing.<br/><code>MinimalSoup</code>是<code>BeautifulSoup</code>的子类。对于HTML的大部分内容都可以处理，\r\n例如自关闭的标签，特殊的标签&lt;SCRIPT&gt;,&lt;META&gt;中写到的可能的编码类型，等等。\r\n但是它没有内置的智能判断能力。例如它不知道&lt;LI&gt;标签应该在&lt;UL&gt;下，而不是其他方式。\r\n对于处理糟糕的标记和用来被继承还是有用的。</p></li><li><p><code>ICantBelieveItsBeautifulSoup</code> is also a subclass of<code>BeautifulSoup</code>. It has HTML heuristics that conform more\r\nclosely to the HTML standard, but ignore how HTML is used in the real\r\nworld. For instance, it&#39;s valid HTML to nest &lt;B&gt; tags, but in the real\r\nworld a nested &lt;B&gt; tag almost always means that the author forgot to\r\nclose the first &lt;B&gt; tag. If you run into someone who actually nests\r\n&lt;B&gt; tags, then you can use <code>ICantBelieveItsBeautifulSoup</code>.<code>ICantBelieveItsBeautifulSoup</code>也是BeautifulSoup的子类。\r\n它具有HTML的智能(heuristics)判断能力，更加符合标准的HTML，但是忽略实际使用的HTML。\r\n例如：一个嵌入&lt;B&gt;标签的HTML是有效的，但是实际上一个嵌入的&lt;B&gt;通常意味着\r\n那个HTML的作者忘记了关闭第一个&lt;B&gt;标签。如果你运行某些人确实使用嵌入的&lt;B&gt;标签的HTML，\r\n这是你可以是使用<code>ICantBelieveItsBeautifulSoup</code>。</p></li><li><p><code>BeautifulSOAP</code> is a subclass of<code>BeautifulStoneSoup</code>. It&#39;s useful for parsing documents\r\nlike SOAP messages, which use a subelement when they could just use an\r\nattribute of the parent element. Here&#39;s an example:<br/><code>BeautifulSOAP</code>是<code>BeautifulStoneSoup</code>的子类。对于处理那些类似SOAP消息的文档，\r\n也就是处理那些可以将标签的子标签变为其属性的文档很方便。下面是一个例子：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulStoneSoup,&nbsp;BeautifulSOAPxml&nbsp;=&nbsp;&quot;&lt;doc&gt;&lt;tag&gt;subelement&lt;/tag&gt;&lt;/doc&gt;&quot;print&nbsp;BeautifulStoneSoup(xml)#&nbsp;&lt;doc&gt;&lt;tag&gt;subelement&lt;/tag&gt;&lt;/doc&gt;print&nbsp;BeautifulSOAP(xml)&lt;doc&nbsp;tag=&quot;subelement&quot;&gt;&lt;tag&gt;subelement&lt;/tag&gt;&lt;/doc&gt;</pre><p>With <code>BeautifulSOAP</code> you can access the contents of the\r\n&lt;TAG&gt; tag without descending into the tag.<br/>使用<code>BeautifulSOAP</code>,你可以直接存取&lt;TAG&gt;而不需要再往下解析。</p></li></ul><a name=\"Customizing the Parser\"></a><h3>定制剖析器(Parser)</h3><p>When the built-in parser classes won&#39;t do the job, you need to\r\ncustomize. This usually means customizing the lists of nestable and\r\nself-closing tags. You can customize the list of self-closing tags by\r\npassing a <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#selfClosingTags\"><code>selfClosingTags</code></a> argument\r\ninto the soup constructor. To customize the lists of nestable tags,\r\nthough, you&#39;ll have to subclass.<br/>当内置的剖析类不能做一些工作时，你需要定制它们。\r\n这通常意味着重新定义可内嵌的标签和自关闭的标签列表。\r\n你可以通过传递参数<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#selfClosingTags\"><code>selfClosingTags</code></a>给soup的构造器来定制自关闭的标签。自定义可以内嵌的标签的列表，你需要子类化。</p><p>The most useful classes to subclass are <code>MinimalSoup</code> (for HTML)\r\nand <code>BeautifulStoneSoup</code> (for XML). I&#39;m going to show you how to\r\noverride <code>RESET_NESTING_TAGS</code> and <code>NESTABLE_TAGS</code> in a subclass. This\r\nis the most complicated part of Beautiful Soup and I&#39;m not going to\r\nexplain it very well here, but I&#39;ll get something written and then I\r\ncan improve it with feedback.<br/>非常有用的用来子类的类是<code>MinimalSoup</code>类(针对HTML)和<code>BeautifulStoneSoup</code>(针对XML)。\r\n我会说明如何在子类中重写<code>RESET_NESTING_TAGS</code>和<code>NESTABLE_TAGS</code>。这是Beautiful Soup 中\r\n最为复杂的部分，所以我也不会在这里详细的解释，但是我会写些东西并利用反馈来改进它。</p><p>When Beautiful Soup is parsing a document, it keeps a stack of open\r\ntags. Whenever it sees a new start tag, it tosses that tag on top of\r\nthe stack. But before it does, it might close some of the open tags\r\nand remove them from the stack. Which tags it closes depends on the\r\nqualities of tag it just found, and the qualities of the tags in the\r\nstack.<br/>当Beautiful Soup剖析一个文档的时候，它会保持一个打开的tag的堆栈。任何时候只要它看到一个新的\r\n开始tag，它会将这个tag拖到堆栈的顶端。但在做这步之前，它可能会关闭某些已经打开的标签并将它们从\r\n堆栈中移除。</p><p>The best way to explain it is through example. Let&#39;s say the stack\r\nlooks like <code>[&#39;html&#39;, &#39;p&#39;, &#39;b&#39;]</code>, and Beautiful Soup encounters a &lt;P&gt;\r\ntag. If it just tossed another <code>&#39;p&#39;</code> onto the stack, this would imply\r\nthat the second &lt;P&gt; tag is within the first &lt;P&gt; tag, not to mention\r\nthe open &lt;B&gt; tag. But that&#39;s not the way &lt;P&gt; tags work. You can&#39;t\r\nstick a &lt;P&gt; tag inside another &lt;P&gt; tag. A &lt;P&gt; tag isn&#39;t &quot;nestable&quot; at\r\nall.<br/>我们最好还是通过例子来解释。我们假定堆栈如同<code>[&#39;html&#39;,&#39;p&#39;,&#39;b&#39;]</code>，\r\n并且Beautiful Soup遇到一个&lt;P&gt;标签。如果它仅仅将另一个<code>&#39;p&#39;</code>拖到堆栈的顶端，\r\n这意味着第二个&lt;P&gt;标签在第一个&lt;P&gt;内，而不会影响到打开的&lt;B&gt;。\r\n但是这不是&lt;P&gt;应该的样子。你不能插入一个&lt;P&gt;到另一个&lt;P&gt;里面去。&lt;P&gt;标签不是可内嵌的。</p><p>So when Beautiful Soup encounters a &lt;P&gt; tag, it closes and pops all\r\nthe tags up to and including the previously encountered tag of the\r\nsame type. This is the default behavior, and this is how<code>BeautifulStoneSoup</code> treats <em>every</em> tag. It&#39;s what you get when a\r\ntag is not mentioned in either <code>NESTABLE_TAGS</code> or<code>RESET_NESTING_TAGS</code>. It&#39;s also what you get when a tag shows up in<code>RESET_NESTING_TAGS</code> but has no entry in <code>NESTABLE_TAGS</code>, the way the\r\n&lt;P&gt; tag does.<br/>因此当Beautiful Soup 遇到一个&lt;P&gt;时，它先关闭并弹出所有的标签，包括前面遇到的同类型的标签。\r\n这是默认的操作，这也是Beautiful Soup对待每个标签的方式。当一个标签不在<code>NESTABLE_TAGS</code>或<code>RESET_NESTING_TAGS</code>中时，你会遇到的处理方式。这也是当一个标签在<code>RESET_NESTING_TAGS</code>中而不在<code>NESTABLE_TAGS</code>中时的处理方式，就像处理&lt;P&gt;一样。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupBeautifulSoup.RESET_NESTING_TAGS[&#39;p&#39;]&nbsp;==&nbsp;None#&nbsp;TrueBeautifulSoup.NESTABLE_TAGS.has_key(&#39;p&#39;)#&nbsp;Falseprint&nbsp;BeautifulSoup(&quot;&lt;html&gt;&lt;p&gt;Para&lt;b&gt;one&lt;p&gt;Para&nbsp;two&quot;)#&nbsp;&lt;html&gt;&lt;p&gt;Para&lt;b&gt;one&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Para&nbsp;two&lt;/p&gt;&lt;/html&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^---^--The&nbsp;second&nbsp;&lt;p&gt;&nbsp;tag&nbsp;made&nbsp;those&nbsp;two&nbsp;tags&nbsp;get&nbsp;closed</pre><p>Let&#39;s say the stack looks like <code>[&#39;html&#39;, &#39;span&#39;, &#39;b&#39;]</code>, and\r\nBeautiful Soup encounters a &lt;SPAN&gt; tag. Now, &lt;SPAN&gt; tags can contain\r\nother &lt;SPAN&gt; tags without limit, so there&#39;s no need to pop up to the\r\nprevious &lt;SPAN&gt; tag when you encounter one. This is represented by\r\nmapping the tag name to an empty list in <code>NESTABLE_TAGS</code>. This kind of\r\ntag should not be mentioned in <code>RESET_NESTING_TAGS</code>: there are no\r\ncircumstances when encountering a &lt;SPAN&gt; tag would cause any tags to\r\nbe popped.<br/>我们假定堆栈如同<code>[&#39;html&#39;,&#39;span&#39;,&#39;b&#39;]</code>，并且Beautiful Soup 遇到一个&lt;SPAN&gt;标签。\r\n现在，&lt;SPAN&gt;可以无限制包含其他的&lt;SPAN&gt;，因此当再次遇到&lt;SPAN&gt;标签时没有必要弹出前面的&lt;SPAN&gt;标签。\r\n这是通过映射标签名到<code>NESTABLE_TAGS</code>中的一个空列表里。这样的标签也需要在<code>RESET_NESTING_TAGS</code>里\r\n设置：当再次遇到&lt;SPAN&gt;是不会再导致任何标签被弹出并关闭。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupBeautifulSoup.NESTABLE_TAGS[&#39;span&#39;]#&nbsp;[]BeautifulSoup.RESET_NESTING_TAGS.has_key(&#39;span&#39;)#&nbsp;Falseprint&nbsp;BeautifulSoup(&quot;&lt;html&gt;&lt;span&gt;Span&lt;b&gt;one&lt;span&gt;Span&nbsp;two&quot;)#&nbsp;&lt;html&gt;&lt;span&gt;Span&lt;b&gt;one&lt;span&gt;Span&nbsp;two&lt;/span&gt;&lt;/b&gt;&lt;/span&gt;&lt;/html&gt;</pre><p>Third example: suppose the stack looks like <code>[&#39;ol&#39;,&#39;li&#39;,&#39;ul&#39;]</code>:\r\nthat is, we&#39;ve got an ordered list, the first element of which\r\ncontains an unordered list. Now suppose Beautiful Soup encounters a\r\n&lt;LI&gt; tag. It shouldn&#39;t pop up to the first &lt;LI&gt; tag, because this new\r\n&lt;LI&gt; tag is part of the unordered sublist. It&#39;s okay for an &lt;LI&gt; tag\r\nto be inside another &lt;LI&gt; tag, so long as there&#39;s a &lt;UL&gt; or &lt;OL&gt; tag\r\nin the way.<br/>第三个例子:假定堆栈如同<code>[&#39;ol&#39;,&#39;li&#39;,&#39;ul&#39;]</code>:\r\n也就是，我们有一个有序的list，且列表的第一个元素包含一个无序的list。现在假设，Beautiful Soup\r\n遇到一个&lt;LI&gt;标签。它不会弹出第一个&lt;LI&gt;，因为这个新的&lt;LI&gt;是无序的子list一部分。\r\n&lt;LI&gt;中内嵌一个&lt;LI&gt;是可以的，同样的&lt;UL&gt;和&lt;OL&gt;标签也可以这样。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupprint&nbsp;BeautifulSoup(&quot;&lt;ol&gt;&lt;li&gt;1&lt;ul&gt;&lt;li&gt;A&quot;).prettify()#&nbsp;&lt;ol&gt;#&nbsp;&nbsp;&lt;li&gt;#&nbsp;&nbsp;&nbsp;1#&nbsp;&nbsp;&nbsp;&lt;ul&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A#&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;#&nbsp;&nbsp;&nbsp;&lt;/ul&gt;#&nbsp;&nbsp;&lt;/li&gt;#&nbsp;&lt;/ol&gt;</pre><p>But if there is no intervening &lt;UL&gt; or &lt;OL&gt;, then one &lt;LI&gt; tag\r\ncan&#39;t be underneath another:<br/>如果&lt;UL&gt;和&lt;OL&gt;没有被干扰，这时一个&lt;LI&gt;标签也不能在另一个之下。[bad]</p><pre>print&nbsp;BeautifulSoup(&quot;&lt;ol&gt;&lt;li&gt;1&lt;li&gt;A&quot;).prettify()#&nbsp;&lt;ol&gt;#&nbsp;&nbsp;&lt;li&gt;#&nbsp;&nbsp;&nbsp;1#&nbsp;&nbsp;&lt;/li&gt;#&nbsp;&nbsp;&lt;li&gt;#&nbsp;&nbsp;&nbsp;A#&nbsp;&nbsp;&lt;/li&gt;#&nbsp;&lt;/ol&gt;</pre><p>We tell Beautiful Soup to treat &lt;LI&gt; tags this way by putting &quot;li&quot;\r\nin <code>RESET_NESTING_TAGS</code>, and by giving &quot;li&quot; a <code>NESTABLE_TAGS</code> entry\r\nshowing list of tags under which it can nest.<br/>Beautiful Soup这样对待&lt;LI&gt;是通过将&quot;li&quot;放入<code>RESET_NESTING_TAGS</code>，并给在<code>NESTABLE_TAGS</code>中给&quot;li&quot;一个可以内嵌接口。</p><pre>BeautifulSoup.RESET_NESTING_TAGS.has_key(&#39;li&#39;)#&nbsp;TrueBeautifulSoup.NESTABLE_TAGS[&#39;li&#39;]#&nbsp;[&#39;ul&#39;,&nbsp;&#39;ol&#39;]</pre><p>This is also how we handle the nesting of table tags:<br/>这也是处理内嵌的table标签的方式：</p><pre>BeautifulSoup.NESTABLE_TAGS[&#39;td&#39;]#&nbsp;[&#39;tr&#39;]BeautifulSoup.NESTABLE_TAGS[&#39;tr&#39;]#&nbsp;[&#39;table&#39;,&nbsp;&#39;tbody&#39;,&nbsp;&#39;tfoot&#39;,&nbsp;&#39;thead&#39;]BeautifulSoup.NESTABLE_TAGS[&#39;tbody&#39;]#&nbsp;[&#39;table&#39;]BeautifulSoup.NESTABLE_TAGS[&#39;thead&#39;]#&nbsp;[&#39;table&#39;]BeautifulSoup.NESTABLE_TAGS[&#39;tfoot&#39;]#&nbsp;[&#39;table&#39;]BeautifulSoup.NESTABLE_TAGS[&#39;table&#39;]#&nbsp;[]</pre><p>That is: &lt;TD&gt; tags can be nested within &lt;TR&gt; tags. &lt;TR&gt; tags can be\r\nnested within &lt;TABLE&gt;, &lt;TBODY&gt;, &lt;TFOOT&gt;, and &lt;THEAD&gt; tags. &lt;TBODY&gt;,\r\n&lt;TFOOT&gt;, and &lt;THEAD&gt; tags can be nested in &lt;TABLE&gt; tags, and &lt;TABLE&gt;\r\ntags can be nested in other &lt;TABLE&gt; tags. If you know about HTML\r\ntables, these rules should already make sense to you.<br/>也就是&lt;TD&gt;标签可以嵌入到&lt;TR&gt;中。\r\n&lt;TR&gt;可以被嵌入到&lt;TABLE&gt;, &lt;TBODY&gt;, &lt;TFOOT&gt;, 以及 &lt;THEAD&gt; 中。\r\n&lt;TBODY&gt;,&lt;TFOOT&gt;, and &lt;THEAD&gt;标签可以嵌入到 &lt;TABLE&gt; 标签中, 而 &lt;TABLE&gt;\r\n嵌入到其它的&lt;TABLE&gt; 标签中. 如果你对HTML有所了解，这些规则对你而言应该很熟悉。</p><p>One more example. Say the stack looks like <code>[&#39;html&#39;, &#39;p&#39;, &#39;table&#39;]</code>and Beautiful Soup encounters a &lt;P&gt; tag. \r\n<br/>再举一个例子，假设堆栈如同<code>[&#39;html&#39;,&#39;p&#39;,&#39;table&#39;]</code>，并且Beautiful Soup遇到一个&lt;P&gt;标签。</p><p>At first glance, this looks just like the example where the stack\r\nis <code>[&#39;html&#39;, &#39;p&#39;, &#39;b&#39;]</code> and Beautiful Soup encounters a &lt;P&gt; tag. In\r\nthat example, we closed the &lt;B&gt; and &lt;P&gt; tags, because you can&#39;t have\r\none paragraph inside another.\r\n首先，这看起来像前面的同样是Beautiful Soup遇到了堆栈<code>[&#39;html&#39;,&#39;p&#39;,&#39;b&#39;]</code>。\r\n在那个例子中，我们关闭了&lt;B&gt;和&lt;P&gt;标签，因为你不能在一个段落里内嵌另一个段落。</p><p>Except... you <em>can</em> have a paragraph that contains a table,\r\nand then the table contains a paragraph. So the right thing to do is\r\nto not close any of these tags. Beautiful Soup does the right thing:\r\n除非，你的段落里包含了一个table，然后这table包含了一个段落。因此，这种情况下正确的处理是\r\n不关闭任何标签。Beautiful Soup就是这样做的：</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupprint&nbsp;BeautifulSoup(&quot;&lt;p&gt;Para&nbsp;1&lt;b&gt;&lt;p&gt;Para&nbsp;2&quot;)#&nbsp;&lt;p&gt;#&nbsp;&nbsp;Para&nbsp;1#&nbsp;&nbsp;&lt;b&gt;#&nbsp;&nbsp;&lt;/b&gt;#&nbsp;&lt;/p&gt;#&nbsp;&lt;p&gt;#&nbsp;&nbsp;Para&nbsp;2#&nbsp;&lt;/p&gt;print&nbsp;BeautifulSoup(&quot;&lt;p&gt;Para&nbsp;1&lt;table&gt;&lt;p&gt;Para&nbsp;2&quot;).prettify()#&nbsp;&lt;p&gt;#&nbsp;&nbsp;Para&nbsp;1#&nbsp;&nbsp;&lt;table&gt;#&nbsp;&nbsp;&nbsp;&lt;p&gt;#&nbsp;&nbsp;&nbsp;&nbsp;Para&nbsp;2#&nbsp;&nbsp;&nbsp;&lt;/p&gt;#&nbsp;&nbsp;&lt;/table&gt;#&nbsp;&lt;/p&gt;</pre><p>What&#39;s the difference? The difference is that &lt;TABLE&gt; is in<code>RESET_NESTING_TAGS</code> and &lt;B&gt; is not. A tag that&#39;s in<code>RESET_NESTING_TAGS</code> doesn&#39;t get popped off the stack as easily as a\r\ntag that&#39;s not. \r\n<br/>有什么不同？不同是&lt;TABLE&gt;标签在<code>RESET_NESTING_TAGS</code>中，而&lt;B&gt;不在。\r\n一个在<code>RESET_NESTING_TAGS</code>中标签不会像不在其里面的标签那样，会是堆栈中标签被弹出。</p><p>Okay, hopefully you get the idea. Here&#39;s the <code>NESTABLE_TAGS</code> for\r\nthe <code>BeautifulSoup</code> class. Correlate this with what you know about\r\nHTML, and you should be able to create your own <code>NESTABLE_TAGS</code> for\r\nbizarre HTML documents that don&#39;t follow the normal rules, and for\r\nother XML dialects that have different nesting rules.<br/>好了，希望你明白了(我被弄有点晕，有些地方翻译的不清，还请见谅)。<code>NESTABLE_TAGS</code>用于<code>BeautifulSoup</code>类。\r\n依据你所知道的HTML，你可以创建你自己<code>NESTABLE_TAGS</code>来处理那些不遵循标准规则的HTML文档。\r\n以及那些使用不同嵌入规则XML的方言。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupnestKeys&nbsp;=&nbsp;BeautifulSoup.NESTABLE_TAGS.keys()nestKeys.sort()for&nbsp;key&nbsp;in&nbsp;nestKeys:print&nbsp;&quot;%s:&nbsp;%s&quot;&nbsp;%&nbsp;(key,&nbsp;BeautifulSoup.NESTABLE_TAGS[key])#&nbsp;bdo:&nbsp;[]#&nbsp;blockquote:&nbsp;[]#&nbsp;center:&nbsp;[]#&nbsp;dd:&nbsp;[&#39;dl&#39;]#&nbsp;del:&nbsp;[]#&nbsp;div:&nbsp;[]#&nbsp;dl:&nbsp;[]#&nbsp;dt:&nbsp;[&#39;dl&#39;]#&nbsp;fieldset:&nbsp;[]#&nbsp;font:&nbsp;[]#&nbsp;ins:&nbsp;[]#&nbsp;li:&nbsp;[&#39;ul&#39;,&nbsp;&#39;ol&#39;]#&nbsp;object:&nbsp;[]#&nbsp;ol:&nbsp;[]#&nbsp;q:&nbsp;[]#&nbsp;span:&nbsp;[]#&nbsp;sub:&nbsp;[]#&nbsp;sup:&nbsp;[]#&nbsp;table:&nbsp;[]#&nbsp;tbody:&nbsp;[&#39;table&#39;]#&nbsp;td:&nbsp;[&#39;tr&#39;]#&nbsp;tfoot:&nbsp;[&#39;table&#39;]#&nbsp;th:&nbsp;[&#39;tr&#39;]#&nbsp;thead:&nbsp;[&#39;table&#39;]#&nbsp;tr:&nbsp;[&#39;table&#39;,&nbsp;&#39;tbody&#39;,&nbsp;&#39;tfoot&#39;,&nbsp;&#39;thead&#39;]#&nbsp;ul:&nbsp;[]</pre><p>And here&#39;s <code>BeautifulSoup</code>&#39;s <code>RESET_NESTING_TAGS</code>. Only the keys\r\nare important: <code>RESET_NESTING_TAGS</code> is actually a list, put into the\r\nform of a dictionary for quick random access.<br/>这是<code>BeautifulSoup</code>的<code>RESET_NESTING_TAGS</code>。只有键(keys)是重要的：<code>RESET_NESTING_TAGS</code>实际是一个list，以字典的形式可以快速随机存取。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupresetKeys&nbsp;=&nbsp;BeautifulSoup.RESET_NESTING_TAGS.keys()resetKeys.sort()resetKeys#&nbsp;[&#39;address&#39;,&nbsp;&#39;blockquote&#39;,&nbsp;&#39;dd&#39;,&nbsp;&#39;del&#39;,&nbsp;&#39;div&#39;,&nbsp;&#39;dl&#39;,&nbsp;&#39;dt&#39;,&nbsp;&#39;fieldset&#39;,&nbsp;#&nbsp;&nbsp;&#39;form&#39;,&nbsp;&#39;ins&#39;,&nbsp;&#39;li&#39;,&nbsp;&#39;noscript&#39;,&nbsp;&#39;ol&#39;,&nbsp;&#39;p&#39;,&nbsp;&#39;pre&#39;,&nbsp;&#39;table&#39;,&nbsp;&#39;tbody&#39;,#&nbsp;&nbsp;&#39;td&#39;,&nbsp;&#39;tfoot&#39;,&nbsp;&#39;th&#39;,&nbsp;&#39;thead&#39;,&nbsp;&#39;tr&#39;,&nbsp;&#39;ul&#39;]</pre><p>Since you&#39;re subclassing anyway, you might as well override<code>SELF_CLOSING_TAGS</code> while you&#39;re at it. It&#39;s a dictionary that maps\r\nself-closing tag names to any values at all (like<code>RESET_NESTING_TAGS</code>, it&#39;s actually a list in the form of a\r\ndictionary). Then you won&#39;t have to pass that list in to the\r\nconstructor (as <code>selfClosingTags</code>) every time you instantiate your\r\nsubclass.<br/>因为无论如何都有使用继承，你最好还是在需要的时候重写<code>SELF_CLOSING_TAGS</code>。\r\n这是一个映射自关闭标签名的字典(如同<code>RESET_NESTING_TAGS</code>,它实际是字典形式的list)。\r\n这样每次实例化你的子类时，你就不用传list给构造器(如<code>selfClosingTags</code>)。<a name=\"Entity Conversion\"></a></p><h3><a name=\"Entity Conversion\"></a>实体转换</h3><p>When you parse a document, you can convert HTML or XML entity\r\nreferences to the corresponding Unicode characters. This code converts\r\nthe HTML entity &quot;&amp;eacute;&quot; to the Unicode character LATIN SMALL\r\nLETTER E WITH ACUTE, and the numeric entity &quot;&amp;#101;&quot; to the Unicode\r\ncharacter LATIN SMALL LETTER E.<br/>当你剖析一个文档是，你可以转换HTML或者XML实体引用到可表达Unicode的字符。\r\n这个代码转换HTML实体&quot;&amp;eacute;&quot;到Unicode字符 LATIN SMALL LETTER E WITH ACUTE,以及将\r\n数量实体&quot;&amp;#101;&quot;转换到Unicode字符LATIN SMALL LETTER E.</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulStoneSoupBeautifulStoneSoup(&quot;Sacr&amp;eacute;&nbsp;bl&amp;#101;u!&quot;,convertEntities=BeautifulStoneSoup.HTML_ENTITIES).contents[0]#&nbsp;u&#39;Sacr\\xe9&nbsp;bleu!&#39;</pre><p>That&#39;s if you use <code>HTML_ENTITIES</code> (which is just the string\r\n&quot;html&quot;). If you use <code>XML_ENTITIES</code> (or the string &quot;xml&quot;), then only\r\nnumeric entities and the five XML entities (&quot;&amp;quot;&quot;,\r\n&quot;&amp;apos;&quot;, &quot;&amp;gt;&quot;, &quot;&amp;lt;&quot;, and &quot;&amp;amp;&quot;) get\r\nconverted. If you use <code>ALL_ENTITIES</code> (or the list <code>[&quot;xml&quot;, &quot;html&quot;]</code>),\r\nthen both kinds of entities will be converted. This last one is\r\nneccessary because &amp;apos; is an XML entity but not an HTML\r\nentity.<br/>这是针对使用<code>HTML_ENTITIES</code>(也就是字符串&quot;html&quot;)。如果你使用<code>XML_ENTITIES</code>(或字符串&quot;xml&quot;)，\r\n这是只有数字实体和五个XML实体((&quot;&amp;quot;&quot;,&quot;&amp;apos;&quot;, &quot;&amp;gt;&quot;, &quot;&amp;lt;&quot;, 和 &quot;&amp;amp;&quot;)\r\n会被转换。如果你使用<code>ALL_ENTITIES</code>(或者列表<code>[&quot;xml&quot;,&quot;html&quot;]</code>)，\r\n两种实体都会被转换。最后一种方式是必要的，因为&amp;apos;是一个XML的实体而不是HTML的。</p><pre>BeautifulStoneSoup(&quot;Sacr&amp;eacute;&nbsp;bl&amp;#101;u!&quot;,convertEntities=BeautifulStoneSoup.XML_ENTITIES)#&nbsp;Sacr&amp;eacute;&nbsp;bleu!from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulStoneSoupBeautifulStoneSoup(&quot;Il&nbsp;a&nbsp;dit,&nbsp;&amp;lt;&amp;lt;Sacr&amp;eacute;&nbsp;bl&amp;#101;u!&amp;gt;&amp;gt;&quot;,convertEntities=BeautifulStoneSoup.XML_ENTITIES)#&nbsp;Il&nbsp;a&nbsp;dit,&nbsp;&lt;&lt;Sacr&amp;eacute;&nbsp;bleu!&gt;&gt;</pre><p>If you tell Beautiful Soup to convert XML or HTML entities into the\r\ncorresponding Unicode characters, then Windows-1252 characters (like\r\nMicrosoft smart quotes) also get transformed into Unicode\r\ncharacters. This happens even if you told Beautiful Soup to convert\r\nthose characters to entities.<br/>如果你指定Beautiful Soup转换XML或HTML实体到可通信的Unicode字符时，Windows-1252(微软的smart quotes)也会\r\n被转换为Unicode字符。即使你指定Beautiful Soup转换这些字符到实体是，也还是这样。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulStoneSoupsmartQuotesAndEntities&nbsp;=&nbsp;&quot;Il&nbsp;a&nbsp;dit,&nbsp;\\x8BSacr&amp;eacute;&nbsp;bl&amp;#101;u!\\x9b&quot;BeautifulStoneSoup(smartQuotesAndEntities,&nbsp;smartQuotesTo=&quot;html&quot;).contents[0]#&nbsp;u&#39;Il&nbsp;a&nbsp;dit,&nbsp;&amp;lsaquo;Sacr&amp;eacute;&nbsp;bl&amp;#101;u!&amp;rsaquo;&#39;BeautifulStoneSoup(smartQuotesAndEntities,&nbsp;convertEntities=&quot;html&quot;,smartQuotesTo=&quot;html&quot;).contents[0]#&nbsp;u&#39;Il&nbsp;a&nbsp;dit,&nbsp;\\u2039Sacr\\xe9&nbsp;bleu!\\u203a&#39;BeautifulStoneSoup(smartQuotesAndEntities,&nbsp;convertEntities=&quot;xml&quot;,smartQuotesTo=&quot;xml&quot;).contents[0]#&nbsp;u&#39;Il&nbsp;a&nbsp;dit,&nbsp;\\u2039Sacr&amp;eacute;&nbsp;bleu!\\u203a&#39;</pre><p>It doesn&#39;t make sense to create new HTML/XML entities while you&#39;re\r\nbusy turning all the existing entities into Unicode\r\ncharacters.<br/>将所有存在的实体转换为Unicode时，不会影响创建新的HTML/XML实体。<a name=\"Sanitizing Bad Data with Regexps\"></a></p><h3><a name=\"Sanitizing Bad Data with Regexps\"></a>使用正则式处理糟糕的数据</h3><p>Beautiful Soup does pretty well at handling bad markup when &quot;bad\r\nmarkup&quot; means tags in the wrong places. But sometimes the markup is\r\njust malformed, and the underlying parser can&#39;t handle it. So\r\nBeautiful Soup runs regular expressions against an input document\r\nbefore trying to parse it.<br/>对于那些在错误的位置的&quot;坏标签&quot;，Beautiful Soup处理的还不错。但有时有些\r\n非常不正常的标签，底层的剖析器也不能处理。这时Beautiful Soup会在剖析之前运用正则表达式\r\n来处理输入的文档。</p><p>By default, Beautiful Soup uses regular expressions and replacement\r\nfunctions to do search-and-replace on input documents. It finds\r\nself-closing tags that look like &lt;BR/&gt;, and changes them to look like\r\n&lt;BR /&gt;. It finds declarations that have extraneous whitespace, like \r\n&lt;! --Comment--&gt;, and removes the whitespace: &lt;!--Comment--&gt;.<br/>默认情况下，Beautiful Soup使用正则式和替换函数对输入文档进行搜索替换操作。\r\n它可以发现自关闭的标签如&lt;BR/&gt;，转换它们如同&lt;BR /&gt;（译注：多加了一个空格）。\r\n它可以找到有多余空格的声明，如&lt;! --Comment--&gt;，移除空格:&lt;!--Comment--&gt;.</p><p>If you have bad markup that needs fixing in some other way, you can\r\npass your own list of <code>(regular expression, replacement function)</code>tuples into the soup constructor, as the <code>markupMassage</code> argument.<br/>如果你的坏标签需要以其他的方式修复，你也可以传递你自己的以<code>(regular expression, replacement function)</code>元组的list到soup对象构造器，作为<code>markupMassage</code>参数。</p><p>Let&#39;s take an example: a page that has a malformed comment. The\r\nunderlying SGML parser can&#39;t cope with this, and ignores the comment\r\nand everything afterwards:\r\n我们举个例子：有一个页面的注释很糟糕。底层的SGML不能解析它，并会忽略注释以及它后面的所有内容。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoupbadString&nbsp;=&nbsp;&quot;Foo&lt;!-This&nbsp;comment&nbsp;is&nbsp;malformed.--&gt;Bar&lt;br/&gt;Baz&quot;BeautifulSoup(badString)#&nbsp;Foo</pre><p>Let&#39;s fix it up with a regular expression and a function:<br/>让我们使用正则式和一个函数来解决这个问题：</p><pre>import&nbsp;remyMassage&nbsp;=&nbsp;[(re.compile(&#39;&lt;!-([^-])&#39;),&nbsp;lambda&nbsp;match:&nbsp;&#39;&lt;!--&#39;&nbsp;+&nbsp;match.group(1))]BeautifulSoup(badString,&nbsp;markupMassage=myMassage)#&nbsp;Foo&lt;!--This&nbsp;comment&nbsp;is&nbsp;malformed.--&gt;Bar</pre><p>Oops, we&#39;re still missing the &lt;BR&gt; tag. Our <code>markupMassage</code>overrides the parser&#39;s default massage, so the default\r\nsearch-and-replace functions don&#39;t get run. The parser makes it past\r\nthe comment, but it dies at the malformed self-closing tag. Let&#39;s add\r\nour new massage function to the default list, so we run all the\r\nfunctions.<br/>哦呃呃，我们还是漏掉了&lt;BR&gt;标签。我们的<code>markupMassage</code>重载了剖析默认的message，因此默认的搜索替换函数不会运行。\r\n剖析器让它来处理注释，但是它在坏的自关闭标签那里停止了。让我加一些新的message函数到默认的list中去，\r\n并让这些函数都运行起来。</p><pre>import&nbsp;copymyNewMassage&nbsp;=&nbsp;copy.copy(BeautifulSoup.MARKUP_MASSAGE)myNewMassage.extend(myMassage)BeautifulSoup(badString,&nbsp;markupMassage=myNewMassage)#&nbsp;Foo&lt;!--This&nbsp;comment&nbsp;is&nbsp;malformed.--&gt;Bar&lt;br&nbsp;/&gt;Baz</pre><p>Now we&#39;ve got it all.<br/>这样我们就搞定了。</p><p>If you know for a fact that your markup doesn&#39;t need any regular\r\nexpressions run on it, you can get a faster startup time by passing in<code>False</code> for <code>markupMassage</code>.<br/>如果你已经知道你的标签不需要任何正则式，你可以通过传递一个<code>False</code>给<code>markupMassage</code>.<a name=\"Fun With SoupStrainers\"></a></p><h3><a name=\"Fun With SoupStrainers\"></a>玩玩<code>SoupStrainer</code></h3><p>Recall that all the search methods take more or less <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#args\">the same arguments</a>. Behind the scenes, your arguments\r\nto a search method get transformed into a <code>SoupStrainer</code> object. If\r\nyou call one of the methods that returns a list (like <code>findAll</code>), the<code>SoupStrainer</code> object is made available as the <code>source</code> property of\r\nthe resulting list.<br/>回忆起所有的搜索方法都是或多或少使用了一些一样的<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#args\">参数</a>。\r\n在后台，你传递给搜索函数的参数都会传给<code>SoupStrainer</code>对象。\r\n如果你所使用的函数返回一个list(如<code>findAll</code>)，那是<code>SoupStrainer</code>对象使\r\n结果列表的<code>source</code>属性变的可用。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulStoneSoupxml&nbsp;=&nbsp;&#39;&lt;person&nbsp;name=&quot;Bob&quot;&gt;&lt;parent&nbsp;rel=&quot;mother&quot;&nbsp;name=&quot;Alice&quot;&gt;&#39;xmlSoup&nbsp;=&nbsp;BeautifulStoneSoup(xml)results&nbsp;=&nbsp;xmlSoup.findAll(rel=&#39;mother&#39;)results.source#&nbsp;&lt;BeautifulSoup.SoupStrainer&nbsp;instance&nbsp;at&nbsp;0xb7e0158c&gt;str(results.source)#&nbsp;&quot;None|{&#39;rel&#39;:&nbsp;&#39;mother&#39;}&quot;</pre><p>The <code>SoupStrainer</code> constructor takes most of the same arguments as<code>find</code>: <code><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a></code>, <code><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a></code>, <code><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-text\">text</a></code>, and <code><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a></code>. You can pass\r\nin a <code>SoupStrainer</code> as the <code>name</code> argument to any search method:<br/><code>SoupStrainer</code>的构造器几乎使用和<code>find</code>一样的参数： \r\n<code><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-name\">name</a></code>, <code><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-attrs\">attrs</a></code>, <code><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-text\">text</a></code>,\r\n和<code><a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#arg-**kwargs\">**kwargs</a></code>. \r\n你可以在一个<code>SoupStrainer</code>中传递和其他搜索方法一样的name参数：</p><pre>xmlSoup.findAll(results.source)&nbsp;==&nbsp;results#&nbsp;TruecustomStrainer&nbsp;=&nbsp;BeautifulSoup.SoupStrainer(rel=&#39;mother&#39;)xmlSoup.findAll(customStrainer)&nbsp;==&nbsp;results#&nbsp;&nbsp;True</pre><p>Yeah, who cares, right? You can carry around a method call&#39;s\r\narguments in many other ways. But another thing you can do with<code>SoupStrainer</code> is pass it into the soup constructor to restrict the\r\nparts of the document that actually get parsed. That brings us to the\r\nnext section:<br/>耶,谁会在意，对不对？你可以把一个方法的参数用在很多其他地方。\r\n还有一件你可以用<code>SoupStrainer</code>做的事是，将它传递给soup的构建器，来部分的解析文档。\r\n下一节，我们就谈这个。<a name=\"Improving Performance by Parsing Only Part of the Document\"></a></p><h3><a name=\"Improving Performance by Parsing Only Part of the Document\"></a>通过剖析部分文档来提升效率</h3><p>Beautiful Soup turns every element of a document into a Python\r\nobject and connects it to a bunch of other Python objects. If you only\r\nneed a subset of the document, this is really slow. But you can pass\r\nin a <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Fun%20With%20SoupStrainers\"><code>SoupStrainer</code></a> as the<code>parseOnlyThese</code> argument to the soup constructor. Beautiful Soup\r\nchecks each element against the <code>SoupStrainer</code>, and only if it matches\r\nis the element turned into a <code>Tag</code> or <code>NavigableText</code>, and added to\r\nthe tree.<br/>Beautiful Soup 将一个文档的每个元素都转换为Python对象并将文档转换为一些Python对象的集合。\r\n如果你只需要这个文档的子集，全部转换确实非常慢。\r\n但是你可以传递<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Fun%20With%20SoupStrainers\"><code>SoupStrainer</code></a>作为<code>parseOnlyThese</code>参数的值给\r\nsoup的构造器。Beautiful Soup检查每一个元素是否满足<code>SoupStrainer</code>条件，\r\n只有那些满足条件的元素会转换为<code>Tag</code>标签或<code>NavigableText</code>，并被添加到剖析树中。</p><p>If an element is added to to the tree, then so are its\r\nchildren—even if they wouldn&#39;t have matched the <code>SoupStrainer</code>on their own. This lets you parse only the chunks of a document that\r\ncontain the data you want.<br/>如果一个元素被加到剖析树中，那么的子元素即使不满足<code>SoupStrainer</code>也会被加入到树中。\r\n这可以让你只剖析文档中那些你想要的数据块。</p><p>Here&#39;s a pretty varied document:<br/>看看下面这个有意思的例子：</p><pre>doc&nbsp;=&nbsp;&#39;&#39;&#39;Bob&nbsp;reports&nbsp;&lt;a&nbsp;href=&quot;http://www.bob.com/&quot;&gt;success&lt;/a&gt;with&nbsp;his&nbsp;plasma&nbsp;breeding&nbsp;&lt;ahref=&quot;http://www.bob.com/plasma&quot;&gt;experiments&lt;/a&gt;.&nbsp;&lt;i&gt;Don&#39;t&nbsp;get&nbsp;any&nbsp;onus,&nbsp;Bob!&lt;/i&gt;&lt;br&gt;&lt;br&gt;Ever&nbsp;hear&nbsp;of&nbsp;annular&nbsp;fusion?&nbsp;The&nbsp;folks&nbsp;at&nbsp;&lt;ahref=&quot;http://www.boogabooga.net/&quot;&gt;BoogaBooga&lt;/a&gt;&nbsp;sure&nbsp;seem&nbsp;obsessedwith&nbsp;it.&nbsp;Secret&nbsp;project,&nbsp;or&nbsp;&lt;b&gt;WEB&nbsp;MADNESS?&lt;/b&gt;&nbsp;You&nbsp;decide!&#39;&#39;&#39;</pre><p>Here are several different ways of parsing the document into soup,\r\ndepending on which parts you want. All of these are faster and use\r\nless memory than parsing the whole document and then using the same<code>SoupStrainer</code> to pick out the parts you want.<br/>有几种不同的方法可以根据你的需求来剖析部分文档.比起剖析全部文档，他们都更快并占用更少的内存，他们都是使用相同的<code>SoupStrainer</code>来挑选文档中你想要的部分。</p><pre>from&nbsp;BeautifulSoup&nbsp;import&nbsp;BeautifulSoup,&nbsp;SoupStrainerimport&nbsp;relinks&nbsp;=&nbsp;SoupStrainer(&#39;a&#39;)[tag&nbsp;for&nbsp;tag&nbsp;in&nbsp;BeautifulSoup(doc,&nbsp;parseOnlyThese=links)]#&nbsp;[&lt;a&nbsp;href=&quot;http://www.bob.com/&quot;&gt;success&lt;/a&gt;,&nbsp;#&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.bob.com/plasma&quot;&gt;experiments&lt;/a&gt;,&nbsp;#&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.boogabooga.net/&quot;&gt;BoogaBooga&lt;/a&gt;]linksToBob&nbsp;=&nbsp;SoupStrainer(&#39;a&#39;,&nbsp;href=re.compile(&#39;bob.com/&#39;))[tag&nbsp;for&nbsp;tag&nbsp;in&nbsp;BeautifulSoup(doc,&nbsp;parseOnlyThese=linksToBob)]#&nbsp;[&lt;a&nbsp;href=&quot;http://www.bob.com/&quot;&gt;success&lt;/a&gt;,&nbsp;#&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.bob.com/plasma&quot;&gt;experiments&lt;/a&gt;]mentionsOfBob&nbsp;=&nbsp;SoupStrainer(text=re.compile(&quot;Bob&quot;))[text&nbsp;for&nbsp;text&nbsp;in&nbsp;BeautifulSoup(doc,&nbsp;parseOnlyThese=mentionsOfBob)]#&nbsp;[u&#39;Bob&nbsp;reports&nbsp;&#39;,&nbsp;u&quot;Don&#39;t&nbsp;get&nbsp;any&nbsp;on\\nus,&nbsp;Bob!&quot;]allCaps&nbsp;=&nbsp;SoupStrainer(text=lambda(t):t.upper()==t)[text&nbsp;for&nbsp;text&nbsp;in&nbsp;BeautifulSoup(doc,&nbsp;parseOnlyThese=allCaps)]#&nbsp;[u&#39;.&nbsp;&#39;,&nbsp;u&#39;\\n&#39;,&nbsp;u&#39;WEB&nbsp;MADNESS?&#39;]</pre><p>There is one major difference between the <code>SoupStrainer</code> you pass\r\ninto a search method and the one you pass into a soup\r\nconstructor. Recall that the <code>name</code> argument can take <a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#match-callable\">a function whose argument is a <code>Tag</code>object</a>. You can&#39;t do this for a <code>SoupStrainer</code>&#39;s <code>name</code>, because\r\nthe <code>SoupStrainer</code> is used to decide whether or not a <code>Tag</code> object\r\nshould be created in the first place. You can pass in a function for a<code>SoupStrainer</code>&#39;s <code>name</code>, but it can&#39;t take a <code>Tag</code> object: it can only\r\ntake the tag name and a map of arguments.<br/>把<code>SoupStrainer</code>传递给搜索方法和soup构造器有一个很大的不同。\r\n回忆一下，<code>name</code>参数可以使用以<code>Tag</code>对象为<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#match-callable\">参数的函数</a>。\r\n但是你不能对<code>SoupStrainer</code>的<code>name</code>使用这招，因为<code>SoupStrainer</code>被用于决定\r\n一个<code>Tag</code>对象是否可以在第一个地方被创建。\r\n你可以传递一个函数给<code>SoupStrainer</code>的<code>name</code>，但是不能是使用<code>Tag</code>对象的函数：\r\n只能使用tag的名字和一个参数映射。</p><pre>shortWithNoAttrs&nbsp;=&nbsp;SoupStrainer(lambda&nbsp;name,&nbsp;attrs:&nbsp;\\len(name)&nbsp;==&nbsp;1&nbsp;and&nbsp;not&nbsp;attrs)[tag&nbsp;for&nbsp;tag&nbsp;in&nbsp;BeautifulSoup(doc,&nbsp;parseOnlyThese=shortWithNoAttrs)]#&nbsp;[&lt;i&gt;Don&#39;t&nbsp;get&nbsp;any&nbsp;on&nbsp;us,&nbsp;Bob!&lt;/i&gt;,&nbsp;#&nbsp;&nbsp;&lt;b&gt;WEB&nbsp;MADNESS?&lt;/b&gt;]</pre><a name=\"Improving Memory Usage with extract\"></a><h3>使用<code>extract</code>改进内存使用</h3><p>When Beautiful Soup parses a document, it loads into memory a large,\r\ndensely connected data structure. If you just need a string from that\r\ndata structure, you might think that you can grab the string and leave\r\nthe rest of it to be garbage collected. Not so. That string is a<code>NavigableString</code> object. It&#39;s got a <code>parent</code> member that points to a<code>Tag</code> object, which points to other <code>Tag</code> objects, and so on. So long\r\nas you hold on to any part of the tree, you&#39;re keeping the whole thing\r\nin memory.<br/>但Beautiful Soup剖析一个文档的时候，它会将整个文档以一个很大很密集的数据结构中载入内存。\r\n如果你仅仅需要从这个数据结构中获得一个字符串，\r\n你可能觉得为了这个字符串而弄了那么一堆要被当垃圾收集的数据会很不划算。\r\n而且，那个字符串还是<code>NavigableString</code>对象。\r\n也就是要获得一个指向<code>Tag</code>对象的<code>parent</code>的成员，而这个Tag又会指向其他的<code>Tag<code>对象，等等。\r\n因此，你不得不保持一颗剖析树所有部分，也就是把整个东西放在内存里。</code></code></p><p><code><code>The <code>extract</code> method breaks those connections. If you call<code>extract</code> on the string you need, it gets disconnected from the rest\r\nof the parse tree. The rest of the tree can then go out of scope and\r\nbe garbage collected, while you use the string for something else. If\r\nyou just need a small part of the tree, you can call <code>extract</code> on its\r\ntop-level <code>Tag</code> and let the rest of the tree get garbage collected.<br/><code>extrace</code>方法可以破坏这些链接。如果你调用<code>extract</code>来获得你需要字符串，\r\n它将会从树的其他部分中链接中断开。\r\n当你使用这个字符串做什么时,树的剩下部分可以离开作用域而被垃圾收集器捕获。\r\n如果你即使需要一个树的一部分，你也可以讲<code>extract</code>使用在顶层的<code>Tag</code>上，\r\n让其它部分被垃圾收集器收集。</code></code></p><p><code><code>This works the other way, too. If there&#39;s a big chunk of the\r\ndocument you <em>don&#39;t</em> need, you can call <code>extract</code> to rip it out\r\nof the tree, then abandon it to be garbage collected while retaining\r\ncontrol of the (smaller) tree. \r\n也可以使用extract实现些别的功能。如果文档中有一大块不是你需要，你也可以使用<code>extract</code>来将它弄出剖析树，\r\n再把它丢给垃圾收集器同时对(较小的那个)剖析树的控制。</code></code></p><p><code><code>If you find yourself destroying big chunks of the tree, you might\r\nhave been able to save time by \r\n<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Improving%20Performance%20by%20Parsing%20Only%20Part%20of%20the%20Document\">not\r\nparsing that part of the tree in the first place</a>.<br/>如果你觉得你正在破坏树的大块头，你应该看看<a href=\"https://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Improving%20Performance%20by%20Parsing%20Only%20Part%20of%20the%20Document\">通过剖析部分文档来提升效率</a>来省省时间。<a name=\"See Also\"></a></code></code></p><h2><code><code><a name=\"See Also\"></a>其它</code></code></h2><code><code><a name=\"Applications that use Beautiful Soup\"></a><h3>Applications that use Beautiful Soup</h3><p>Lots of real-world applications use Beautiful Soup. Here are the\r\npublicly visible applications that I know about:<br/>很多实际的应用程序已经使用Beautiful Soup。\r\n这里是一些我了解的公布的应用程序：</p><ul class=\" list-paddingleft-2\"><li><p><a href=\"http://www.crummy.com/software/ScrapeNFeed\">Scrape &#39;N&#39;\r\nFeed</a> is designed to work with Beautiful Soup to build RSS feeds\r\nfor sites that don&#39;t have them.<br/></p></li><li><p><a href=\"http://www.meangrape.com/htmlatex/\">htmlatex</a> uses\r\nBeautiful Soup to find LaTeX equations and render them as graphics.</p></li><li><p><a href=\"http://code.google.com/p/chmtopdf/\">chmtopdf</a> converts\r\nCHM files to PDF format. Who am I to argue with that?</p></li><li><p>Duncan Gough&#39;s <a href=\"http://www.suttree.com/code/fotopic/\">Fotopic backup</a> uses\r\nBeautiful Soup to scrape the Fotopic website.</p></li><li><p>Iñigo Serna&#39;s <a href=\"http://inigo.katxi.org/devel/misc/googlenews.py\">googlenews.py</a>uses Beautiful Soup to scrape Google News (it&#39;s in the parse_entry and\r\nparse_category functions)</p></li><li><p>The <a href=\"http://potheads.ca/%7Ecgm/weatheroffice/\">Weather\r\nOffice Screen Scraper</a> uses Beautiful Soup to scrape the Canadian\r\ngovernment&#39;s weather office site.</p></li><li><p><a href=\"http://www.cs.duke.edu/%7Epbh/newsclues.html\">News\r\nClues</a> uses Beautiful Soup to parse RSS feeds.</p></li><li><p><a href=\"http://blinkflash.sourceforge.net/\">BlinkFlash</a>uses Beautiful Soup to automate form submission for an online service.</p></li><li><p>The <a href=\"http://www.voidspace.org.uk/python/programs.shtml#linky\">linky</a>link checker uses Beautiful Soup to find a page&#39;s links and images\r\nthat need checking.</p></li><li><p><a href=\"http://www.postneo.com/2005/03/28/mobile-screen-scraping-with-beautifulsoup-and-python-for-series-60\">Matt\r\nCroydon</a> got Beautiful Soup 1.x to work on his Nokia Series 60\r\nsmartphone. <a href=\"http://sandeep.weblogs.us/archives/024473.html\">C.R. Sandeep</a>wrote a real-time currency converter for the Series 60 using Beautiful\r\nSoup, but he won&#39;t show us how he did it.</p></li><li><p>Here&#39;s <a href=\"http://jacobian.org/recipes/archives/2005/03/21/fixing-tracks-bought-from-allofmp3com/\">a\r\nshort script</a> from jacobian.org to fix the metadata on music files\r\ndownloaded from allofmp3.com.</p></li><li><p>The <a href=\"http://www.pycs.net/\">Python Community Server</a>uses Beautiful Soup in its spam detector.</p></li></ul><a name=\"Similar libraries\"></a><h3>类似的库</h3><p>I&#39;ve found several other parsers for various languages that can\r\nhandle bad markup, do tree traversal for you, or are otherwise more\r\nuseful than your average parser.<br/>我已经找了几个其他的用于不同语言的可以处理烂标记的剖析器。简单介绍一下，也许对你有所帮助。</p><ul class=\" list-paddingleft-2\"><li><p>I&#39;ve ported Beautiful Soup to Ruby. The result is <a href=\"http://www.crummy.com/software/RubyfulSoup/\">Rubyful Soup</a>.</p></li><li><p><a href=\"http://code.whytheluckystiff.net/hpricot/\">Hpricot</a> is\r\ngiving Rubyful Soup a run for its money.</p></li><li><p><a href=\"http://effbot.org/zone/element-index.htm\">ElementTree</a>is a fast Python XML parser with a bad attitude. I love it.</p></li><li><p><a href=\"http://home.ccil.org/%7Ecowan/XML/tagsoup/\">Tag Soup</a> is\r\nan XML/HTML parser written in Java which rewrites bad HTML into\r\nparseable HTML.</p></li><li><p><a href=\"http://www.neilvandyke.org/htmlprag/\">HtmlPrag</a> is a\r\nScheme library for parsing bad HTML.</p></li><li><p><a href=\"http://www.aaronsw.com/2002/xmltramp/\">xmltramp</a> is a\r\nnice take on a &#39;standard&#39; XML/XHTML parser. Like most parsers, it\r\nmakes you traverse the tree yourself, but it&#39;s easy to use.</p></li><li><p><a href=\"http://wwwsearch.sourceforge.net/pullparser/\">pullparser</a>includes a tree-traversal method.</p></li><li><p>Mike Foord didn&#39;t like the way Beautiful Soup can change HTML if\r\nyou write the tree back out, so he wrote <a href=\"http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/286269\">HTML\r\nScraper</a>. It&#39;s basically a version of HTMLParser that can handle\r\nbad HTML. It might be obsolete with the release of Beautiful Soup 3.0,\r\nthough; I&#39;m not sure.</p></li><li><p>Ka-Ping Yee&#39;s <a href=\"http://zesty.ca/python/scrape.py\">scrape.py</a> combines page\r\nscraping with URL opening.</p></li></ul><a name=\"Conclusion\"></a><h2>小结</h2><p>That&#39;s it! Have fun! I wrote Beautiful Soup to save everybody\r\ntime. Once you get used to it, you should be able to wrangle data out\r\nof poorly-designed websites in just a few minutes. Send me email if\r\nyou have any comments, run into problems, or want me to know about\r\nyour project that uses Beautiful Soup.<br/>就这样了！玩的开心！我写的Beautiful Soup是为了帮助每个人节省时间。\r\n一旦你习惯上用它之后，只要几分钟就能整好那些有些糟糕的站点。可以发邮件给我，如果你有什么建议，或者\r\n遇到什么问题，或者让我知道你的项目再用Beautiful Soup。</p><p>--Leonard</p><hr/><table><tbody><tr class=\"firstRow\"><td valign=\"top\"><p>This document (<a href=\"https://www.crummy.com/source/software/BeautifulSoup/bs3/documentation.zh.bhtml\">source</a>) is part of Crummy, the webspace of <a href=\"https://www.crummy.com/self/\">Leonard Richardson</a> (<a href=\"https://www.crummy.com/self/contact.html\">contact information</a>).\r\n It was last modified on Thursday, February 02 2012, 13:11:38 Nowhere \r\nStandard Time and last built on Tuesday, May 30 2017, 04:00:01 Nowhere \r\nStandard Time.</p>Crummy is © 1996-2017 Leonard Richardson. Unless otherwise noted, all text licensed under a Creative Commons License.</td><td valign=\"top\"><p><strong>Document tree:</strong></p><ul class=\" list-paddingleft-2\"><li><p><a href=\"http://www.crummy.com/\">http://www.crummy.com/</a></p><ul class=\" list-paddingleft-2\"><li><p><a href=\"http://www.crummy.com/software/\">software/</a></p><ul class=\" list-paddingleft-2\"><li><p><a href=\"http://www.crummy.com/software/BeautifulSoup/\">BeautifulSoup/</a></p><ul class=\" list-paddingleft-2\"><li><p><a href=\"http://www.crummy.com/software/BeautifulSoup/bs3/\">bs3/</a></p><ul class=\" list-paddingleft-2\"><li><p><a href=\"http://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html\">documentation.zh.html</a></p></li></ul></li></ul></li></ul></li></ul></li></ul>Site Search:<form method=\"get\" action=\"/search/\"><input name=\"q\" maxlength=\"255\" value=\"\" type=\"text\"/></form></td></tr></tbody></table></code></code></code></p><p><br/></p>','2017-05-30 04:31:58.570805','2017-05-30 04:31:58.570805',1,0,0,0,1,1,'uploads/blog/images/default.jpg',0),(7,'个性化推荐入门描述','<h2>1.数据收集及预处理</h2><p>推荐系统的本质其实就是通过一定的方式将用户和喜欢的物品联系起来。物品和用户自身拥有众多属性信息进行标识。</p><p>物品表示推荐系统的客体，在不同的应用场景下，物品指代不同的待推荐事物。比如，在书籍推荐中，物品表示书籍；在电商推荐中，物品表示商品；在电影推荐中，物品表示电影；在社交网络推荐中，物品表示人。商品的多种属性标识不仅标识自己是什么，也反应了和其它商品的关系，同时也为量化用户需求的兴趣点提供了依据。用户表示推荐系统的主体，自身属性包括人口统计学信息以及从用户行为数据中挖掘分析得到的偏好等。</p><p>用户的每一次的行为操作无不反应用户内心的本质需求，包括页面浏览、点击、收藏、购物、搜索、打分、评论等，这些数据是个性化推荐系统的最重要的数据。根据用户自身独有的行为数据，可以为每一个用户生成特有的画像。</p><p><img src=\"http://img0.tuicool.com/EjqeYj6.png%21web\" class=\"alignCenter\"/> </p><p>数据的可靠性很大程度上决定了推荐系统的准确性。原始的数据源中会混杂各种各样的脏数据，一方面是在数据采集和上报的过程中，出现一些异常数据，另一方面也包括系统上线运行时所产生的作弊数据。</p><p>数据挖掘的首要步骤就是对原始数据的深度清洗。良好的数据预处理可以对个性化推荐的效果起到事半功倍的效果。数据采集和上报的异常数据，需要结合数据库表结构和实际场景做过滤，如空值检查、数值异常、类型异常、出现“\\r”和“\\n”导致的字符串换行、数据去重。另外，对于\r\n \r\n“人为”的脏数据，如刷点击、刷榜单等行为，这些关键数据会严重影响后续算法的效果，需要有一些反作弊策略进行清除或者降权，如进行session分析，结合cookie、ip、行为发生的时间和次数等一些规则进行过滤。达观数据在反作弊方面也做了很多工作，包括基于机器学习的方法和一些强规则，可有效筛选各种行为上的作弊情况。</p><h2>2.用户行为建模</h2><p>基于用户历史行为的进行挖掘分析，得到刻画用户本质需求的一组属性集合，即得到用户模型，个性化推荐的准确性很大程度上依赖于对用户属性刻画的准确性。达观数据采用了多种方式进行量化，主要包括用户偏好分析和深层用户兴趣点挖掘。（达观数据联合创始人于敬）</p><p>1) 用户偏好分析</p><p>结合用户历史行为和物品信息，可以得到每种行为下的用户偏好数据，包括偏好的维度及偏好程度，如偏好的物品、品牌、类别、标签等。</p><p><img src=\"http://img1.tuicool.com/QfiiIvi.png%21web\" class=\"alignCenter\"/> </p><p>再将各种行为的偏好数据合并，最终得到用户在物品、品牌、类别、标签等各个维度上的偏好程度。合并不同维度的数据时，需要考虑到不同的行为类型反应用户偏好程度是不同的。比如购买行为比点击行为更能反映用户的偏好，则由购买行为计算得到的偏好数据在合并时赋予的权重要高一些。</p><p><img src=\"http://img2.tuicool.com/jye2iea.png%21web\" class=\"alignCenter\"/> </p><p>要保证各种行为的各个维度的数据具有可比性，需要进行归一化，而且同纬度的要采用相同的归一化方法。比如常见的min-max、log函数转换、z-score</p><p>处理均值问题时，会碰到一个置信度相关度问题。如10张投票中有1张赞成票和100张投票中有10张赞成票，虽然均值的角度来说都是0.1，但是后者的可信度更高。</p><p><img src=\"http://img0.tuicool.com/fIFnAzF.png%21web\" class=\"alignCenter\"/> </p><p>对于样本较多的情况（np &gt; 5且 n(1-p) &gt; 5），可以使用“正态区间”，样本少的话准确性就很差。解决小样本的均值问题，可以基于“威尔逊区间”，使用它的下限值可有效降低“赞成票比例”的作用。</p><p>2) 深层用户兴趣点挖掘</p><p>除了结合物品信息进行分析计算得到的偏好信息外，还有一部分深层兴趣点需要挖掘，这部分主要用于对细分的用户群体进行更有针对性、更有效的推荐。划分群体的准则要根据具体的业务需求而定，比如是否是高价值用户、是否价格敏感、是否对大牌情有独钟、大神用户和小白用户的区分、喜欢热门流行还是偏小众的等等。</p><p>借助机器学习中的分类（如神经网络、Random \r\nForest、SVM）和聚类（如FCM、k-means）算法可有效解决用户群体的划分问题。使用到的训练和测试数据需要先根据一些规则粗略得到候选集，在结合人工标记的进行筛选。同时从物品和用户的属性数据中也能抽取大量关键特征。经过模型的训练、测试和后处理，从而将用户划分到不同的群体。</p><p>3) 计算相似用户</p><p>在个性化推荐中，应用很广泛的是基于用户的协同过滤算法。具体又分为item-based协同过滤和user-based协同过滤，其中user-based协同过滤算法核心思路是相似用户的计算。相似度的距离计算公式包含多种方法，如余弦相似度、皮尔逊相关度等。不同的相似度计算方法有各自的优缺点，适用不同的应用场景，可以通过对比测试进行选取。达观数据的实践经验里，一般来说，在基于用户的推荐系统中，皮尔逊相关系数效果要好一些。基于物品的推荐中，余弦相似度方法比皮尔逊的表现更好。</p><p>在实际业务中，相似度的计算方法都有很多变种，过于冷门和过于热门的物品对衡量用户间的相似度时区分度不好，这时就需要进行归一。下面的相似度计算方法将降低热门物品对用户相似度的影响。</p><p><img src=\"http://img2.tuicool.com/mimYNrQ.png%21web\" class=\"alignCenter\"/> </p><p>这种基于K近邻的选取相似用户的方法，相似度的阈值设置对结果影响很大，太大的话召回物品过多，准确度会有下降。</p><p>4) 时间维度上的考量</p><p>在处理各个维度的偏好数据时，需要考虑用户行为的有价值程度是随时间衰减的，即行为发生时间距当前的时间越近，得到的数据越能表征用户将来的行为。毕竟用户的口味随着时间的推移是会变化的，所以时间越近权重越高。衰减函数可以选择离散型或者连续性的。</p><p>另外，还需要考虑偏好和兴趣点数据的在时间上的持续和变化过程，即需要刻画用户的口味呈现的时间规律。为了解决这个问题，可以根据不同的时间间隔来界定，分长期、短期、近期和实时四个时间维度。长期的覆盖了用户几乎一直不变的兴趣，短期的覆盖了用户变化中的兴趣，而近期则反映了用户的“尝鲜”的特点。这三种兴趣是离线计算的，此外还要考虑用户的实时兴趣，实践中可以通过很短的时间间隔进行近线挖掘分析，从而快速适应用户当前的信息需求。比如选取最近1个月、最近1周和最近2天来界定长期、短期和近期。</p><h2>3.个性化推荐的实践经验</h2><p>基于准确的用户模型和原始物品属性数据，使用多种推荐算法和效果优化策略，个性化推荐系统将用户最感兴趣的物品列表精准推荐给当前用户。由于不同算法有自己的应用场景，需要根据业务需要、数据的丰富程度、效果衡量指标等选择合适的推荐算法，然后根据推荐结果进行不断迭代，最终完成符合预期效果的个性化推荐系统。</p><p><img src=\"http://img1.tuicool.com/jyi2y27.png%21web\" class=\"alignCenter\"/> </p><p>1) 基于内容的推荐</p><p>主要过程是将用户的信息特征和物品对象的特征相匹配的过程，从而得到待推荐的物品集合。通过用户模型中的类别、标签、品牌等各维度的偏好数据，在全量物品列表中寻找与之匹配的用户感兴趣的物品列表，并给出用户感兴趣的程度。根据挖掘的兴趣点，对部分用户进行有针对性的推荐，为其“量身定制”推荐结果，满足其特有的需求。</p><p>基于内容的推荐方法，优点是能保证推荐内容的相关性，并且根据内容特征可以解释推荐结果，而且对新物品的推荐是也能有很好的考量。缺点是由于内容高度匹配，导致推荐结果的惊喜度较差，而且对新用户不能提供可靠的推荐结果。</p><p>另一个重要的优势，是基于内容的推荐能很好的解决推荐系统的“冷启动”问题，因为这类推荐算法不需要依赖用户行为的积累，当待推荐的物品是新出现时，基于内容的推荐算法往往是最有效的方法。</p><p>2) 协同过滤</p><p>协同过滤方法主要基于群体智慧，认为相似的用户对新物品的喜好也是相似的，相似的物品对于同一用户来说，喜好程度也是相似的。这种方法克服了基于内容方法的一些弊端，最重要的是可以推荐一些内容上差异较大但是又是用户感兴趣的物品。大致分为两类：基于近邻的方法（Neighbour-based）和基于模型的方法（Model-based）。</p><p>基于近邻的方法，在数据预测中直接使用已有数据进行预测，将用户的所有数据加载到内存中进行运算。基于用户的协同过滤是，获取和当前用户相似的用户列表，将这些用户喜欢的物品推荐给当前用户。基于物品的协同过滤，获取当前用户偏好的物品列表，将和这些物品相似的物品加入到推荐的候选集当中。</p><p>基于模型的方法则是通过数据进行模型训练，然后为用户预测新的物品，主要包括：pLSA(Probabilistic Latent \r\nSemantic Analysis)、LDA(Latent Dirichlet Allocation)、SVM(Support Vector \r\nMachines)、SVD(Singular Value Decomposition)等。</p><p>推荐系统效果提升的一个有效方式是用户反馈数据的使用，包括显示反馈和隐式反馈。SVD++在SVD的基础上引入隐式反馈，将用户的点击反馈数据等作为新的参数加入到模型中。</p><p><img src=\"http://img2.tuicool.com/jayuyi3.png%21web\" class=\"alignCenter\"/> </p><p>具体实现可以参考SVDFeature、LibFM、GraphLab。</p><p>在达观数据的实践中，在有充分用户行为数据的条件下进行实验对比，发现基于协同过滤的推荐算法，效果要大大优于基于内容的推荐算法，但是这也依赖于对用户行为数据的积累和充分清洗。</p><p>3) 基于知识的推荐</p><p>当用户的行为数据较少同时又有明确的需求时，协同过滤和基于内容的推荐效果不尽人意，但是基于知识的推荐（Knowledge-based \r\nRecommendation）可以帮助我们解决这类问题。这种方法不需要用户行为数据就能推荐，依赖人工的先验经验，所以也能较好的处理冷启动问题。</p><p>基于知识的推荐其基础是知识库，或称为Ontology。与其相关联的技术包括自然语言处理、语义分析等。例如“手机”和“手机壳”，“笔记本电脑”和“macbook”，在知识库概念里存在“本体”、“实例”、“关系类型”等抽象概念，利用知识库的延伸或拓展可以形成若干规则、或相互关系，并进而形成推荐体系。推荐结果主要依赖两种形式，一是用户需求跟物品之间相似度，一种是明确的推荐规则。实际应用主要是以强规则为主。在达观科技的实践中，常用于少量特殊场景下的推荐修正。</p><p>4) 推荐补足策略</p><p>当用户历史数据比较局限或者在冷启动的时候，导致待推荐物品的数量不足没有达到预定要求时，根据用户模型的数据，结合挖掘的各种榜单进行补足，如全局热门、分类热门、潜力物品、潮流物品等。</p><p>推荐补足的出发点有很多，第一是确保推荐结果的多样性，因为用户的偏好往往是多样的，因此需要多样的结果来分别满足。单一的推荐算法往往推出的结果较为单调，而通过特定的补足策略可以照顾到多样性的需求。第二是解决推荐的新颖性问题。通常较为小众的物品往往难以得到有效的曝光，或者新出现的内容由于积累的用户行为数据少，往往被压制，适当的进行这类结果的补足可以较好的提高推荐结果的新颖性。</p><p>5) 多算法融合</p><p>前文提到单一算法有各自的优缺点，并不能满足实际的线上需求。所以为了提供最优质的个性化推荐服务，保证推荐结果的多样性、新颖性和惊喜度，需要融合多个推荐算法，进行混合推荐。常见的混合方法有以下几种：</p><p>a) 加权式混合</p><p>主要是对每个算法赋予不同的权重，通过将多个推荐算法的结果进行加权组合在一起，最后排序得到推荐结果。</p><p><img src=\"http://img2.tuicool.com/nuQVFf.png%21web\" class=\"alignCenter\"/> </p><p>不同推荐算法的结果需要归一化在相同的范围内，并且各个算法的权重之和为1。</p><p>b) 交叉式混合</p><p>主要是直接将不同的推荐算法的结果组合在一起推荐给用户，从而每个推荐算法的优质结果都会被展示给用户。</p><p><img src=\"http://img1.tuicool.com/jaQBryz.png%21web\" class=\"alignCenter\"/> </p><p>c) 切换式混合</p><p>主要是根据不同应用场景决定使用哪一种推荐算法，应用场景改变的话则切换推荐算法。例如在新闻推荐时，首先使用基于内容的推荐，当找不到合适的内容时，接着使用协同过滤算法进行跨内容的推荐，最后使用朴素贝叶斯分类器找到与用户长期兴趣匹配的结果。</p><p>d) 串联混合</p><p>主要是将不同的推荐算法进行排序，后面的推荐算法对前面的不断优化，最终得到一个多级优化下的推荐结果。</p><p>e) 分级混合</p><p>主要是先界定不同的算法的好坏，优先使用好算法的推荐结果，得不到结果时再使用次好的，依次类推。</p><p>达观数据在实践中充分利用了各种混合方法来提高推荐效果，并取得了优异的成效。例如基于加权式和分级混合的流程是，首先通过权重的大小来衡量每种推荐算法结果的好坏，产生待推荐的物品集合，在合并的时候，将优先使用好的推荐算法的结果。关于算法权重的设置，基于用户反馈数据，简单的方法可以使用LR（Logistic\r\n Regression）。实践中则是各种指标综合权衡，整个过程也要复杂很多。</p><p>6) 重排序</p><p>排序学习(Learning To Rank, \r\nLTR)一直是机器学习中的热门研究领域。由于排序过程牵涉到各种维度的参数数据，导致调参费时费力，而且很可能会出现过拟合现象。而机器学习方法不仅有成熟的理论基础，而且很容易融合多种特征，通过不断的迭代来进行参数优化，可有效解决数据稀疏、过拟合等问题。著名的Netflix\r\n 公司就在他们的推荐系统中全面应用了LTR 技术。</p><p><img src=\"http://img0.tuicool.com/yQzYRvn.png%21web\" class=\"alignCenter\"/> </p><p>对于已标注的训练集，首先选定LTR方法，确定损失函数，以最小化损失函数为目标进行优化即可得到排序模型的相关参数，这就是学习过程。预测过程将待预测结果输入学习得到的排序模型中，即可得到结果的相关得分，利用该得分进行排序即可得到待预测结果的最终顺序。LTR分按点(pointwise)、按对(pairwise)\r\n 和按表(listwise) 三种方法，涉及到的常见模型有LR(Logistic Regression)、SVM、DT(Decision \r\nTree)。</p><p>关于排序模型的选择，LR \r\n算法主要适用于特征数很多、样本量很大的情况。如果是样本量很大，但是特征比较少的情况时，建议使用DT的算法。主要是因为在特征数较少时，对应的问题往往是非线性的，此DT算法可以发挥自身的优势。另外，SVM在解决非线性分类问题是效果也非常好。相对于另外两种方法，按表的方法往往更加直接，它专注于自己的目标和任务，直接优化排序结果，因此往往效果也是最好的。</p><p>经过多个推荐算法的处理，最终得到待推荐物品的结合，使用少量维度的特征进行排序过于简单，效果也大打折扣。基于推荐算法得到的相关特征，结合物品和用户的特征进行组合，可以得到各种特征，并且有些特征是正相关有些是负相关，需要不断优化。借助机器学习方法得到了最终的物品排序，呈现给用户。</p><h2>4.结束语</h2><p>本文从基本的数据处理、构建用户模型到个性化推荐，介绍了达观数据的一些实践个性化推荐方面的经验。个性化推荐系统可以有效解决信息过载和长尾物品两个方面的问题，不仅提供了极佳的用户体检，满足了用户的信息需求，也帮助了企业充分利用其中蕴含的商机，提升经营业绩。达观数据一直致力于为企业提供优质的大数据服务，经过多年的积极探索，目前在个性化推荐系统研发和效果提升方面已经积累了丰富的实战经验。当然新技术也在不断出现，深度学习的兴起也给个性化推荐效果的提升带来了更大的契机和想象空间，达观数据也在这方面进行不断探索和测试，后续有机会再跟大家一起分享。</p><p><br/></p><p>原文地址:http://www.tuicool.com/articles/BRBvYru<br/></p>','2017-05-30 09:17:48.021697','2017-05-30 09:18:50.968298',1,0,0,1,1,1,'uploads/blog/images/default.jpg',0);
/*!40000 ALTER TABLE `focus_article` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `focus_article_user`
--

DROP TABLE IF EXISTS `focus_article_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `focus_article_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `article_id` int(11) NOT NULL,
  `newuser_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `focus_article_user_article_id_642bd271_uniq` (`article_id`,`newuser_id`),
  KEY `focus_article_user_newuser_id_c553cc27_fk_focus_newuser_id` (`newuser_id`),
  CONSTRAINT `focus_article_user_article_id_b973228c_fk_focus_article_id` FOREIGN KEY (`article_id`) REFERENCES `focus_article` (`id`),
  CONSTRAINT `focus_article_user_newuser_id_c553cc27_fk_focus_newuser_id` FOREIGN KEY (`newuser_id`) REFERENCES `focus_newuser` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `focus_article_user`
--

LOCK TABLES `focus_article_user` WRITE;
/*!40000 ALTER TABLE `focus_article_user` DISABLE KEYS */;
INSERT INTO `focus_article_user` VALUES (1,7,1);
/*!40000 ALTER TABLE `focus_article_user` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `focus_author`
--

DROP TABLE IF EXISTS `focus_author`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `focus_author` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(256) NOT NULL,
  `profile` varchar(256) NOT NULL,
  `password` varchar(256) NOT NULL,
  `register_date` datetime(6) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `focus_author`
--

LOCK TABLES `focus_author` WRITE;
/*!40000 ALTER TABLE `focus_author` DISABLE KEYS */;
INSERT INTO `focus_author` VALUES (1,'actanble','1','112233..','2017-05-27 01:48:45.062663');
/*!40000 ALTER TABLE `focus_author` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `focus_column`
--

DROP TABLE IF EXISTS `focus_column`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `focus_column` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(256) NOT NULL,
  `intro` longtext NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `focus_column`
--

LOCK TABLES `focus_column` WRITE;
/*!40000 ALTER TABLE `focus_column` DISABLE KEYS */;
INSERT INTO `focus_column` VALUES (1,'测试1','测试1');
/*!40000 ALTER TABLE `focus_column` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `focus_comment`
--

DROP TABLE IF EXISTS `focus_comment`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `focus_comment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `content` longtext NOT NULL,
  `pub_date` datetime(6) NOT NULL,
  `poll_num` int(11) NOT NULL,
  `article_id` int(11) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `focus_comment_article_id_9f521bfe_fk_focus_article_id` (`article_id`),
  KEY `focus_comment_user_id_85082fd0_fk_focus_newuser_id` (`user_id`),
  CONSTRAINT `focus_comment_article_id_9f521bfe_fk_focus_article_id` FOREIGN KEY (`article_id`) REFERENCES `focus_article` (`id`),
  CONSTRAINT `focus_comment_user_id_85082fd0_fk_focus_newuser_id` FOREIGN KEY (`user_id`) REFERENCES `focus_newuser` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `focus_comment`
--

LOCK TABLES `focus_comment` WRITE;
/*!40000 ALTER TABLE `focus_comment` DISABLE KEYS */;
INSERT INTO `focus_comment` VALUES (1,'1111111111111111111111111111111111','2017-05-27 01:49:00.194528',1,1,1);
/*!40000 ALTER TABLE `focus_comment` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `focus_newuser`
--

DROP TABLE IF EXISTS `focus_newuser`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `focus_newuser` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(128) NOT NULL,
  `last_login` datetime(6) DEFAULT NULL,
  `is_superuser` tinyint(1) NOT NULL,
  `username` varchar(150) NOT NULL,
  `first_name` varchar(30) NOT NULL,
  `last_name` varchar(30) NOT NULL,
  `email` varchar(254) NOT NULL,
  `is_staff` tinyint(1) NOT NULL,
  `is_active` tinyint(1) NOT NULL,
  `date_joined` datetime(6) NOT NULL,
  `profile` varchar(256) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `focus_newuser`
--

LOCK TABLES `focus_newuser` WRITE;
/*!40000 ALTER TABLE `focus_newuser` DISABLE KEYS */;
INSERT INTO `focus_newuser` VALUES (1,'pbkdf2_sha256$30000$B1QBme3agei0$MLmTvUi15rK5mv+NuCgO7ScNn7xF6hF3/u8rrRVKGIk=','2017-05-27 01:47:26.367161',1,'actanble','','','a@1.com',1,1,'2017-05-27 01:47:20.619833',''),(2,'112233..','2017-05-27 07:39:00.000000',1,'user1','1','1','1@1.com',1,1,'2017-05-27 07:39:00.000000','....');
/*!40000 ALTER TABLE `focus_newuser` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `focus_newuser_groups`
--

DROP TABLE IF EXISTS `focus_newuser_groups`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `focus_newuser_groups` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `newuser_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `focus_newuser_groups_newuser_id_4b595a5a_uniq` (`newuser_id`,`group_id`),
  KEY `focus_newuser_groups_group_id_583844b1_fk_auth_group_id` (`group_id`),
  CONSTRAINT `focus_newuser_groups_group_id_583844b1_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`),
  CONSTRAINT `focus_newuser_groups_newuser_id_19434e35_fk_focus_newuser_id` FOREIGN KEY (`newuser_id`) REFERENCES `focus_newuser` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `focus_newuser_groups`
--

LOCK TABLES `focus_newuser_groups` WRITE;
/*!40000 ALTER TABLE `focus_newuser_groups` DISABLE KEYS */;
INSERT INTO `focus_newuser_groups` VALUES (1,2,1);
/*!40000 ALTER TABLE `focus_newuser_groups` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `focus_newuser_user_permissions`
--

DROP TABLE IF EXISTS `focus_newuser_user_permissions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `focus_newuser_user_permissions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `newuser_id` int(11) NOT NULL,
  `permission_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `focus_newuser_user_permissions_newuser_id_41814ea8_uniq` (`newuser_id`,`permission_id`),
  KEY `focus_newuser_user__permission_id_b2b03d7e_fk_auth_permission_id` (`permission_id`),
  CONSTRAINT `focus_newuser_user__permission_id_b2b03d7e_fk_auth_permission_id` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`),
  CONSTRAINT `focus_newuser_user_permi_newuser_id_2369309a_fk_focus_newuser_id` FOREIGN KEY (`newuser_id`) REFERENCES `focus_newuser` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `focus_newuser_user_permissions`
--

LOCK TABLES `focus_newuser_user_permissions` WRITE;
/*!40000 ALTER TABLE `focus_newuser_user_permissions` DISABLE KEYS */;
INSERT INTO `focus_newuser_user_permissions` VALUES (1,2,40);
/*!40000 ALTER TABLE `focus_newuser_user_permissions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `focus_poll`
--

DROP TABLE IF EXISTS `focus_poll`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `focus_poll` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `article_id` int(11) DEFAULT NULL,
  `comment_id` int(11) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `focus_poll_article_id_fc37803c_fk_focus_article_id` (`article_id`),
  KEY `focus_poll_comment_id_0e933625_fk_focus_comment_id` (`comment_id`),
  KEY `focus_poll_user_id_6ba9f9df_fk_focus_newuser_id` (`user_id`),
  CONSTRAINT `focus_poll_article_id_fc37803c_fk_focus_article_id` FOREIGN KEY (`article_id`) REFERENCES `focus_article` (`id`),
  CONSTRAINT `focus_poll_comment_id_0e933625_fk_focus_comment_id` FOREIGN KEY (`comment_id`) REFERENCES `focus_comment` (`id`),
  CONSTRAINT `focus_poll_user_id_6ba9f9df_fk_focus_newuser_id` FOREIGN KEY (`user_id`) REFERENCES `focus_newuser` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `focus_poll`
--

LOCK TABLES `focus_poll` WRITE;
/*!40000 ALTER TABLE `focus_poll` DISABLE KEYS */;
/*!40000 ALTER TABLE `focus_poll` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tv_imgtools`
--

DROP TABLE IF EXISTS `tv_imgtools`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tv_imgtools` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `img_url` varchar(200) NOT NULL,
  `dt` datetime(6) NOT NULL,
  `data_rid` varchar(20) NOT NULL,
  `upload_to` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tv_imgtools`
--

LOCK TABLES `tv_imgtools` WRITE;
/*!40000 ALTER TABLE `tv_imgtools` DISABLE KEYS */;
/*!40000 ALTER TABLE `tv_imgtools` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tv_info`
--

DROP TABLE IF EXISTS `tv_info`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tv_info` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `data_rid` varchar(20) NOT NULL,
  `data_rpos` varchar(20) NOT NULL,
  `data_sid` varchar(20) NOT NULL,
  `data_sub_rt` varchar(20) NOT NULL,
  `data_tid` varchar(20) NOT NULL,
  `dt` datetime(6) NOT NULL,
  `dy_name` varchar(50) NOT NULL,
  `dy_num` varchar(20) NOT NULL,
  `gif` varchar(120) NOT NULL,
  `href` varchar(20) NOT NULL,
  `img` varchar(120) NOT NULL,
  `tag` varchar(120) NOT NULL,
  `target` varchar(20) NOT NULL,
  `title0` varchar(120) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=361 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tv_info`
--

LOCK TABLES `tv_info` WRITE;
/*!40000 ALTER TABLE `tv_info` DISABLE KEYS */;
INSERT INTO `tv_info` VALUES (1,'\"288010\"','\"0\"','\"169\"','\"0\"','\"2\"','2017-05-30 15:04:40.996967','丸子呦','12.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/wanzi188\"','\"https://rpic.douyucdn.cn/a1705/30/22/288010_170530225235.jpg\"','炉石传说','\"_blank\"','\n'),(2,'\"6324\"','\"0\"','\"33\"','\"0\"','\"1\"','2017-05-30 15:04:41.000968','抽象工作室upupup','7.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/6324\"','\"https://rpic.douyucdn.cn/a1705/30/22/6324_170530225331.jpg\"','英雄联盟','\"_blank\"','\n'),(3,'\"1405818\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:04:41.004968','小雪sobrave','3108','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1405818\"','\"https://rpic.douyucdn.cn/a1705/30/22/1405818_170530223955.jpg\"','王者荣耀','\"_blank\"','\n'),(4,'\"793400\"','\"0\"','\"224\"','\"0\"','\"181\"','2017-05-30 15:04:41.008968','DL丶拖米','28.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/793400\"','\"https://rpic.douyucdn.cn/a1705/30/22/793400_170530222141.jpg\"','王者荣耀','\"_blank\"','\n'),(5,'\"24422\"','\"0\"','\"189\"','\"0\"','\"148\"','2017-05-30 15:04:41.014968','pigff','22.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/pigff\"','\"https://rpic.douyucdn.cn/a1705/30/22/24422_170530225215.jpg\"','守望先锋','\"_blank\"','\n'),(6,'\"46653\"','\"0\"','\"93\"','\"0\"','\"3\"','2017-05-30 15:04:41.018969','楼上老李','17万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lowlee\"','\"https://rpic.douyucdn.cn/a1705/30/22/46653_170530224008.jpg\"','DOTA2','\"_blank\"','\n'),(7,'\"105025\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:04:41.023969','赛文柒Seven','7.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/105025\"','\"https://rpic.douyucdn.cn/a1705/29/17/105025_170529171555.jpg\"','娱乐','\"_blank\"','\n'),(8,'\"138286\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:04:41.029969','White55开解说','238万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/wt55kai\"','\"https://rpic.douyucdn.cn/a1705/30/22/138286_170530225344.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        卢本伟五五开White 端午节安康                        '),(9,'\"154537\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:04:41.035969','老实敦厚的笑笑','107万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/sunyalong\"','\"https://rpic.douyucdn.cn/a1705/30/22/154537_170530224925.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        德云色 端午节安康，回来啦                        '),(10,'\"96291\"','\"0\"','\"35\"','\"0\"','\"1\"','2017-05-30 15:04:41.038970','东北大鹌鹑','60.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/gd008\"','\"https://rpic.douyucdn.cn/a1705/30/22/96291_170530224924.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        东北大鹌鹑 宇宙第一寒冰 相声艺术家！                        '),(11,'\"2124270\"','\"0\"','\"224\"','\"0\"','\"181\"','2017-05-30 15:04:41.041970','往事zr','53.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2124270\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/21/893f027c3fc1b112ed6d37556975a8bf.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        往事：输赢无所谓，装逼要到位                        '),(12,'\"154822\"','\"0\"','\"454\"','\"0\"','\"181\"','2017-05-30 15:04:41.045970','这是瘦辰鬼','34.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/154822\"','\"https://rpic.douyucdn.cn/a1705/30/22/154822_170530224928.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        仙阁辰鬼  啦啦啦                        '),(13,'\"266055\"','\"0\"','\"168\"','\"0\"','\"1\"','2017-05-30 15:04:41.048970','萌面酥','32.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/266055\"','\"https://rpic.douyucdn.cn/a1705/30/22/266055_170530223947.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        酥酥：o.o 我回来了                        '),(14,'\"32892\"','\"0\"','\"167\"','\"0\"','\"2\"','2017-05-30 15:04:41.051970','只有十五岁的涛妹','26.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/32892\"','\"https://rpic.douyucdn.cn/a1705/30/22/32892_170530223950.jpg\"','炉石传说','\"_blank\"','\r\n                                                        涛妹：电子竞技没有假期！                        '),(15,'\"633019\"','\"0\"','\"155\"','\"0\"','\"2\"','2017-05-30 15:04:41.054971','炉石丶啦啦啦','20.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lslalala\"','\"https://rpic.douyucdn.cn/a1705/30/22/633019_170530223936.jpg\"','炉石传说','\"_blank\"','\r\n                                                        啦啦啦：麦迪文开包5刺杀秒杀贼                        '),(16,'\"319538\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:04:41.058971','誓约中二约','17.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/dushuren\"','\"https://rpic.douyucdn.cn/a1705/30/22/319538_170530223955.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        誓约：专业中上凯瑞秘籍！大家端午牛逼！                        '),(17,'\"288016\"','\"0\"','\"37\"','\"0\"','\"1\"','2017-05-30 15:04:41.061971','英雄联盟官方赛事','17.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lpl\"','\"https://rpic.douyucdn.cn/a1705/30/22/288016_170530224005.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        2017MSI季中冠军赛总决赛重播                        '),(18,'\"625651\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:04:41.064971','飞飞Fighting','16.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/625651\"','\"https://rpic.douyucdn.cn/a1705/30/22/625651_170530225339.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        飞飞：今天晚点来~                        '),(19,'\"65848\"','\"0\"','\"518\"','\"0\"','\"270\"','2017-05-30 15:04:41.068971','Happy丨猫腻','15.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/65848\"','\"https://rpic.douyucdn.cn/a1705/30/22/65848_170530225347.jpg\"','绝地求生','\"_blank\"','\r\n                                                        【猫腻】绝地求生大逃杀 蹲坑恶霸                        '),(20,'\"2030723\"','\"0\"','\"35\"','\"0\"','\"1\"','2017-05-30 15:04:41.071972','MoMo0130','15.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2030723\"','\"https://rpic.douyucdn.cn/a1705/30/22/2030723_170530224922.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        每1秒 7次 走A 的 ADC                        '),(21,'\"1275878\"','\"0\"','\"260\"','\"0\"','\"174\"','2017-05-30 15:04:41.074972','暴走漫画','14.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1275878\"','\"https://rpic.douyucdn.cn/a1705/30/22/1275878_170530224024.jpg\"','二次元','\"_blank\"','\r\n                                                        快扶我起来，我还能再看一集                        '),(22,'\"796666\"','\"0\"','\"223\"','\"0\"','\"181\"','2017-05-30 15:04:41.078972','惊蜇','14.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/796666\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/19/fd962e29a5966bf4612c7f2fe20567b7.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        惊蛰：祝所有水友端午超神~                        '),(23,'\"319721\"','\"0\"','\"35\"','\"0\"','\"1\"','2017-05-30 15:04:41.082972','solofeng解说丶','14万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lolff\"','\"https://rpic.douyucdn.cn/a1705/30/22/319721_170530223932.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        SoloFeng 中下上分模式！~                        '),(24,'\"534740\"','\"0\"','\"96\"','\"0\"','\"19\"','2017-05-30 15:04:41.084972','ll小六ll','13.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/534740\"','\"https://rpic.douyucdn.cn/a1705/30/22/534740_170530224001.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【小六】杰森，躺下！                        '),(25,'\"9293\"','\"0\"','\"354\"','\"0\"','\"196\"','2017-05-30 15:04:41.089973','王者之路乌鸦','12.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/9293\"','\"https://rpic.douyucdn.cn/a1705/30/22/9293_170530222254.jpg\"','火影忍者','\"_blank\"','\r\n                                                        乌鸦：端午节安康！                        '),(26,'\"643037\"','\"0\"','\"237\"','\"0\"','\"159\"','2017-05-30 15:04:41.092973','陈吉强','12.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/643037\"','\"https://rpic.douyucdn.cn/a1705/30/22/643037_170530225352.jpg\"','时尚','\"_blank\"','\r\n                                                        斗鱼直播一周年，斗鱼嘉年华                        '),(27,'\"2013889\"','\"0\"','\"224\"','\"0\"','\"181\"','2017-05-30 15:04:41.096973','A仙阁无痕','12万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2013889\"','\"https://rpic.douyucdn.cn/a1705/30/22/2013889_170530225330.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        AS仙阁丶无痕的直播间                        '),(28,'\"85829\"','\"0\"','\"304\"','\"0\"','\"194\"','2017-05-30 15:04:41.101973','主播串哥','12万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/tanxiangzi\"','\"https://rpic.douyucdn.cn/a1705/30/22/85829_170530223257.jpg\"','美食','\"_blank\"','\r\n                                                        串：嘉年华，美食区聚会                        '),(29,'\"533493\"','\"0\"','\"455\"','\"0\"','\"174\"','2017-05-30 15:04:41.104974','Misa贞喵喵喵喵喵','11.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/misacat\"','\"https://rpic.douyucdn.cn/roomCover/2017/05/26/4a7d36ddf5c43ef4c26dbe18dc225726.jpg\"','二次元','\"_blank\"','\r\n                                                        【ASMR】回来啦~上工啦                        '),(30,'\"522423\"','\"0\"','\"37\"','\"0\"','\"1\"','2017-05-30 15:04:41.108974','Riot丶LCK','10.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lck\"','\"https://rpic.douyucdn.cn/a1705/30/22/522423_170530223420.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        2017LCK夏季赛揭幕战重播                        '),(31,'\"265688\"','\"0\"','\"544\"','\"0\"','\"201\"','2017-05-30 15:04:41.112974','软妹小九九丶','10.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xiaojiujiu\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/16/265688_20170516211544_small.jpg\"','颜值','\"_blank\"','\r\n                                                        5.30 斗鱼第一舞娘。                        '),(32,'\"211086\"','\"0\"','\"283\"','\"0\"','\"175\"','2017-05-30 15:04:41.115974','赵小臭','10.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/211086\"','\"https://rpic.douyucdn.cn/a1705/30/22/211086_170530225305.jpg\"','音乐','\"_blank\"','\r\n                                                        赵小臭：今天端午跟毛毛吃个晚饭回来直播哦                        '),(33,'\"252140\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:04:41.118974','qgdoinb','10.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/qgdoinb\"','\"https://rpic.douyucdn.cn/a1705/30/22/252140_170530225246.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        doinb ♥ㅁ♥                        '),(34,'\"607575\"','\"0\"','\"556\"','\"0\"','\"124\"','2017-05-30 15:04:41.122975','日本超模武田华恋','10.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/607575\"','\"https://rpic.douyucdn.cn/a1705/30/22/607575_170530225220.jpg\"','娱乐','\"_blank\"','\r\n                                                        武漢熱い！户部巷小吃尝一尝♡                        '),(35,'\"93912\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:04:41.126975','黑白锐雯','10.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/93912\"','\"https://rpic.douyucdn.cn/a1705/30/22/93912_170530224928.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        黑白,锐雯又崛起了？                        '),(36,'\"874079\"','\"0\"','\"285\"','\"0\"','\"195\"','2017-05-30 15:04:41.128975','走之兔兔兔','1486','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/874079\"','\"https://rpic.douyucdn.cn/a1705/30/22/874079_170530223249.jpg\"','鱼教','\"_blank\"','\r\n                                                        一起了解一哈传统节日吧                        '),(37,'\"1811143\"','\"0\"','\"472\"','\"0\"','\"181\"','2017-05-30 15:04:41.131975','宇宙无敌聪明白','9.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1811143\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/23/8787f55c12b108755d4d0da54507f4e7.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        白白白白白：我肥来啦                        '),(38,'\"70231\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:04:41.134975','恶魔qq','9.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/70231\"','\"https://rpic.douyucdn.cn/a1705/30/22/70231_170530225353.jpg\"','主机游戏','\"_blank\"','\r\n                                                        端午节安康~~~~~                        '),(39,'\"603497\"','\"0\"','\"474\"','\"0\"','\"265\"','2017-05-30 15:04:41.137975','yt小盆友','9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/yt2tap\"','\"https://rpic.douyucdn.cn/a1705/30/22/603497_170530225346.jpg\"','跳伞求生','\"_blank\"','\r\n                                                        大家端午安康 我回来了                        '),(40,'\"2018597\"','\"0\"','\"95\"','\"0\"','\"3\"','2017-05-30 15:04:41.140976','Zcup索泰杯','7.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2018597\"','\"https://rpic.douyucdn.cn/a1705/30/22/2018597_170530224014.jpg\"','DOTA2','\"_blank\"','\r\n                                                        索泰杯第一日重播                        '),(41,'\"12306\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:04:41.144976','电棍','7.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/DianGun\"','\"https://rpic.douyucdn.cn/a1705/30/22/12306_170530224016.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        端午节快乐 大家过年好                        '),(42,'\"102411\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:04:41.146976','三笠ackerman丶1','7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/102411\"','\"https://rpic.douyucdn.cn/a1705/30/22/102411_170530224000.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        神超：狼人杀主播上线啦！                        '),(43,'\"12313\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:04:41.149976','叶音符','7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/12313\"','\"https://rpic.douyucdn.cn/a1705/30/22/12313_170530223939.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        叶音符：打野型中单 外挂型皇子                        '),(44,'\"4154\"','\"0\"','\"59\"','\"0\"','\"40\"','2017-05-30 15:04:41.152976','DNF表哥','6.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/4154\"','\"https://rpic.douyucdn.cn/a1705/30/22/4154_170530223907.jpg\"','DNF','\"_blank\"','\r\n                                                        网瘾神童无尽难度大冒险                        '),(45,'\"312410\"','\"0\"','\"155\"','\"0\"','\"2\"','2017-05-30 15:04:41.155977','炉石丶春哥','6.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/312410\"','\"https://rpic.douyucdn.cn/a1705/30/22/312410_170530223945.jpg\"','炉石传说','\"_blank\"','\r\n                                                        颜值JJC：凤凰 恩佐斯 亡语法                        '),(46,'\"142488\"','\"0\"','\"0\"','\"0\"','\"35\"','2017-05-30 15:04:41.158977','Nostalie','6.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/Nostalie\"','\"https://rpic.douyucdn.cn/a1705/30/22/142488_170530225336.jpg\"','风暴英雄','\"_blank\"','\r\n                                                        NO:端午安康                        '),(47,'\"517267\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:04:41.161977','晨小柏','6.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xg1024606\"','\"https://rpic.douyucdn.cn/a1705/30/22/517267_170530223828.jpg\"','娱乐','\"_blank\"','\r\n                                                        武汉的最后一夜                        '),(48,'\"591967\"','\"0\"','\"303\"','\"0\"','\"194\"','2017-05-30 15:04:41.164977','舌尖上的老王八','6.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lw591967\"','\"https://rpic.douyucdn.cn/a1705/30/22/591967_170530223950.jpg\"','美食','\"_blank\"','\r\n                                                        老王：和水友吃饭啦 美滋滋                        '),(49,'\"854503\"','\"0\"','\"471\"','\"0\"','\"181\"','2017-05-30 15:04:41.167977','贱魔神','5.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/854503\"','\"https://rpic.douyucdn.cn/a1705/30/22/854503_170530222157.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        刘备专场：怂不存在的！刚才是王道                        '),(50,'\"687423\"','\"0\"','\"186\"','\"0\"','\"148\"','2017-05-30 15:04:41.170977','yjjimpaopao','5.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/687423\"','\"https://rpic.douyucdn.cn/a1705/30/22/687423_170530225348.jpg\"','守望先锋','\"_blank\"','\r\n                                                        【YJJPP】 回来了 休赛期 吃鸡！                        '),(51,'\"318624\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:04:41.173978','老乡开下门','5.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/318624\"','\"https://rpic.douyucdn.cn/a1705/30/22/318624_170530225226.jpg\"','娱乐','\"_blank\"','\r\n                                                        F4:开开波，走走心……                        '),(52,'\"782541\"','\"0\"','\"0\"','\"0\"','\"207\"','2017-05-30 15:04:41.177978','企鹅跳转专用16','58','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/782541\"','\"https://staticlive.douyucdn.cn/upload/web_pic/90336d4a8b8a1103a690869040e42e0c_thumb.png\"','企鹅直播','\"_blank\"','\r\n                                                        F5WC五人制足球世界杯                        '),(53,'\"97590\"','\"0\"','\"447\"','\"0\"','\"260\"','2017-05-30 15:04:41.180978','五金店主葛小狗','5.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/Michael123\"','\"https://rpic.douyucdn.cn/a1705/30/22/97590_170530223850.jpg\"','天天狼人杀','\"_blank\"','\r\n                                                        葛老板：你们的哈士骑回来了！！                        '),(54,'\"35651\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:04:41.184978','老佳','5.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/laojia95\"','\"https://rpic.douyucdn.cn/a1705/30/22/35651_170530223259.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【FIFA17】枪势崛起第12集-欧冠梦                        '),(55,'\"47227\"','\"0\"','\"96\"','\"0\"','\"19\"','2017-05-30 15:04:41.188978','我有上将潘森','5.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/asen\"','\"https://rpic.douyucdn.cn/a1705/30/22/47227_170530223944.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【森】黑色星期五                        '),(56,'\"122943\"','\"0\"','\"54\"','\"0\"','\"33\"','2017-05-30 15:04:41.190979','SherlcokHolmes','5.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/JIANGPEIYI\"','\"https://rpic.douyucdn.cn/a1705/30/22/122943_170530225343.jpg\"','穿越火线','\"_blank\"','\r\n                                                        Sherlock：飞机代打定级赛！                        '),(57,'\"255865\"','\"0\"','\"245\"','\"0\"','\"55\"','2017-05-30 15:04:41.193979','Infi小王','4.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/infiwang\"','\"https://rpic.douyucdn.cn/a1705/30/22/255865_170530223940.jpg\"','魔兽争霸','\"_blank\"','\r\n                                                        19:00继续横行天梯~~                        '),(58,'\"1976204\"','\"0\"','\"223\"','\"0\"','\"181\"','2017-05-30 15:04:41.195979','仙阁寒夜','4.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1976204\"','\"https://rpic.douyucdn.cn/a1705/30/22/1976204_170530223954.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        AS仙阁灵魂歌神教练寒夜                        '),(59,'\"822010\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:04:41.198979','蜗牛Danny','4.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/822010\"','\"https://rpic.douyucdn.cn/a1705/30/22/822010_170530223250.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        不露脸，今天依旧太美太耀眼                        '),(60,'\"510541\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:04:41.199979','KazeLink','4.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/kazelink\"','\"https://rpic.douyucdn.cn/a1705/30/22/510541_170530223936.jpg\"','主机游戏','\"_blank\"','\r\n                                                        马里奥-Link 技术主播没有GG                        '),(61,'\"63623\"','\"0\"','\"35\"','\"0\"','\"1\"','2017-05-30 15:04:41.201979','鲍鲍解说','4.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/63623\"','\"https://rpic.douyucdn.cn/a1705/30/22/63623_170530223931.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        国服第一烬！一枪千血！                        '),(62,'\"677324\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:04:41.203979','萌兔子丶小雨','4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/677324\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/26/677324_20170526125638_small.jpg\"','颜值','\"_blank\"','\r\n                                                        最后一天，凤九手把手教你打炉石                        '),(63,'\"1950105\"','\"0\"','\"454\"','\"0\"','\"181\"','2017-05-30 15:04:41.205979','Sharker丶楚才','3.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1950105\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/29/6e761668ce29376241401f7c329577e6.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        最强干将莫邪，祝大家端午安康，多吃粽子哟                        '),(64,'\"709710\"','\"0\"','\"517\"','\"0\"','\"270\"','2017-05-30 15:04:41.206980','imxiaoxin','3.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xiaoxinfps\"','\"https://rpic.douyucdn.cn/a1705/30/22/709710_170530223143.jpg\"','绝地求生','\"_blank\"','\r\n                                                        小新： 落地变箱子 -（自定义）                        '),(65,'\"227670\"','\"0\"','\"346\"','\"0\"','\"212\"','2017-05-30 15:04:41.208980','军武直播','3.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/crazy262\"','\"https://rpic.douyucdn.cn/a1705/30/22/227670_170530225444.jpg\"','军事','\"_blank\"','\r\n                                                        28日下午2点武汉斗鱼嘉年华见面会见                        '),(66,'\"1502345\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:04:41.210980','小白Abby','3.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1502345\"','\"https://rpic.douyucdn.cn/appCovers/2017/03/01/1502345_20170301173602_small.jpg\"','颜值','\"_blank\"','\r\n                                                        小白Abbyl的直播间                        '),(67,'\"552712\"','\"0\"','\"363\"','\"0\"','\"196\"','2017-05-30 15:04:41.211980','超超宝宝饿了','3.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/552712\"','\"https://rpic.douyucdn.cn/a1705/30/22/552712_170530225221.jpg\"','火影忍者','\"_blank\"','\r\n                                                        超超：播一会渡个劫！                        '),(68,'\"246195\"','\"0\"','\"92\"','\"0\"','\"3\"','2017-05-30 15:04:41.213980','叶子长青K','3.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/246195\"','\"https://rpic.douyucdn.cn/a1705/30/22/246195_170530223921.jpg\"','DOTA2','\"_blank\"','\r\n                                                        长青派火猫 敢在来一刀吗                        '),(69,'\"1706249\"','\"0\"','\"545\"','\"0\"','\"201\"','2017-05-30 15:04:41.215980','糖豆宝宝x','3.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1706249\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/26/1706249_20170526212843_small.jpg\"','颜值','\"_blank\"','\r\n                                                        今天好累 少播一会儿                        '),(70,'\"560616\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:04:41.217980','许阿姨','3.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/560616\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/19/78eed85cc72e1ae409cbab0e0049d65b.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        许阿姨:被电竞耽误的歌手❤                        '),(71,'\"1149639\"','\"0\"','\"455\"','\"0\"','\"174\"','2017-05-30 15:04:41.218980','baby小艺','3.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1149639\"','\"https://rpic.douyucdn.cn/roomCover/2017/05/26/8bca40dbfac1211fbea06b6da5161921.png\"','二次元','\"_blank\"','\r\n                                                        [ASMR]今天晚上十点开播                        '),(72,'\"415379\"','\"0\"','\"461\"','\"0\"','\"264\"','2017-05-30 15:04:41.220980','动感超人吃菠菜','3.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/415379\"','\"https://rpic.douyucdn.cn/a1705/30/22/415379_170530223941.jpg\"','龙之谷手游','\"_blank\"','\r\n                                                        【菠菜】9点神圣联赛诞生8强！                        '),(73,'\"3614\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:04:41.222980','MrQuin','3.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/quin\"','\"https://rpic.douyucdn.cn/a1705/30/22/3614_170530223922.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【Quin】破产2017                        '),(74,'\"258702\"','\"0\"','\"350\"','\"0\"','\"240\"','2017-05-30 15:04:41.223980','二条1','3.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/258702\"','\"https://rpic.douyucdn.cn/a1705/30/22/258702_170530223951.jpg\"','阴阳师','\"_blank\"','\r\n                                                        端午节安康！！                        '),(75,'\"1739875\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:04:41.225981','蚊子欧尼','3.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1739875\"','\"https://rpic.douyucdn.cn/a1705/30/22/1739875_170530225351.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        哎哟 没谁了                        '),(76,'\"646495\"','\"0\"','\"354\"','\"0\"','\"196\"','2017-05-30 15:04:41.227981','噩梦啊','3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/646495\"','\"https://rpic.douyucdn.cn/a1705/30/22/646495_170530225240.jpg\"','火影忍者','\"_blank\"','\r\n                                                        噩梦：迟到了迟到了。。                        '),(77,'\"595265\"','\"0\"','\"363\"','\"0\"','\"196\"','2017-05-30 15:04:41.228981','奶瓶lxx','3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/595265\"','\"https://rpic.douyucdn.cn/a1705/30/22/595265_170530223938.jpg\"','火影忍者','\"_blank\"','\r\n                                                        奶瓶~老铁~进来办个卡呗~                        '),(78,'\"980097\"','\"0\"','\"318\"','\"0\"','\"229\"','2017-05-30 15:04:41.230981','宴门丨陛下','3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/980097\"','\"https://rpic.douyucdn.cn/a1705/30/22/980097_170530223149.jpg\"','新游中心','\"_blank\"','\r\n                                                        飞碟大战。即将上线。。                        '),(79,'\"533813\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:04:41.232981','正直博','2.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/533813\"','\"https://rpic.douyucdn.cn/a1705/30/22/533813_170530223908.jpg\"','娱乐','\"_blank\"','\r\n                                                        斗鱼嘉年华，娱乐实验室                        '),(80,'\"190174\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:04:41.233981','萌七七QAQ','2.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/190174\"','\"https://rpic.douyucdn.cn/a1705/30/22/190174_170530223941.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        拯救单身boy的任务就交给我了~                        '),(81,'\"646778\"','\"0\"','\"503\"','\"0\"','\"250\"','2017-05-30 15:04:41.235981','废才兄弟','2.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/646778\"','\"https://rpic.douyucdn.cn/a1705/30/22/646778_170530224004.jpg\"','正能量','\"_blank\"','\r\n                                                        高位截瘫，身残志坚，贤妻良母，屈指可数                        '),(82,'\"614786\"','\"0\"','\"259\"','\"0\"','\"174\"','2017-05-30 15:04:41.237981','神楽坂真冬','2.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/mafuyutan\"','\"https://rpic.douyucdn.cn/roomCover/2017/04/12/51487b8a722380d57107e74f0c2a6e77.jpg\"','二次元','\"_blank\"','\r\n                                                        【斗鱼嘉年华】第三天w                        '),(83,'\"1812623\"','\"0\"','\"545\"','\"0\"','\"201\"','2017-05-30 15:04:41.239981','磨人的小柠檬','2.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1812623\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/13/1812623_20170513190747_small.jpg\"','颜值','\"_blank\"','\r\n                                                        小柠檬萌家军                        '),(84,'\"462253\"','\"0\"','\"545\"','\"0\"','\"201\"','2017-05-30 15:04:41.241982','丁叮c','2.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/462253\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/29/462253_20170529180941_small.jpg\"','颜值','\"_blank\"','\r\n                                                        武汉最后一夜～                        '),(85,'\"52285\"','\"0\"','\"303\"','\"0\"','\"194\"','2017-05-30 15:04:41.242981','胖胖C','2.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/52285\"','\"https://rpic.douyucdn.cn/a1705/30/22/52285_170530223735.jpg\"','美食','\"_blank\"','\r\n                                                        跟妈妈吃饱喝足啦。                        '),(86,'\"708160\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:04:41.244982','瑜小鱼baby','2.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/708160\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/23/708160_20170523212255_small.jpg\"','颜值','\"_blank\"','\r\n                                                        小姐姐来直播了                        '),(87,'\"1954481\"','\"0\"','\"346\"','\"0\"','\"212\"','2017-05-30 15:04:41.246982','张召忠','2.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1954481\"','\"https://rpic.douyucdn.cn/a1705/30/22/1954481_170530224956.jpg\"','军事','\"_blank\"','\r\n                                                        视频已更新，欢迎来到局座的直播间                        '),(88,'\"530791\"','\"0\"','\"168\"','\"0\"','\"1\"','2017-05-30 15:04:41.248982','小子y','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/530791\"','\"https://rpic.douyucdn.cn/a1705/30/22/530791_170530225215.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        斗鱼第一海盗船长,一桶秒杀双c,狂c全场                        '),(89,'\"228588\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:04:41.249982','机长与车仔','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/jiale\"','\"https://rpic.douyucdn.cn/a1705/30/22/228588_170530223951.jpg\"','娱乐','\"_blank\"','\r\n                                                        【嘉年华】女粉丝来了                        '),(90,'\"84835\"','\"0\"','\"472\"','\"0\"','\"181\"','2017-05-30 15:04:41.251982','瑾x丶','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/jinxxx\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/18/374e566f793306019ae93f1e3de81078.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        瑾：国服第一诸葛 十步杀一人 千里不留痕                        '),(91,'\"315173\"','\"0\"','\"377\"','\"0\"','\"55\"','2017-05-30 15:04:41.253982','澄海3c晨曦','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/315173\"','\"https://rpic.douyucdn.cn/a1705/30/22/315173_170530223934.jpg\"','魔兽争霸','\"_blank\"','\r\n                                                        晨曦花落vs卡卡孤浪.不打爆炸不罢休!                        '),(92,'\"473676\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:04:41.255982','28丶稳健猴','2.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/houwangdashe\"','\"https://rpic.douyucdn.cn/a1705/30/22/473676_170530223946.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        孙悟空躺到钻一！！                        '),(93,'\"1929072\"','\"0\"','\"155\"','\"0\"','\"2\"','2017-05-30 15:04:41.256982','天天卡牌','2.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/ttkapai\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/17/4edb024beddac9a2d8df680271d892a9.jpg\"','炉石传说','\"_blank\"','\r\n                                                        天天卡牌官方直播间 直播至23点                        '),(94,'\"214786\"','\"0\"','\"167\"','\"0\"','\"2\"','2017-05-30 15:04:41.259982','两仪未娜丶','2.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/214786\"','\"https://rpic.douyucdn.cn/a1705/30/22/214786_170530225159.jpg\"','炉石传说','\"_blank\"','\r\n                                                        斗鱼尬年华，小姐姐请留步！                        '),(95,'\"1215578\"','\"0\"','\"31\"','\"0\"','\"190\"','2017-05-30 15:04:41.260983','后裔winnerhero','2.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1215578\"','\"https://rpic.douyucdn.cn/a1705/30/22/1215578_170530224924.jpg\"','皇室战争','\"_blank\"','\r\n                                                        后裔: 来一波12本天梯体验                        '),(96,'\"534359\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:04:41.262983','770丶','2.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/534359\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/25/534359_20170525211307_small.jpg\"','颜值','\"_blank\"','\r\n                                                        770来啦啦啦                        '),(97,'\"248753\"','\"0\"','\"342\"','\"0\"','\"208\"','2017-05-30 15:04:41.264983','s1134','2.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/s1134\"','\"https://rpic.douyucdn.cn/a1705/30/22/248753_170530225453.jpg\"','视听点评','\"_blank\"','\r\n                                                        【s1134】经典 科幻 动作 灾难！~                        '),(98,'\"428250\"','\"0\"','\"476\"','\"0\"','\"265\"','2017-05-30 15:04:41.265983','douyu青蛙','2.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/428250\"','\"https://rpic.douyucdn.cn/a1705/30/22/428250_170530223917.jpg\"','跳伞求生','\"_blank\"','\r\n                                                        【青蛙】带妹组排搞偶遇                        '),(99,'\"562590\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:04:41.268983','观音桥毕加索','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/562590\"','\"https://rpic.douyucdn.cn/a1705/30/22/562590_170530225159.jpg\"','娱乐','\"_blank\"','\r\n                                                        回家啦，吃个晚饭                        '),(100,'\"142823\"','\"0\"','\"223\"','\"0\"','\"181\"','2017-05-30 15:04:41.269983','小二十一最可爱','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/142823\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/16/cc534d1dbd7e67f56c59909e8737da2a.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        二十一：小兰陵神。                        '),(101,'\"638809\"','\"0\"','\"544\"','\"0\"','\"201\"','2017-05-30 15:04:41.271983','季小西','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/638809\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/19/638809_20170519194542_small.jpg\"','颜值','\"_blank\"','\r\n                                                        腿西：晚安↖(^ω^)↗                        '),(102,'\"1761727\"','\"0\"','\"237\"','\"0\"','\"159\"','2017-05-30 15:04:41.273983','我是唐菲','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1761727\"','\"https://rpic.douyucdn.cn/a1705/30/22/1761727_170530224748.jpg\"','时尚','\"_blank\"','\r\n                                                        听说大家都没唱够                        '),(103,'\"210438\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:04:41.274983','梦月灬','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/mengyue6666\"','\"https://rpic.douyucdn.cn/a1705/30/22/210438_170530224908.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        国服第一歌神 电竞播音员 日常帮水友跳段                        '),(104,'\"219111\"','\"0\"','\"482\"','\"0\"','\"179\"','2017-05-30 15:04:41.276983','蓝莓po1son','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/219111\"','\"https://rpic.douyucdn.cn/a1705/30/22/219111_170530225358.jpg\"','梦幻西游手游','\"_blank\"','\r\n                                                        小蓝的直播间。                        '),(105,'\"848337\"','\"0\"','\"556\"','\"0\"','\"124\"','2017-05-30 15:04:41.278984','俄罗斯教父','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/848337\"','\"https://rpic.douyucdn.cn/a1705/30/22/848337_170530223258.jpg\"','娱乐','\"_blank\"','\r\n                                                        东湖开船楼                        '),(106,'\"425342\"','\"0\"','\"258\"','\"0\"','\"174\"','2017-05-30 15:04:41.280984','内服药','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/zhiQAQ\"','\"https://rpic.douyucdn.cn/a1705/30/22/425342_170530225337.jpg\"','二次元','\"_blank\"','\r\n                                                        「打虫药」❤                        '),(107,'\"214116\"','\"0\"','\"0\"','\"0\"','\"272\"','2017-05-30 15:04:41.282984','灬叁叔','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/214116\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/30/e6c2fd8771ce9017eb7da5f3702011e6.jpg\"','狼人杀世界','\"_blank\"','\r\n                                                        端午节估计要吃狼肉粽子了                        '),(108,'\"65820\"','\"0\"','\"64\"','\"0\"','\"51\"','2017-05-30 15:04:41.283984','解小亮','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xiexiaoliang\"','\"https://rpic.douyucdn.cn/a1705/30/22/65820_170530225326.jpg\"','足球竞技','\"_blank\"','\r\n                                                        今天要稳扎稳打...!                        '),(109,'\"1015749\"','\"0\"','\"544\"','\"0\"','\"201\"','2017-05-30 15:04:41.285984','萌萌哒夏夏丶','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1015749\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/21/1015749_20170521223246_small.jpg\"','颜值','\"_blank\"','\r\n                                                        祝大家端午安康～                        '),(110,'\"578097\"','\"0\"','\"556\"','\"0\"','\"124\"','2017-05-30 15:04:41.287984','两斤饭婧婧','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/578097\"','\"https://rpic.douyucdn.cn/a1705/30/22/578097_170530225345.jpg\"','娱乐','\"_blank\"','\r\n                                                        到家啦，你有在等我吗？                        '),(111,'\"1364501\"','\"0\"','\"470\"','\"0\"','\"181\"','2017-05-30 15:04:41.289984','王者峡谷蛋蛋君','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/dandansimida\"','\"https://rpic.douyucdn.cn/a1705/30/22/1364501_170530224919.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        蛋蛋：韩信~                        '),(112,'\"591801\"','\"0\"','\"305\"','\"0\"','\"194\"','2017-05-30 15:04:41.290984','主播宋师傅','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/591801\"','\"https://rpic.douyucdn.cn/a1705/30/22/591801_170530225218.jpg\"','美食','\"_blank\"','\r\n                                                        【宋师傅】深夜放毒！！成都冒菜大家喜欢                        '),(113,'\"280730\"','\"0\"','\"351\"','\"0\"','\"240\"','2017-05-30 15:04:41.292984','请叫李响','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/280730\"','\"https://rpic.douyucdn.cn/a1705/30/22/280730_170530223909.jpg\"','阴阳师','\"_blank\"','\r\n                                                        吊哥：你，今天亏了吗？                        '),(114,'\"2030318\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:04:41.293984','你的可爱瑶啊','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2030318\"','\"https://rpic.douyucdn.cn/appCovers/2017/04/18/2030318_20170418201543_small.jpg\"','颜值','\"_blank\"','\r\n                                                        嘿嘿嘿唠唠嗑吗                        '),(115,'\"479378\"','\"0\"','\"556\"','\"0\"','\"124\"','2017-05-30 15:04:41.295985','户外主播允允允','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/479378\"','\"https://rpic.douyucdn.cn/a1705/30/22/479378_170530224744.jpg\"','娱乐','\"_blank\"','\r\n                                                        27岁生日，感谢有你，今天起不再单身。                        '),(116,'\"438332\"','\"0\"','\"299\"','\"0\"','\"222\"','2017-05-30 15:04:41.297985','青空清空晴空1','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/438332\"','\"https://rpic.douyucdn.cn/a1705/30/22/438332_170530225310.jpg\"','校园','\"_blank\"','\r\n                                                        吃粽子了嘛~~                        '),(117,'\"2052651\"','\"0\"','\"483\"','\"0\"','\"179\"','2017-05-30 15:04:41.299985','梦幻小毅然','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2052651\"','\"https://rpic.douyucdn.cn/a1705/30/22/2052651_170530225239.jpg\"','梦幻西游手游','\"_blank\"','\r\n                                                        MC吹牛逼（努力的毅然）                        '),(118,'\"222015\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:04:41.301985','尘逸','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/222015\"','\"https://rpic.douyucdn.cn/a1705/30/22/222015_170530225235.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        尘逸天使：国服第一分析师，跟我学躺赢                        '),(119,'\"99367\"','\"0\"','\"166\"','\"0\"','\"19\"','2017-05-30 15:04:41.302985','老猫CatGames','1.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/catgames\"','\"https://rpic.douyucdn.cn/a1705/30/22/99367_170530223852.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【Cat】喵喵喵喵喵喵！                        '),(120,'\"122402\"','\"0\"','\"343\"','\"0\"','\"208\"','2017-05-30 15:04:41.304985','进击の神乐','1.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/122402\"','\"https://rpic.douyucdn.cn/a1705/30/22/122402_170530224030.jpg\"','视听点评','\"_blank\"','\r\n                                                        【周星驰】星爷 24小时 经典电影 神乐                        '),(121,'\"1405818\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:04:41.306985','小雪sobrave','3108','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1405818\"','\"https://rpic.douyucdn.cn/a1705/30/22/1405818_170530223955.jpg\"','王者荣耀','\"_blank\"','\n'),(122,'\"46653\"','\"0\"','\"93\"','\"0\"','\"3\"','2017-05-30 15:04:41.308985','楼上老李','17万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lowlee\"','\"https://rpic.douyucdn.cn/a1705/30/22/46653_170530224008.jpg\"','DOTA2','\"_blank\"','\n'),(123,'\"154537\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:04:41.310985','老实敦厚的笑笑','107万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/sunyalong\"','\"https://rpic.douyucdn.cn/a1705/30/22/154537_170530224925.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        德云色 端午节安康，回来啦                        '),(124,'\"633019\"','\"0\"','\"155\"','\"0\"','\"2\"','2017-05-30 15:04:41.311985','炉石丶啦啦啦','20.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lslalala\"','\"https://rpic.douyucdn.cn/a1705/30/22/633019_170530223936.jpg\"','炉石传说','\"_blank\"','\r\n                                                        啦啦啦：麦迪文开包5刺杀秒杀贼                        '),(125,'\"625651\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:04:41.313986','飞飞Fighting','16.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/625651\"','\"https://rpic.douyucdn.cn/a1705/30/22/625651_170530225339.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        飞飞：今天晚点来~                        '),(126,'\"1275878\"','\"0\"','\"260\"','\"0\"','\"174\"','2017-05-30 15:04:41.315986','暴走漫画','14.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1275878\"','\"https://rpic.douyucdn.cn/a1705/30/22/1275878_170530224024.jpg\"','二次元','\"_blank\"','\r\n                                                        快扶我起来，我还能再看一集                        '),(127,'\"2013889\"','\"0\"','\"224\"','\"0\"','\"181\"','2017-05-30 15:04:41.316986','A仙阁无痕','12万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2013889\"','\"https://rpic.douyucdn.cn/a1705/30/22/2013889_170530225330.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        AS仙阁丶无痕的直播间                        '),(128,'\"522423\"','\"0\"','\"37\"','\"0\"','\"1\"','2017-05-30 15:04:41.319986','Riot丶LCK','10.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lck\"','\"https://rpic.douyucdn.cn/a1705/30/22/522423_170530223420.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        2017LCK夏季赛揭幕战重播                        '),(129,'\"252140\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:04:41.320986','qgdoinb','10.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/qgdoinb\"','\"https://rpic.douyucdn.cn/a1705/30/22/252140_170530225246.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        doinb ♥ㅁ♥                        '),(130,'\"603497\"','\"0\"','\"474\"','\"0\"','\"265\"','2017-05-30 15:04:41.322986','yt小盆友','9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/yt2tap\"','\"https://rpic.douyucdn.cn/a1705/30/22/603497_170530225346.jpg\"','跳伞求生','\"_blank\"','\r\n                                                        大家端午安康 我回来了                        '),(131,'\"102411\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:04:41.324986','三笠ackerman丶1','7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/102411\"','\"https://rpic.douyucdn.cn/a1705/30/22/102411_170530224000.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        神超：狼人杀主播上线啦！                        '),(132,'\"312410\"','\"0\"','\"155\"','\"0\"','\"2\"','2017-05-30 15:04:41.325986','炉石丶春哥','6.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/312410\"','\"https://rpic.douyucdn.cn/a1705/30/22/312410_170530223945.jpg\"','炉石传说','\"_blank\"','\r\n                                                        颜值JJC：凤凰 恩佐斯 亡语法                        '),(133,'\"318624\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:04:41.328986','老乡开下门','5.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/318624\"','\"https://rpic.douyucdn.cn/a1705/30/22/318624_170530225226.jpg\"','娱乐','\"_blank\"','\r\n                                                        F4:开开波，走走心……                        '),(134,'\"35651\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:04:41.329987','老佳','5.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/laojia95\"','\"https://rpic.douyucdn.cn/a1705/30/22/35651_170530223259.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【FIFA17】枪势崛起第12集-欧冠梦                        '),(135,'\"255865\"','\"0\"','\"245\"','\"0\"','\"55\"','2017-05-30 15:04:41.331987','Infi小王','4.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/infiwang\"','\"https://rpic.douyucdn.cn/a1705/30/22/255865_170530223940.jpg\"','魔兽争霸','\"_blank\"','\r\n                                                        19:00继续横行天梯~~                        '),(136,'\"1950105\"','\"0\"','\"454\"','\"0\"','\"181\"','2017-05-30 15:04:41.333987','Sharker丶楚才','3.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1950105\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/29/6e761668ce29376241401f7c329577e6.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        最强干将莫邪，祝大家端午安康，多吃粽子哟                        '),(137,'\"1502345\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:04:41.334987','小白Abby','3.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1502345\"','\"https://rpic.douyucdn.cn/appCovers/2017/03/01/1502345_20170301173602_small.jpg\"','颜值','\"_blank\"','\r\n                                                        小白Abbyl的直播间                        '),(138,'\"1706249\"','\"0\"','\"545\"','\"0\"','\"201\"','2017-05-30 15:04:41.336987','糖豆宝宝x','3.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1706249\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/26/1706249_20170526212843_small.jpg\"','颜值','\"_blank\"','\r\n                                                        今天好累 少播一会儿                        '),(139,'\"1739875\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:04:41.338987','蚊子欧尼','3.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1739875\"','\"https://rpic.douyucdn.cn/a1705/30/22/1739875_170530225351.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        哎哟 没谁了                        '),(140,'\"980097\"','\"0\"','\"318\"','\"0\"','\"229\"','2017-05-30 15:04:41.340987','宴门丨陛下','3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/980097\"','\"https://rpic.douyucdn.cn/a1705/30/22/980097_170530223149.jpg\"','新游中心','\"_blank\"','\r\n                                                        飞碟大战。即将上线。。                        '),(141,'\"646778\"','\"0\"','\"503\"','\"0\"','\"250\"','2017-05-30 15:04:41.342987','废才兄弟','2.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/646778\"','\"https://rpic.douyucdn.cn/a1705/30/22/646778_170530224004.jpg\"','正能量','\"_blank\"','\r\n                                                        高位截瘫，身残志坚，贤妻良母，屈指可数                        '),(142,'\"1954481\"','\"0\"','\"346\"','\"0\"','\"212\"','2017-05-30 15:04:41.343987','张召忠','2.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1954481\"','\"https://rpic.douyucdn.cn/a1705/30/22/1954481_170530224956.jpg\"','军事','\"_blank\"','\r\n                                                        视频已更新，欢迎来到局座的直播间                        '),(143,'\"84835\"','\"0\"','\"472\"','\"0\"','\"181\"','2017-05-30 15:04:41.345987','瑾x丶','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/jinxxx\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/18/374e566f793306019ae93f1e3de81078.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        瑾：国服第一诸葛 十步杀一人 千里不留痕                        '),(144,'\"1929072\"','\"0\"','\"155\"','\"0\"','\"2\"','2017-05-30 15:04:41.347987','天天卡牌','2.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/ttkapai\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/17/4edb024beddac9a2d8df680271d892a9.jpg\"','炉石传说','\"_blank\"','\r\n                                                        天天卡牌官方直播间 直播至23点                        '),(145,'\"562590\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:04:41.349988','观音桥毕加索','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/562590\"','\"https://rpic.douyucdn.cn/a1705/30/22/562590_170530225159.jpg\"','娱乐','\"_blank\"','\r\n                                                        回家啦，吃个晚饭                        '),(146,'\"1761727\"','\"0\"','\"237\"','\"0\"','\"159\"','2017-05-30 15:04:41.351988','我是唐菲','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1761727\"','\"https://rpic.douyucdn.cn/a1705/30/22/1761727_170530224748.jpg\"','时尚','\"_blank\"','\r\n                                                        听说大家都没唱够                        '),(147,'\"848337\"','\"0\"','\"556\"','\"0\"','\"124\"','2017-05-30 15:04:41.352988','俄罗斯教父','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/848337\"','\"https://rpic.douyucdn.cn/a1705/30/22/848337_170530223258.jpg\"','娱乐','\"_blank\"','\r\n                                                        东湖开船楼                        '),(148,'\"1364501\"','\"0\"','\"470\"','\"0\"','\"181\"','2017-05-30 15:04:41.354988','王者峡谷蛋蛋君','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/dandansimida\"','\"https://rpic.douyucdn.cn/a1705/30/22/1364501_170530224919.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        蛋蛋：韩信~                        '),(149,'\"2030318\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:04:41.356988','你的可爱瑶啊','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2030318\"','\"https://rpic.douyucdn.cn/appCovers/2017/04/18/2030318_20170418201543_small.jpg\"','颜值','\"_blank\"','\r\n                                                        嘿嘿嘿唠唠嗑吗                        '),(150,'\"2052651\"','\"0\"','\"483\"','\"0\"','\"179\"','2017-05-30 15:04:41.358988','梦幻小毅然','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2052651\"','\"https://rpic.douyucdn.cn/a1705/30/22/2052651_170530225239.jpg\"','梦幻西游手游','\"_blank\"','\r\n                                                        MC吹牛逼（努力的毅然）                        '),(151,'\"793400\"','\"0\"','\"224\"','\"0\"','\"181\"','2017-05-30 15:04:41.360988','DL丶拖米','28.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/793400\"','\"https://rpic.douyucdn.cn/a1705/30/22/793400_170530222141.jpg\"','王者荣耀','\"_blank\"','\n'),(152,'\"138286\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:04:41.362988','White55开解说','238万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/wt55kai\"','\"https://rpic.douyucdn.cn/a1705/30/22/138286_170530225344.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        卢本伟五五开White 端午节安康                        '),(153,'\"319538\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:04:41.363988','誓约中二约','17.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/dushuren\"','\"https://rpic.douyucdn.cn/a1705/30/22/319538_170530223955.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        誓约：专业中上凯瑞秘籍！大家端午牛逼！                        '),(154,'\"2030723\"','\"0\"','\"35\"','\"0\"','\"1\"','2017-05-30 15:04:41.365988','MoMo0130','15.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2030723\"','\"https://rpic.douyucdn.cn/a1705/30/22/2030723_170530224922.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        每1秒 7次 走A 的 ADC                        '),(155,'\"85829\"','\"0\"','\"304\"','\"0\"','\"194\"','2017-05-30 15:04:41.367989','主播串哥','12万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/tanxiangzi\"','\"https://rpic.douyucdn.cn/a1705/30/22/85829_170530223257.jpg\"','美食','\"_blank\"','\r\n                                                        串：嘉年华，美食区聚会                        '),(156,'\"211086\"','\"0\"','\"283\"','\"0\"','\"175\"','2017-05-30 15:04:41.369989','赵小臭','10.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/211086\"','\"https://rpic.douyucdn.cn/a1705/30/22/211086_170530225305.jpg\"','音乐','\"_blank\"','\r\n                                                        赵小臭：今天端午跟毛毛吃个晚饭回来直播哦                        '),(157,'\"2018597\"','\"0\"','\"95\"','\"0\"','\"3\"','2017-05-30 15:04:41.371989','Zcup索泰杯','7.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2018597\"','\"https://rpic.douyucdn.cn/a1705/30/22/2018597_170530224014.jpg\"','DOTA2','\"_blank\"','\r\n                                                        索泰杯第一日重播                        '),(158,'\"4154\"','\"0\"','\"59\"','\"0\"','\"40\"','2017-05-30 15:04:41.372989','DNF表哥','6.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/4154\"','\"https://rpic.douyucdn.cn/a1705/30/22/4154_170530223907.jpg\"','DNF','\"_blank\"','\r\n                                                        网瘾神童无尽难度大冒险                        '),(159,'\"782541\"','\"0\"','\"0\"','\"0\"','\"207\"','2017-05-30 15:04:41.374989','企鹅跳转专用16','58','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/782541\"','\"https://staticlive.douyucdn.cn/upload/web_pic/90336d4a8b8a1103a690869040e42e0c_thumb.png\"','企鹅直播','\"_blank\"','\r\n                                                        F5WC五人制足球世界杯                        '),(160,'\"122943\"','\"0\"','\"54\"','\"0\"','\"33\"','2017-05-30 15:04:41.376989','SherlcokHolmes','5.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/JIANGPEIYI\"','\"https://rpic.douyucdn.cn/a1705/30/22/122943_170530225343.jpg\"','穿越火线','\"_blank\"','\r\n                                                        Sherlock：飞机代打定级赛！                        '),(161,'\"709710\"','\"0\"','\"517\"','\"0\"','\"270\"','2017-05-30 15:04:41.378989','imxiaoxin','3.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xiaoxinfps\"','\"https://rpic.douyucdn.cn/a1705/30/22/709710_170530223143.jpg\"','绝地求生','\"_blank\"','\r\n                                                        小新： 落地变箱子 -（自定义）                        '),(162,'\"246195\"','\"0\"','\"92\"','\"0\"','\"3\"','2017-05-30 15:04:41.380989','叶子长青K','3.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/246195\"','\"https://rpic.douyucdn.cn/a1705/30/22/246195_170530223921.jpg\"','DOTA2','\"_blank\"','\r\n                                                        长青派火猫 敢在来一刀吗                        '),(163,'\"646495\"','\"0\"','\"354\"','\"0\"','\"196\"','2017-05-30 15:04:41.381989','噩梦啊','3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/646495\"','\"https://rpic.douyucdn.cn/a1705/30/22/646495_170530225240.jpg\"','火影忍者','\"_blank\"','\r\n                                                        噩梦：迟到了迟到了。。                        '),(164,'\"190174\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:04:41.383990','萌七七QAQ','2.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/190174\"','\"https://rpic.douyucdn.cn/a1705/30/22/190174_170530223941.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        拯救单身boy的任务就交给我了~                        '),(165,'\"530791\"','\"0\"','\"168\"','\"0\"','\"1\"','2017-05-30 15:04:41.385990','小子y','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/530791\"','\"https://rpic.douyucdn.cn/a1705/30/22/530791_170530225215.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        斗鱼第一海盗船长,一桶秒杀双c,狂c全场                        '),(166,'\"473676\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:04:41.386990','28丶稳健猴','2.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/houwangdashe\"','\"https://rpic.douyucdn.cn/a1705/30/22/473676_170530223946.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        孙悟空躺到钻一！！                        '),(167,'\"142823\"','\"0\"','\"223\"','\"0\"','\"181\"','2017-05-30 15:04:41.389990','小二十一最可爱','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/142823\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/16/cc534d1dbd7e67f56c59909e8737da2a.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        二十一：小兰陵神。                        '),(168,'\"219111\"','\"0\"','\"482\"','\"0\"','\"179\"','2017-05-30 15:04:41.390990','蓝莓po1son','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/219111\"','\"https://rpic.douyucdn.cn/a1705/30/22/219111_170530225358.jpg\"','梦幻西游手游','\"_blank\"','\r\n                                                        小蓝的直播间。                        '),(169,'\"591801\"','\"0\"','\"305\"','\"0\"','\"194\"','2017-05-30 15:04:41.392990','主播宋师傅','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/591801\"','\"https://rpic.douyucdn.cn/a1705/30/22/591801_170530225218.jpg\"','美食','\"_blank\"','\r\n                                                        【宋师傅】深夜放毒！！成都冒菜大家喜欢                        '),(170,'\"438332\"','\"0\"','\"299\"','\"0\"','\"222\"','2017-05-30 15:04:41.394990','青空清空晴空1','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/438332\"','\"https://rpic.douyucdn.cn/a1705/30/22/438332_170530225310.jpg\"','校园','\"_blank\"','\r\n                                                        吃粽子了嘛~~                        '),(171,'\"154822\"','\"0\"','\"454\"','\"0\"','\"181\"','2017-05-30 15:04:41.395990','这是瘦辰鬼','34.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/154822\"','\"https://rpic.douyucdn.cn/a1705/30/22/154822_170530224928.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        仙阁辰鬼  啦啦啦                        '),(172,'\"534740\"','\"0\"','\"96\"','\"0\"','\"19\"','2017-05-30 15:04:41.397990','ll小六ll','13.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/534740\"','\"https://rpic.douyucdn.cn/a1705/30/22/534740_170530224001.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【小六】杰森，躺下！                        '),(173,'\"874079\"','\"0\"','\"285\"','\"0\"','\"195\"','2017-05-30 15:04:41.399991','走之兔兔兔','1486','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/874079\"','\"https://rpic.douyucdn.cn/a1705/30/22/874079_170530223249.jpg\"','鱼教','\"_blank\"','\r\n                                                        一起了解一哈传统节日吧                        '),(174,'\"591967\"','\"0\"','\"303\"','\"0\"','\"194\"','2017-05-30 15:04:41.401991','舌尖上的老王八','6.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lw591967\"','\"https://rpic.douyucdn.cn/a1705/30/22/591967_170530223950.jpg\"','美食','\"_blank\"','\r\n                                                        老王：和水友吃饭啦 美滋滋                        '),(175,'\"510541\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:04:41.403991','KazeLink','4.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/kazelink\"','\"https://rpic.douyucdn.cn/a1705/30/22/510541_170530223936.jpg\"','主机游戏','\"_blank\"','\r\n                                                        马里奥-Link 技术主播没有GG                        '),(176,'\"415379\"','\"0\"','\"461\"','\"0\"','\"264\"','2017-05-30 15:04:41.404991','动感超人吃菠菜','3.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/415379\"','\"https://rpic.douyucdn.cn/a1705/30/22/415379_170530223941.jpg\"','龙之谷手游','\"_blank\"','\r\n                                                        【菠菜】9点神圣联赛诞生8强！                        '),(177,'\"462253\"','\"0\"','\"545\"','\"0\"','\"201\"','2017-05-30 15:04:41.406991','丁叮c','2.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/462253\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/29/462253_20170529180941_small.jpg\"','颜值','\"_blank\"','\r\n                                                        武汉最后一夜～                        '),(178,'\"534359\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:04:41.408991','770丶','2.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/534359\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/25/534359_20170525211307_small.jpg\"','颜值','\"_blank\"','\r\n                                                        770来啦啦啦                        '),(179,'\"65820\"','\"0\"','\"64\"','\"0\"','\"51\"','2017-05-30 15:04:41.410991','解小亮','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xiexiaoliang\"','\"https://rpic.douyucdn.cn/a1705/30/22/65820_170530225326.jpg\"','足球竞技','\"_blank\"','\r\n                                                        今天要稳扎稳打...!                        '),(180,'\"122402\"','\"0\"','\"343\"','\"0\"','\"208\"','2017-05-30 15:04:41.412991','进击の神乐','1.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/122402\"','\"https://rpic.douyucdn.cn/a1705/30/22/122402_170530224030.jpg\"','视听点评','\"_blank\"','\r\n                                                        【周星驰】星爷 24小时 经典电影 神乐                        '),(181,'\"99816\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:14:15.930851','今晚打老虎gg','1.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/99816\"','\"https://rpic.douyucdn.cn/a1705/30/22/99816_170530223844.jpg\"','主机游戏','\"_blank\"','\n'),(182,'\"556886\"','\"0\"','\"231\"','\"0\"','\"132\"','2017-05-30 15:14:16.223868','Una惠哥','5.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/556886\"','\"https://rpic.douyucdn.cn/a1705/30/23/556886_170530230231.jpg\"','星秀','\"_blank\"','\n'),(183,'\"93912\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:14:16.304873','黑白锐雯','12.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/93912\"','\"https://rpic.douyucdn.cn/a1705/30/22/93912_170530224928.jpg\"','英雄联盟','\"_blank\"','\n'),(184,'\"793400\"','\"0\"','\"224\"','\"0\"','\"181\"','2017-05-30 15:14:16.346875','DL丶拖米','30.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/793400\"','\"https://rpic.douyucdn.cn/a1705/30/22/793400_170530225229.jpg\"','王者荣耀','\"_blank\"','\n'),(185,'\"24422\"','\"0\"','\"189\"','\"0\"','\"148\"','2017-05-30 15:14:16.396878','pigff','23.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/pigff\"','\"https://rpic.douyucdn.cn/a1705/30/22/24422_170530225215.jpg\"','守望先锋','\"_blank\"','\n'),(186,'\"46653\"','\"0\"','\"93\"','\"0\"','\"3\"','2017-05-30 15:14:16.430880','楼上老李','18万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lowlee\"','\"https://rpic.douyucdn.cn/a1705/30/22/46653_170530224008.jpg\"','DOTA2','\"_blank\"','\n'),(187,'\"105025\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:14:16.471882','赛文柒Seven','13.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/105025\"','\"https://rpic.douyucdn.cn/a1705/30/23/105025_170530230226.jpg\"','娱乐','\"_blank\"','\n'),(188,'\"138286\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:14:16.513885','White55开解说','210万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/wt55kai\"','\"https://rpic.douyucdn.cn/a1705/30/23/138286_170530230834.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        卢本伟五五开White 端午节安康                        '),(189,'\"154537\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:14:16.555887','老实敦厚的笑笑','128万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/sunyalong\"','\"https://rpic.douyucdn.cn/a1705/30/22/154537_170530224925.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        德云色 端午节安康，回来啦                        '),(190,'\"96291\"','\"0\"','\"35\"','\"0\"','\"1\"','2017-05-30 15:14:16.595889','东北大鹌鹑','71万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/gd008\"','\"https://rpic.douyucdn.cn/a1705/30/22/96291_170530224924.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        东北大鹌鹑 宇宙第一寒冰 相声艺术家！                        '),(191,'\"2124270\"','\"0\"','\"224\"','\"0\"','\"181\"','2017-05-30 15:14:16.693895','往事zr','59.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2124270\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/21/893f027c3fc1b112ed6d37556975a8bf.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        往事：输赢无所谓，装逼要到位                        '),(192,'\"266055\"','\"0\"','\"168\"','\"0\"','\"1\"','2017-05-30 15:14:16.746898','萌面酥','33.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/266055\"','\"https://rpic.douyucdn.cn/a1705/30/22/266055_170530223947.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        酥酥：o.o 我回来了                        '),(193,'\"154822\"','\"0\"','\"454\"','\"0\"','\"181\"','2017-05-30 15:14:16.788900','这是瘦辰鬼','29.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/154822\"','\"https://rpic.douyucdn.cn/a1705/30/22/154822_170530224928.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        仙阁辰鬼  啦啦啦                        '),(194,'\"288016\"','\"0\"','\"37\"','\"0\"','\"1\"','2017-05-30 15:14:16.830903','英雄联盟官方赛事','24.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lpl\"','\"https://rpic.douyucdn.cn/a1705/30/22/288016_170530224005.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        2017MSI季中冠军赛总决赛重播                        '),(195,'\"32892\"','\"0\"','\"167\"','\"0\"','\"2\"','2017-05-30 15:14:16.888906','只有十五岁的涛妹','23.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/32892\"','\"https://rpic.douyucdn.cn/a1705/30/22/32892_170530223950.jpg\"','炉石传说','\"_blank\"','\r\n                                                        涛妹：电子竞技没有假期！                        '),(196,'\"633019\"','\"0\"','\"155\"','\"0\"','\"2\"','2017-05-30 15:14:16.929908','炉石丶啦啦啦','19.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lslalala\"','\"https://rpic.douyucdn.cn/a1705/30/22/633019_170530223936.jpg\"','炉石传说','\"_blank\"','\r\n                                                        啦啦啦：麦迪文开包5刺杀秒杀贼                        '),(197,'\"1275878\"','\"0\"','\"260\"','\"0\"','\"174\"','2017-05-30 15:14:16.971911','暴走漫画','17.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1275878\"','\"https://rpic.douyucdn.cn/a1705/30/23/1275878_170530230940.jpg\"','二次元','\"_blank\"','\r\n                                                        快扶我起来，我还能再看一集                        '),(198,'\"625651\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:14:17.005913','飞飞Fighting','17.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/625651\"','\"https://rpic.douyucdn.cn/a1705/30/22/625651_170530225339.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        飞飞：今天晚点来~                        '),(199,'\"2030723\"','\"0\"','\"35\"','\"0\"','\"1\"','2017-05-30 15:14:17.063916','MoMo0130','16.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2030723\"','\"https://rpic.douyucdn.cn/a1705/30/22/2030723_170530224922.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        每1秒 7次 走A 的 ADC                        '),(200,'\"319721\"','\"0\"','\"35\"','\"0\"','\"1\"','2017-05-30 15:14:17.104918','solofeng解说丶','13.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lolff\"','\"https://rpic.douyucdn.cn/a1705/30/22/319721_170530223932.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        SoloFeng 跳波伞~                        '),(201,'\"65848\"','\"0\"','\"518\"','\"0\"','\"270\"','2017-05-30 15:14:17.138920','Happy丨猫腻','13.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/65848\"','\"https://rpic.douyucdn.cn/a1705/30/22/65848_170530225347.jpg\"','绝地求生','\"_blank\"','\r\n                                                        【猫腻】绝地求生大逃杀 蹲坑恶霸                        '),(202,'\"643037\"','\"0\"','\"237\"','\"0\"','\"159\"','2017-05-30 15:14:17.179923','陈吉强','13.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/643037\"','\"https://rpic.douyucdn.cn/a1705/30/22/643037_170530225352.jpg\"','时尚','\"_blank\"','\r\n                                                        斗鱼直播一周年，斗鱼嘉年华                        '),(203,'\"9293\"','\"0\"','\"354\"','\"0\"','\"196\"','2017-05-30 15:14:17.252927','王者之路乌鸦','13.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/9293\"','\"https://rpic.douyucdn.cn/a1705/30/22/9293_170530225331.jpg\"','火影忍者','\"_blank\"','\r\n                                                        乌鸦：端午节安康！                        '),(204,'\"796666\"','\"0\"','\"223\"','\"0\"','\"181\"','2017-05-30 15:14:17.305930','惊蜇','13万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/796666\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/19/fd962e29a5966bf4612c7f2fe20567b7.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        惊蛰：祝所有水友端午超神~                        '),(205,'\"534740\"','\"0\"','\"96\"','\"0\"','\"19\"','2017-05-30 15:14:17.387935','ll小六ll','11.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/534740\"','\"https://rpic.douyucdn.cn/a1705/30/22/534740_170530224001.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【小六】杰森，躺下！                        '),(206,'\"2013889\"','\"0\"','\"224\"','\"0\"','\"181\"','2017-05-30 15:14:17.454938','A仙阁无痕','11.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2013889\"','\"https://rpic.douyucdn.cn/a1705/30/22/2013889_170530225330.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        AS仙阁丶无痕的直播间                        '),(207,'\"265688\"','\"0\"','\"544\"','\"0\"','\"201\"','2017-05-30 15:14:17.512942','软妹小九九丶','11.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xiaojiujiu\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/16/265688_20170516211544_small.jpg\"','颜值','\"_blank\"','\r\n                                                        5.30 斗鱼第一舞娘。                        '),(208,'\"288010\"','\"0\"','\"169\"','\"0\"','\"2\"','2017-05-30 15:14:17.554944','丸子呦','11.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/wanzi188\"','\"https://rpic.douyucdn.cn/a1705/30/22/288010_170530225235.jpg\"','炉石传说','\"_blank\"','\r\n                                                        丸の户部巷边吃边唱                        '),(209,'\"533493\"','\"0\"','\"455\"','\"0\"','\"174\"','2017-05-30 15:14:17.613948','Misa贞喵喵喵喵喵','10.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/misacat\"','\"https://rpic.douyucdn.cn/roomCover/2017/05/26/4a7d36ddf5c43ef4c26dbe18dc225726.jpg\"','二次元','\"_blank\"','\r\n                                                        【ASMR】回来啦~上工啦                        '),(210,'\"252140\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:14:17.655950','qgdoinb','10.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/qgdoinb\"','\"https://rpic.douyucdn.cn/a1705/30/22/252140_170530225246.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        doinb ♥ㅁ♥                        '),(211,'\"607575\"','\"0\"','\"556\"','\"0\"','\"124\"','2017-05-30 15:14:17.706953','日本超模武田华恋','10.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/607575\"','\"https://rpic.douyucdn.cn/a1705/30/22/607575_170530225220.jpg\"','娱乐','\"_blank\"','\r\n                                                        武漢熱い！户部巷小吃尝一尝♡                        '),(212,'\"522423\"','\"0\"','\"37\"','\"0\"','\"1\"','2017-05-30 15:14:17.762956','Riot丶LCK','10.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lck\"','\"https://rpic.douyucdn.cn/a1705/30/23/522423_170530230422.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        2017LCK夏季赛揭幕战重播                        '),(213,'\"70231\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:14:17.796958','恶魔qq','10万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/70231\"','\"https://rpic.douyucdn.cn/a1705/30/22/70231_170530225353.jpg\"','主机游戏','\"_blank\"','\r\n                                                        端午节安康~~~~~                        '),(214,'\"874079\"','\"0\"','\"285\"','\"0\"','\"195\"','2017-05-30 15:14:17.838960','走之兔兔兔','1442','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/874079\"','\"https://rpic.douyucdn.cn/a1705/30/22/874079_170530225345.jpg\"','鱼教','\"_blank\"','\r\n                                                        一起了解一哈传统节日吧                        '),(215,'\"12313\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:14:17.896964','叶音符','9.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/12313\"','\"https://rpic.douyucdn.cn/a1705/30/23/12313_170530230912.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        叶音符：打野型中单 外挂型皇子                        '),(216,'\"1811143\"','\"0\"','\"472\"','\"0\"','\"181\"','2017-05-30 15:14:17.938966','宇宙无敌聪明白','9.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1811143\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/23/8787f55c12b108755d4d0da54507f4e7.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        白白白白白：我肥来啦                        '),(217,'\"603497\"','\"0\"','\"474\"','\"0\"','\"265\"','2017-05-30 15:14:17.981969','yt小盆友','9.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/yt2tap\"','\"https://rpic.douyucdn.cn/a1705/30/22/603497_170530225346.jpg\"','跳伞求生','\"_blank\"','\r\n                                                        大家端午安康 我回来了                        '),(218,'\"4154\"','\"0\"','\"59\"','\"0\"','\"40\"','2017-05-30 15:14:18.250984','DNF表哥','9.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/4154\"','\"https://rpic.douyucdn.cn/a1705/30/22/4154_170530223907.jpg\"','DNF','\"_blank\"','\r\n                                                        网瘾神童无尽难度大冒险                        '),(219,'\"6324\"','\"0\"','\"33\"','\"0\"','\"1\"','2017-05-30 15:14:18.377991','抽象工作室upupup','7.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/6324\"','\"https://rpic.douyucdn.cn/a1705/30/22/6324_170530225331.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        李老八：嘉年华回来了                        '),(220,'\"2018597\"','\"0\"','\"95\"','\"0\"','\"3\"','2017-05-30 15:14:18.481997','Zcup索泰杯','7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2018597\"','\"https://rpic.douyucdn.cn/a1705/30/23/2018597_170530230410.jpg\"','DOTA2','\"_blank\"','\r\n                                                        索泰杯第一日重播                        '),(221,'\"517267\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:14:18.530000','晨小柏','6.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xg1024606\"','\"https://rpic.douyucdn.cn/a1705/30/22/517267_170530223828.jpg\"','娱乐','\"_blank\"','\r\n                                                        武汉的最后一夜                        '),(222,'\"312410\"','\"0\"','\"155\"','\"0\"','\"2\"','2017-05-30 15:14:18.580003','炉石丶春哥','6.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/312410\"','\"https://rpic.douyucdn.cn/a1705/30/22/312410_170530223945.jpg\"','炉石传说','\"_blank\"','\r\n                                                        颜值JJC：凤凰 恩佐斯 亡语法                        '),(223,'\"102411\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:14:18.622005','三笠ackerman丶1','6.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/102411\"','\"https://rpic.douyucdn.cn/a1705/30/23/102411_170530230359.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        神超：狼人杀主播上线啦！                        '),(224,'\"591967\"','\"0\"','\"303\"','\"0\"','\"194\"','2017-05-30 15:14:18.664008','舌尖上的老王八','6.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lw591967\"','\"https://rpic.douyucdn.cn/a1705/30/22/591967_170530223950.jpg\"','美食','\"_blank\"','\r\n                                                        老王：和水友吃饭啦 美滋滋                        '),(225,'\"142488\"','\"0\"','\"0\"','\"0\"','\"35\"','2017-05-30 15:14:18.697010','Nostalie','6.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/Nostalie\"','\"https://rpic.douyucdn.cn/a1705/30/23/142488_170530230829.jpg\"','风暴英雄','\"_blank\"','\r\n                                                        NO:端午安康                        '),(226,'\"63623\"','\"0\"','\"35\"','\"0\"','\"1\"','2017-05-30 15:14:18.747012','鲍鲍解说','5.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/63623\"','\"https://rpic.douyucdn.cn/a1705/30/22/63623_170530223931.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        国服第一烬！一枪千血！                        '),(227,'\"47227\"','\"0\"','\"96\"','\"0\"','\"19\"','2017-05-30 15:14:18.792015','我有上将潘森','5.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/asen\"','\"https://rpic.douyucdn.cn/a1705/30/22/47227_170530223944.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【森】黑色星期五                        '),(228,'\"1722598\"','\"0\"','\"455\"','\"0\"','\"174\"','2017-05-30 15:14:18.880020','月夜桜','5.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1722598\"','\"https://rpic.douyucdn.cn/a1705/30/23/1722598_170530230227.jpg\"','二次元','\"_blank\"','\r\n                                                        情景ASMR~？？？                        '),(229,'\"687423\"','\"0\"','\"186\"','\"0\"','\"148\"','2017-05-30 15:14:18.922022','yjjimpaopao','5.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/687423\"','\"https://rpic.douyucdn.cn/a1705/30/22/687423_170530225348.jpg\"','守望先锋','\"_blank\"','\r\n                                                        【YJJPP】 回来了 休赛期 吃鸡！                        '),(230,'\"122943\"','\"0\"','\"54\"','\"0\"','\"33\"','2017-05-30 15:14:18.981026','SherlcokHolmes','5.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/JIANGPEIYI\"','\"https://rpic.douyucdn.cn/a1705/30/23/122943_170530230833.jpg\"','穿越火线','\"_blank\"','\r\n                                                        Sherlock：飞机代打定级赛！                        '),(231,'\"854503\"','\"0\"','\"471\"','\"0\"','\"181\"','2017-05-30 15:14:19.022028','贱魔神','5.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/854503\"','\"https://rpic.douyucdn.cn/a1705/30/22/854503_170530225238.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        刘备专场：怂不存在的！刚才是王道                        '),(232,'\"782541\"','\"0\"','\"0\"','\"0\"','\"207\"','2017-05-30 15:14:19.114033','企鹅跳转专用16','58','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/782541\"','\"https://staticlive.douyucdn.cn/upload/web_pic/90336d4a8b8a1103a690869040e42e0c_thumb.png\"','企鹅直播','\"_blank\"','\r\n                                                        F5WC五人制足球世界杯                        '),(233,'\"318624\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:14:19.164036','老乡开下门','5.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/318624\"','\"https://rpic.douyucdn.cn/a1705/30/22/318624_170530225226.jpg\"','娱乐','\"_blank\"','\r\n                                                        F4:开开波，走走心……                        '),(234,'\"255865\"','\"0\"','\"245\"','\"0\"','\"55\"','2017-05-30 15:14:19.214039','Infi小王','4.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/infiwang\"','\"https://rpic.douyucdn.cn/a1705/30/22/255865_170530223940.jpg\"','魔兽争霸','\"_blank\"','\r\n                                                        19:00继续横行天梯~~                        '),(235,'\"484885\"','\"0\"','\"544\"','\"0\"','\"201\"','2017-05-30 15:14:19.272042','金刚芭比橙月儿','4.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/484885\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/11/484885_20170511215319_small.jpg\"','颜值','\"_blank\"','\r\n                                                        混血橙月儿                        '),(236,'\"510541\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:14:19.350047','KazeLink','4.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/kazelink\"','\"https://rpic.douyucdn.cn/a1705/30/22/510541_170530223936.jpg\"','主机游戏','\"_blank\"','\r\n                                                        马里奥-Link 技术主播没有GG                        '),(237,'\"822010\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:14:19.464053','蜗牛Danny','4.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/822010\"','\"https://rpic.douyucdn.cn/a1705/30/22/822010_170530225348.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        不露脸，今天依旧太美太耀眼                        '),(238,'\"677324\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:14:19.650064','萌兔子丶小雨','4.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/677324\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/26/677324_20170526125638_small.jpg\"','颜值','\"_blank\"','\r\n                                                        最后一天，凤九手把手教你打炉石                        '),(239,'\"672601\"','\"0\"','\"544\"','\"0\"','\"201\"','2017-05-30 15:14:19.782072','滕井','4.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/672601\"','\"https://rpic.douyucdn.cn/appCovers/2017/04/21/672601_20170421032737_small.jpg\"','颜值','\"_blank\"','\r\n                                                        还能不能给我们这种靠颜值吃饭的留点活路                        '),(240,'\"35651\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:14:19.830074','老佳','4.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/laojia95\"','\"https://rpic.douyucdn.cn/a1705/30/23/35651_170530230315.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【FIFA17】枪势崛起第12集-欧冠梦                        '),(241,'\"246195\"','\"0\"','\"92\"','\"0\"','\"3\"','2017-05-30 15:14:19.880077','叶子长青K','4.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/246195\"','\"https://rpic.douyucdn.cn/a1705/30/22/246195_170530223921.jpg\"','DOTA2','\"_blank\"','\r\n                                                        长青派火猫 敢在来一刀吗                        '),(242,'\"1950105\"','\"0\"','\"454\"','\"0\"','\"181\"','2017-05-30 15:14:19.923080','Sharker丶楚才','4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1950105\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/29/6e761668ce29376241401f7c329577e6.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        最强干将莫邪，祝大家端午安康，多吃粽子哟                        '),(243,'\"479378\"','\"0\"','\"556\"','\"0\"','\"124\"','2017-05-30 15:14:19.987083','户外主播允允允','3.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/479378\"','\"https://rpic.douyucdn.cn/a1705/30/22/479378_170530224744.jpg\"','娱乐','\"_blank\"','\r\n                                                        27岁生日，感谢有你，今天起不再单身。                        '),(244,'\"1976204\"','\"0\"','\"223\"','\"0\"','\"181\"','2017-05-30 15:14:20.144092','仙阁寒夜','3.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1976204\"','\"https://rpic.douyucdn.cn/a1705/30/23/1976204_170530230355.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        AS仙阁灵魂歌神教练寒夜                        '),(245,'\"552712\"','\"0\"','\"363\"','\"0\"','\"196\"','2017-05-30 15:14:20.188095','超超宝宝饿了','3.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/552712\"','\"https://rpic.douyucdn.cn/a1705/30/22/552712_170530225221.jpg\"','火影忍者','\"_blank\"','\r\n                                                        超超：播一会渡个劫！                        '),(246,'\"315173\"','\"0\"','\"377\"','\"0\"','\"55\"','2017-05-30 15:14:20.230097','澄海3c晨曦','3.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/315173\"','\"https://rpic.douyucdn.cn/a1705/30/22/315173_170530223934.jpg\"','魔兽争霸','\"_blank\"','\r\n                                                        晨曦花落vs卡卡孤浪.不打爆炸不罢休!                        '),(247,'\"1149639\"','\"0\"','\"455\"','\"0\"','\"174\"','2017-05-30 15:14:20.272100','baby小艺','3.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1149639\"','\"https://rpic.douyucdn.cn/roomCover/2017/05/26/8bca40dbfac1211fbea06b6da5161921.png\"','二次元','\"_blank\"','\r\n                                                        [ASMR]今天晚上十点开播                        '),(248,'\"227670\"','\"0\"','\"346\"','\"0\"','\"212\"','2017-05-30 15:14:20.314102','军武直播','3.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/crazy262\"','\"https://rpic.douyucdn.cn/a1705/30/22/227670_170530225444.jpg\"','军事','\"_blank\"','\r\n                                                        28日下午2点武汉斗鱼嘉年华见面会见                        '),(249,'\"530791\"','\"0\"','\"168\"','\"0\"','\"1\"','2017-05-30 15:14:20.355104','小子y','3.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/530791\"','\"https://rpic.douyucdn.cn/a1705/30/22/530791_170530225215.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        斗鱼第一海盗船长,一桶秒杀双c,狂c全场                        '),(250,'\"415379\"','\"0\"','\"461\"','\"0\"','\"264\"','2017-05-30 15:14:20.405107','动感超人吃菠菜','3.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/415379\"','\"https://rpic.douyucdn.cn/a1705/30/22/415379_170530223941.jpg\"','龙之谷手游','\"_blank\"','\r\n                                                        【菠菜】9点神圣联赛诞生8强！                        '),(251,'\"1502345\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:14:20.438109','小白Abby','3.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1502345\"','\"https://rpic.douyucdn.cn/appCovers/2017/03/01/1502345_20170301173602_small.jpg\"','颜值','\"_blank\"','\r\n                                                        小白Abbyl的直播间                        '),(252,'\"214786\"','\"0\"','\"167\"','\"0\"','\"2\"','2017-05-30 15:14:20.489112','两仪未娜丶','3.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/214786\"','\"https://rpic.douyucdn.cn/a1705/30/22/214786_170530225159.jpg\"','炉石传说','\"_blank\"','\r\n                                                        斗鱼尬年华，小姐姐请留步！                        '),(253,'\"533813\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:14:20.547115','正直博','3.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/533813\"','\"https://rpic.douyucdn.cn/a1705/30/22/533813_170530223908.jpg\"','娱乐','\"_blank\"','\r\n                                                        斗鱼嘉年华，娱乐实验室                        '),(254,'\"28101\"','\"0\"','\"60\"','\"0\"','\"40\"','2017-05-30 15:14:20.589118','云彩上的翅膀','3.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/chibang\"','\"https://rpic.douyucdn.cn/a1705/30/23/28101_170530230221.jpg\"','DNF','\"_blank\"','\r\n                                                        翅：划一哈，一会去吃宵夜                        '),(255,'\"258702\"','\"0\"','\"350\"','\"0\"','\"240\"','2017-05-30 15:14:20.630120','二条1','3.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/258702\"','\"https://rpic.douyucdn.cn/a1705/30/22/258702_170530223951.jpg\"','阴阳师','\"_blank\"','\r\n                                                        端午节安康！！                        '),(256,'\"1929072\"','\"0\"','\"155\"','\"0\"','\"2\"','2017-05-30 15:14:20.673123','天天卡牌','3.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/ttkapai\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/17/4edb024beddac9a2d8df680271d892a9.jpg\"','炉石传说','\"_blank\"','\r\n                                                        天天卡牌官方直播间 直播至23点                        '),(257,'\"560616\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:14:20.713125','许阿姨','3.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/560616\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/19/78eed85cc72e1ae409cbab0e0049d65b.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        许阿姨:嗓子哑了望理解❤                        '),(258,'\"1739875\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:14:20.772128','蚊子欧尼','3.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1739875\"','\"https://rpic.douyucdn.cn/a1705/30/22/1739875_170530225351.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        哎哟 没谁了                        '),(259,'\"1984718\"','\"0\"','\"224\"','\"0\"','\"181\"','2017-05-30 15:14:20.813131','解说心心','3.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xxjs\"','\"https://rpic.douyucdn.cn/a1705/30/22/1984718_170530225231.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        国服最皮心心！九带1！                        '),(260,'\"3614\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:14:20.847132','MrQuin','3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/quin\"','\"https://rpic.douyucdn.cn/a1705/30/22/3614_170530223922.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【Quin】破产2017                        '),(261,'\"595265\"','\"0\"','\"363\"','\"0\"','\"196\"','2017-05-30 15:14:20.880134','奶瓶lxx','3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/595265\"','\"https://rpic.douyucdn.cn/a1705/30/22/595265_170530223938.jpg\"','火影忍者','\"_blank\"','\r\n                                                        奶瓶~老铁~进来办个卡呗~                        '),(262,'\"1417467\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:14:20.922137','韩国路人王ChanE','2.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1417467\"','\"https://rpic.douyucdn.cn/a1705/30/23/1417467_170530230808.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        金灿毅ChanE：直播冲国服第一                        '),(263,'\"614786\"','\"0\"','\"259\"','\"0\"','\"174\"','2017-05-30 15:14:20.956139','神楽坂真冬','2.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/mafuyutan\"','\"https://rpic.douyucdn.cn/roomCover/2017/04/12/51487b8a722380d57107e74f0c2a6e77.jpg\"','二次元','\"_blank\"','\r\n                                                        【斗鱼嘉年华】第三天w                        '),(264,'\"190174\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:14:21.014142','萌七七QAQ','2.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/190174\"','\"https://rpic.douyucdn.cn/a1705/30/23/190174_170530230343.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        拯救单身boy的任务就交给我了~                        '),(265,'\"1812623\"','\"0\"','\"545\"','\"0\"','\"201\"','2017-05-30 15:14:21.056144','磨人的小柠檬','2.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1812623\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/13/1812623_20170513190747_small.jpg\"','颜值','\"_blank\"','\r\n                                                        小柠檬萌家军                        '),(266,'\"52285\"','\"0\"','\"303\"','\"0\"','\"194\"','2017-05-30 15:14:21.097147','胖胖C','2.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/52285\"','\"https://rpic.douyucdn.cn/a1705/30/23/52285_170530230233.jpg\"','美食','\"_blank\"','\r\n                                                        跟妈妈吃饱喝足啦。                        '),(267,'\"708160\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:14:21.139149','瑜小鱼baby','2.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/708160\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/23/708160_20170523212255_small.jpg\"','颜值','\"_blank\"','\r\n                                                        小姐姐来直播了                        '),(268,'\"462253\"','\"0\"','\"545\"','\"0\"','\"201\"','2017-05-30 15:14:21.180152','丁叮c','2.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/462253\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/29/462253_20170529180941_small.jpg\"','颜值','\"_blank\"','\r\n                                                        武汉最后一夜～                        '),(269,'\"1954481\"','\"0\"','\"346\"','\"0\"','\"212\"','2017-05-30 15:14:21.222154','张召忠','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1954481\"','\"https://rpic.douyucdn.cn/a1705/30/22/1954481_170530224956.jpg\"','军事','\"_blank\"','\r\n                                                        视频已更新，欢迎来到局座的直播间                        '),(270,'\"675152\"','\"0\"','\"92\"','\"0\"','\"3\"','2017-05-30 15:14:21.264156','教练mikasa','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/mikasa777\"','\"https://rpic.douyucdn.cn/a1705/30/22/675152_170530225246.jpg\"','DOTA2','\"_blank\"','\r\n                                                        让你们见证下上8000之路                        '),(271,'\"1248624\"','\"0\"','\"544\"','\"0\"','\"201\"','2017-05-30 15:14:21.305159','Cindy森蝶','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1248624\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/29/1248624_20170529023414_small.jpg\"','颜值','\"_blank\"','\r\n                                                        说说说说 说你爱我！                        '),(272,'\"709710\"','\"0\"','\"517\"','\"0\"','\"270\"','2017-05-30 15:14:21.347161','imxiaoxin','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xiaoxinfps\"','\"https://rpic.douyucdn.cn/a1705/30/22/709710_170530225257.jpg\"','绝地求生','\"_blank\"','\r\n                                                        小新： 落地变箱子 -（自定义）                        '),(273,'\"228588\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:14:21.438166','机长与车仔','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/jiale\"','\"https://rpic.douyucdn.cn/a1705/30/22/228588_170530223951.jpg\"','娱乐','\"_blank\"','\r\n                                                        【嘉年华】女粉丝来了                        '),(274,'\"84835\"','\"0\"','\"472\"','\"0\"','\"181\"','2017-05-30 15:14:21.480169','瑾x丶','2.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/jinxxx\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/18/374e566f793306019ae93f1e3de81078.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        瑾：国服第一诸葛 十步杀一人 千里不留痕                        '),(275,'\"1828608\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:14:21.522171','小小小小小小小熙瓜','2.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1828608\"','\"https://rpic.douyucdn.cn/appCovers/2017/03/09/1828608_20170309202606_small.jpg\"','颜值','\"_blank\"','\r\n                                                        嘿嘿嘿 我的小可爱                        '),(276,'\"142823\"','\"0\"','\"223\"','\"0\"','\"181\"','2017-05-30 15:14:21.563173','小二十一最可爱','2.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/142823\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/16/cc534d1dbd7e67f56c59909e8737da2a.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        二十一：小兰陵神。                        '),(277,'\"1903550\"','\"0\"','\"259\"','\"0\"','\"174\"','2017-05-30 15:14:21.605176','小呆萝拉Lola','2.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1903550\"','\"https://rpic.douyucdn.cn/roomCover/2017/05/20/295626a7255603916b514d727b023246.jpg\"','二次元','\"_blank\"','\r\n                                                        【萝拉】 的下午茶尬聊                        '),(278,'\"688928\"','\"0\"','\"545\"','\"0\"','\"201\"','2017-05-30 15:14:21.638178','小6想去月球','2.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/688928\"','\"https://rpic.douyucdn.cn/appCovers/2017/04/12/688928_20170412214733_small.jpg\"','颜值','\"_blank\"','\r\n                                                        祝大家端午节快乐 么么哒                        '),(279,'\"646495\"','\"0\"','\"354\"','\"0\"','\"196\"','2017-05-30 15:14:21.697181','噩梦啊','2.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/646495\"','\"https://rpic.douyucdn.cn/a1705/30/22/646495_170530225240.jpg\"','火影忍者','\"_blank\"','\r\n                                                        噩梦：迟到了迟到了。。                        '),(280,'\"562590\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:14:21.730183','观音桥毕加索','2.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/562590\"','\"https://rpic.douyucdn.cn/a1705/30/22/562590_170530225159.jpg\"','娱乐','\"_blank\"','\r\n                                                        回家啦，吃个晚饭                        '),(281,'\"534359\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:14:21.772185','770丶','2.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/534359\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/25/534359_20170525211307_small.jpg\"','颜值','\"_blank\"','\r\n                                                        770来啦啦啦                        '),(282,'\"248753\"','\"0\"','\"342\"','\"0\"','\"208\"','2017-05-30 15:14:21.814188','s1134','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/s1134\"','\"https://rpic.douyucdn.cn/a1705/30/22/248753_170530225453.jpg\"','视听点评','\"_blank\"','\r\n                                                        【s1134】经典 科幻 动作 灾难！~                        '),(283,'\"1215578\"','\"0\"','\"31\"','\"0\"','\"190\"','2017-05-30 15:14:21.855190','后裔winnerhero','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1215578\"','\"https://rpic.douyucdn.cn/a1705/30/23/1215578_170530230901.jpg\"','皇室战争','\"_blank\"','\r\n                                                        后裔: 来一波12本天梯体验                        '),(284,'\"591801\"','\"0\"','\"305\"','\"0\"','\"194\"','2017-05-30 15:14:21.897193','主播宋师傅','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/591801\"','\"https://rpic.douyucdn.cn/a1705/30/22/591801_170530225218.jpg\"','美食','\"_blank\"','\r\n                                                        【宋师傅】深夜放毒！！成都冒菜大家喜欢                        '),(285,'\"2082749\"','\"0\"','\"224\"','\"0\"','\"181\"','2017-05-30 15:14:21.957196','游弋Devil','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2082749\"','\"https://rpic.douyucdn.cn/a1705/30/23/2082749_170530230222.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        我有一百多万个小迷妹                        '),(286,'\"65820\"','\"0\"','\"64\"','\"0\"','\"51\"','2017-05-30 15:14:22.047201','解小亮','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xiexiaoliang\"','\"https://rpic.douyucdn.cn/a1705/30/22/65820_170530225326.jpg\"','足球竞技','\"_blank\"','\r\n                                                        今天要稳扎稳打...!                        '),(287,'\"678946\"','\"0\"','\"168\"','\"0\"','\"1\"','2017-05-30 15:14:22.089204','上单小丑阿杰','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/678946\"','\"https://rpic.douyucdn.cn/a1705/30/22/678946_170530223931.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        上单小丑苦肉计来辣                        '),(288,'\"428250\"','\"0\"','\"476\"','\"0\"','\"265\"','2017-05-30 15:14:22.130206','douyu青蛙','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/428250\"','\"https://rpic.douyucdn.cn/a1705/30/22/428250_170530223917.jpg\"','跳伞求生','\"_blank\"','\r\n                                                        【青蛙】带妹组排搞偶遇                        '),(289,'\"219111\"','\"0\"','\"482\"','\"0\"','\"179\"','2017-05-30 15:14:22.172208','蓝莓po1son','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/219111\"','\"https://rpic.douyucdn.cn/a1705/30/22/219111_170530225358.jpg\"','梦幻西游手游','\"_blank\"','\r\n                                                        小蓝的直播间。                        '),(290,'\"1718806\"','\"0\"','\"545\"','\"0\"','\"201\"','2017-05-30 15:14:22.214211','Mandybaby1','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1718806\"','\"https://rpic.douyucdn.cn/appCovers/2017/02/21/1718806_20170221175811_small.jpg\"','颜值','\"_blank\"','\r\n                                                        Mandybaby1的直播间                        '),(291,'\"425342\"','\"0\"','\"258\"','\"0\"','\"174\"','2017-05-30 15:14:22.272214','内服药','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/zhiQAQ\"','\"https://rpic.douyucdn.cn/a1705/30/22/425342_170530225337.jpg\"','二次元','\"_blank\"','\r\n                                                        「打虫药」❤                        '),(292,'\"214116\"','\"0\"','\"0\"','\"0\"','\"272\"','2017-05-30 15:14:22.305216','灬叁叔','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/214116\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/30/e6c2fd8771ce9017eb7da5f3702011e6.jpg\"','狼人杀世界','\"_blank\"','\r\n                                                        端午节估计要吃狼肉粽子了                        '),(293,'\"2030318\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:14:22.338218','你的可爱瑶啊','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2030318\"','\"https://rpic.douyucdn.cn/appCovers/2017/04/18/2030318_20170418201543_small.jpg\"','颜值','\"_blank\"','\r\n                                                        嘿嘿嘿唠唠嗑吗                        '),(294,'\"1364501\"','\"0\"','\"470\"','\"0\"','\"181\"','2017-05-30 15:14:22.372220','王者峡谷蛋蛋君','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/dandansimida\"','\"https://rpic.douyucdn.cn/a1705/30/23/1364501_170530230854.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        蛋蛋：韩信~                        '),(295,'\"280730\"','\"0\"','\"351\"','\"0\"','\"240\"','2017-05-30 15:14:22.405222','请叫李响','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/280730\"','\"https://rpic.douyucdn.cn/a1705/30/22/280730_170530223909.jpg\"','阴阳师','\"_blank\"','\r\n                                                        吊哥：你，今天亏了吗？                        '),(296,'\"578097\"','\"0\"','\"556\"','\"0\"','\"124\"','2017-05-30 15:14:22.455224','两斤饭婧婧','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/578097\"','\"https://rpic.douyucdn.cn/a1705/30/22/578097_170530225345.jpg\"','娱乐','\"_blank\"','\r\n                                                        到家啦，你有在等我吗？                        '),(297,'\"638809\"','\"0\"','\"544\"','\"0\"','\"201\"','2017-05-30 15:14:22.488226','季小西','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/638809\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/19/638809_20170519194542_small.jpg\"','颜值','\"_blank\"','\r\n                                                        腿西：晚安↖(^ω^)↗                        '),(298,'\"1761727\"','\"0\"','\"237\"','\"0\"','\"159\"','2017-05-30 15:14:22.522228','我是唐菲','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1761727\"','\"https://rpic.douyucdn.cn/a1705/30/23/1761727_170530230241.jpg\"','时尚','\"_blank\"','\r\n                                                        听说大家都没唱够                        '),(299,'\"848337\"','\"0\"','\"556\"','\"0\"','\"124\"','2017-05-30 15:14:22.555230','俄罗斯教父','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/848337\"','\"https://rpic.douyucdn.cn/a1705/30/22/848337_170530225400.jpg\"','娱乐','\"_blank\"','\r\n                                                        东湖开船楼                        '),(300,'\"1853869\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:14:22.597233','北宁baby','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1853869\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/25/1853869_20170525143757_small.jpg\"','颜值','\"_blank\"','\r\n                                                        9点半差不多了                        '),(301,'\"93912\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:14:22.630234','黑白锐雯','12.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/93912\"','\"https://rpic.douyucdn.cn/a1705/30/22/93912_170530224928.jpg\"','英雄联盟','\"_blank\"','\n'),(302,'\"46653\"','\"0\"','\"93\"','\"0\"','\"3\"','2017-05-30 15:14:22.689238','楼上老李','18万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lowlee\"','\"https://rpic.douyucdn.cn/a1705/30/22/46653_170530224008.jpg\"','DOTA2','\"_blank\"','\n'),(303,'\"154537\"','\"0\"','\"32\"','\"0\"','\"1\"','2017-05-30 15:14:22.730240','老实敦厚的笑笑','128万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/sunyalong\"','\"https://rpic.douyucdn.cn/a1705/30/22/154537_170530224925.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        德云色 端午节安康，回来啦                        '),(304,'\"32892\"','\"0\"','\"167\"','\"0\"','\"2\"','2017-05-30 15:14:22.763242','只有十五岁的涛妹','23.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/32892\"','\"https://rpic.douyucdn.cn/a1705/30/22/32892_170530223950.jpg\"','炉石传说','\"_blank\"','\r\n                                                        涛妹：电子竞技没有假期！                        '),(305,'\"625651\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:14:22.797244','飞飞Fighting','17.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/625651\"','\"https://rpic.douyucdn.cn/a1705/30/22/625651_170530225339.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        飞飞：今天晚点来~                        '),(306,'\"65848\"','\"0\"','\"518\"','\"0\"','\"270\"','2017-05-30 15:14:22.838246','Happy丨猫腻','13.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/65848\"','\"https://rpic.douyucdn.cn/a1705/30/22/65848_170530225347.jpg\"','绝地求生','\"_blank\"','\r\n                                                        【猫腻】绝地求生大逃杀 蹲坑恶霸                        '),(307,'\"265688\"','\"0\"','\"544\"','\"0\"','\"201\"','2017-05-30 15:14:22.872248','软妹小九九丶','11.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xiaojiujiu\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/16/265688_20170516211544_small.jpg\"','颜值','\"_blank\"','\r\n                                                        5.30 斗鱼第一舞娘。                        '),(308,'\"252140\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:14:22.922251','qgdoinb','10.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/qgdoinb\"','\"https://rpic.douyucdn.cn/a1705/30/22/252140_170530225246.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        doinb ♥ㅁ♥                        '),(309,'\"70231\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:14:22.956253','恶魔qq','10万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/70231\"','\"https://rpic.douyucdn.cn/a1705/30/22/70231_170530225353.jpg\"','主机游戏','\"_blank\"','\r\n                                                        端午节安康~~~~~                        '),(310,'\"6324\"','\"0\"','\"33\"','\"0\"','\"1\"','2017-05-30 15:14:22.997255','抽象工作室upupup','7.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/6324\"','\"https://rpic.douyucdn.cn/a1705/30/22/6324_170530225331.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        李老八：嘉年华回来了                        '),(311,'\"312410\"','\"0\"','\"155\"','\"0\"','\"2\"','2017-05-30 15:14:23.030257','炉石丶春哥','6.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/312410\"','\"https://rpic.douyucdn.cn/a1705/30/22/312410_170530223945.jpg\"','炉石传说','\"_blank\"','\r\n                                                        颜值JJC：凤凰 恩佐斯 亡语法                        '),(312,'\"142488\"','\"0\"','\"0\"','\"0\"','\"35\"','2017-05-30 15:14:23.063259','Nostalie','6.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/Nostalie\"','\"https://rpic.douyucdn.cn/a1705/30/23/142488_170530230829.jpg\"','风暴英雄','\"_blank\"','\r\n                                                        NO:端午安康                        '),(313,'\"854503\"','\"0\"','\"471\"','\"0\"','\"181\"','2017-05-30 15:14:23.098261','贱魔神','5.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/854503\"','\"https://rpic.douyucdn.cn/a1705/30/22/854503_170530225238.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        刘备专场：怂不存在的！刚才是王道                        '),(314,'\"255865\"','\"0\"','\"245\"','\"0\"','\"55\"','2017-05-30 15:14:23.139264','Infi小王','4.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/infiwang\"','\"https://rpic.douyucdn.cn/a1705/30/22/255865_170530223940.jpg\"','魔兽争霸','\"_blank\"','\r\n                                                        19:00继续横行天梯~~                        '),(315,'\"822010\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:14:23.230269','蜗牛Danny','4.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/822010\"','\"https://rpic.douyucdn.cn/a1705/30/22/822010_170530225348.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        不露脸，今天依旧太美太耀眼                        '),(316,'\"479378\"','\"0\"','\"556\"','\"0\"','\"124\"','2017-05-30 15:14:23.272271','户外主播允允允','3.9万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/479378\"','\"https://rpic.douyucdn.cn/a1705/30/22/479378_170530224744.jpg\"','娱乐','\"_blank\"','\r\n                                                        27岁生日，感谢有你，今天起不再单身。                        '),(317,'\"315173\"','\"0\"','\"377\"','\"0\"','\"55\"','2017-05-30 15:14:23.314274','澄海3c晨曦','3.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/315173\"','\"https://rpic.douyucdn.cn/a1705/30/22/315173_170530223934.jpg\"','魔兽争霸','\"_blank\"','\r\n                                                        晨曦花落vs卡卡孤浪.不打爆炸不罢休!                        '),(318,'\"530791\"','\"0\"','\"168\"','\"0\"','\"1\"','2017-05-30 15:14:23.372277','小子y','3.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/530791\"','\"https://rpic.douyucdn.cn/a1705/30/22/530791_170530225215.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        斗鱼第一海盗船长,一桶秒杀双c,狂c全场                        '),(319,'\"258702\"','\"0\"','\"350\"','\"0\"','\"240\"','2017-05-30 15:14:23.414279','二条1','3.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/258702\"','\"https://rpic.douyucdn.cn/a1705/30/22/258702_170530223951.jpg\"','阴阳师','\"_blank\"','\r\n                                                        端午节安康！！                        '),(320,'\"1739875\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:14:23.456282','蚊子欧尼','3.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1739875\"','\"https://rpic.douyucdn.cn/a1705/30/22/1739875_170530225351.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        哎哟 没谁了                        '),(321,'\"595265\"','\"0\"','\"363\"','\"0\"','\"196\"','2017-05-30 15:14:23.550287','奶瓶lxx','3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/595265\"','\"https://rpic.douyucdn.cn/a1705/30/22/595265_170530223938.jpg\"','火影忍者','\"_blank\"','\r\n                                                        奶瓶~老铁~进来办个卡呗~                        '),(322,'\"708160\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:14:23.606290','瑜小鱼baby','2.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/708160\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/23/708160_20170523212255_small.jpg\"','颜值','\"_blank\"','\r\n                                                        小姐姐来直播了                        '),(323,'\"675152\"','\"0\"','\"92\"','\"0\"','\"3\"','2017-05-30 15:14:23.647293','教练mikasa','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/mikasa777\"','\"https://rpic.douyucdn.cn/a1705/30/22/675152_170530225246.jpg\"','DOTA2','\"_blank\"','\r\n                                                        让你们见证下上8000之路                        '),(324,'\"228588\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:14:23.689295','机长与车仔','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/jiale\"','\"https://rpic.douyucdn.cn/a1705/30/22/228588_170530223951.jpg\"','娱乐','\"_blank\"','\r\n                                                        【嘉年华】女粉丝来了                        '),(325,'\"646495\"','\"0\"','\"354\"','\"0\"','\"196\"','2017-05-30 15:14:23.730297','噩梦啊','2.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/646495\"','\"https://rpic.douyucdn.cn/a1705/30/22/646495_170530225240.jpg\"','火影忍者','\"_blank\"','\r\n                                                        噩梦：迟到了迟到了。。                        '),(326,'\"248753\"','\"0\"','\"342\"','\"0\"','\"208\"','2017-05-30 15:14:23.790301','s1134','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/s1134\"','\"https://rpic.douyucdn.cn/a1705/30/22/248753_170530225453.jpg\"','视听点评','\"_blank\"','\r\n                                                        【s1134】经典 科幻 动作 灾难！~                        '),(327,'\"2082749\"','\"0\"','\"224\"','\"0\"','\"181\"','2017-05-30 15:14:23.830303','游弋Devil','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2082749\"','\"https://rpic.douyucdn.cn/a1705/30/23/2082749_170530230222.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        我有一百多万个小迷妹                        '),(328,'\"425342\"','\"0\"','\"258\"','\"0\"','\"174\"','2017-05-30 15:14:23.872306','内服药','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/zhiQAQ\"','\"https://rpic.douyucdn.cn/a1705/30/22/425342_170530225337.jpg\"','二次元','\"_blank\"','\r\n                                                        「打虫药」❤                        '),(329,'\"1364501\"','\"0\"','\"470\"','\"0\"','\"181\"','2017-05-30 15:14:23.914308','王者峡谷蛋蛋君','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/dandansimida\"','\"https://rpic.douyucdn.cn/a1705/30/23/1364501_170530230854.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        蛋蛋：韩信~                        '),(330,'\"638809\"','\"0\"','\"544\"','\"0\"','\"201\"','2017-05-30 15:14:23.955310','季小西','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/638809\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/19/638809_20170519194542_small.jpg\"','颜值','\"_blank\"','\r\n                                                        腿西：晚安↖(^ω^)↗                        '),(331,'\"793400\"','\"0\"','\"224\"','\"0\"','\"181\"','2017-05-30 15:14:24.047316','DL丶拖米','30.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/793400\"','\"https://rpic.douyucdn.cn/a1705/30/22/793400_170530225229.jpg\"','王者荣耀','\"_blank\"','\n'),(332,'\"138286\"','\"0\"','\"34\"','\"0\"','\"1\"','2017-05-30 15:14:24.106319','White55开解说','210万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/wt55kai\"','\"https://rpic.douyucdn.cn/a1705/30/23/138286_170530230834.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        卢本伟五五开White 端午节安康                        '),(333,'\"633019\"','\"0\"','\"155\"','\"0\"','\"2\"','2017-05-30 15:14:24.138321','炉石丶啦啦啦','19.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lslalala\"','\"https://rpic.douyucdn.cn/a1705/30/22/633019_170530223936.jpg\"','炉石传说','\"_blank\"','\r\n                                                        啦啦啦：麦迪文开包5刺杀秒杀贼                        '),(334,'\"319721\"','\"0\"','\"35\"','\"0\"','\"1\"','2017-05-30 15:14:24.172323','solofeng解说丶','13.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lolff\"','\"https://rpic.douyucdn.cn/a1705/30/22/319721_170530223932.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        SoloFeng 跳波伞~                        '),(335,'\"288010\"','\"0\"','\"169\"','\"0\"','\"2\"','2017-05-30 15:14:24.205325','丸子呦','11.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/wanzi188\"','\"https://rpic.douyucdn.cn/a1705/30/22/288010_170530225235.jpg\"','炉石传说','\"_blank\"','\r\n                                                        丸の户部巷边吃边唱                        '),(336,'\"522423\"','\"0\"','\"37\"','\"0\"','\"1\"','2017-05-30 15:14:24.238326','Riot丶LCK','10.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lck\"','\"https://rpic.douyucdn.cn/a1705/30/23/522423_170530230422.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        2017LCK夏季赛揭幕战重播                        '),(337,'\"2018597\"','\"0\"','\"95\"','\"0\"','\"3\"','2017-05-30 15:14:24.272328','Zcup索泰杯','7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/2018597\"','\"https://rpic.douyucdn.cn/a1705/30/23/2018597_170530230410.jpg\"','DOTA2','\"_blank\"','\r\n                                                        索泰杯第一日重播                        '),(338,'\"591967\"','\"0\"','\"303\"','\"0\"','\"194\"','2017-05-30 15:14:24.322331','舌尖上的老王八','6.4万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/lw591967\"','\"https://rpic.douyucdn.cn/a1705/30/22/591967_170530223950.jpg\"','美食','\"_blank\"','\r\n                                                        老王：和水友吃饭啦 美滋滋                        '),(339,'\"782541\"','\"0\"','\"0\"','\"0\"','\"207\"','2017-05-30 15:14:24.355333','企鹅跳转专用16','58','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/782541\"','\"https://staticlive.douyucdn.cn/upload/web_pic/90336d4a8b8a1103a690869040e42e0c_thumb.png\"','企鹅直播','\"_blank\"','\r\n                                                        F5WC五人制足球世界杯                        '),(340,'\"510541\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:14:24.388335','KazeLink','4.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/kazelink\"','\"https://rpic.douyucdn.cn/a1705/30/22/510541_170530223936.jpg\"','主机游戏','\"_blank\"','\r\n                                                        马里奥-Link 技术主播没有GG                        '),(341,'\"1976204\"','\"0\"','\"223\"','\"0\"','\"181\"','2017-05-30 15:14:24.422337','仙阁寒夜','3.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1976204\"','\"https://rpic.douyucdn.cn/a1705/30/23/1976204_170530230355.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        AS仙阁灵魂歌神教练寒夜                        '),(342,'\"227670\"','\"0\"','\"346\"','\"0\"','\"212\"','2017-05-30 15:14:24.455339','军武直播','3.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/crazy262\"','\"https://rpic.douyucdn.cn/a1705/30/22/227670_170530225444.jpg\"','军事','\"_blank\"','\r\n                                                        28日下午2点武汉斗鱼嘉年华见面会见                        '),(343,'\"1929072\"','\"0\"','\"155\"','\"0\"','\"2\"','2017-05-30 15:14:24.506342','天天卡牌','3.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/ttkapai\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/17/4edb024beddac9a2d8df680271d892a9.jpg\"','炉石传说','\"_blank\"','\r\n                                                        天天卡牌官方直播间 直播至23点                        '),(344,'\"3614\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:14:24.547344','MrQuin','3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/quin\"','\"https://rpic.douyucdn.cn/a1705/30/22/3614_170530223922.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【Quin】破产2017                        '),(345,'\"462253\"','\"0\"','\"545\"','\"0\"','\"201\"','2017-05-30 15:14:24.589347','丁叮c','2.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/462253\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/29/462253_20170529180941_small.jpg\"','颜值','\"_blank\"','\r\n                                                        武汉最后一夜～                        '),(346,'\"709710\"','\"0\"','\"517\"','\"0\"','\"270\"','2017-05-30 15:14:24.630349','imxiaoxin','2.6万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/xiaoxinfps\"','\"https://rpic.douyucdn.cn/a1705/30/22/709710_170530225257.jpg\"','绝地求生','\"_blank\"','\r\n                                                        小新： 落地变箱子 -（自定义）                        '),(347,'\"562590\"','\"0\"','\"252\"','\"0\"','\"124\"','2017-05-30 15:14:24.672351','观音桥毕加索','2.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/562590\"','\"https://rpic.douyucdn.cn/a1705/30/22/562590_170530225159.jpg\"','娱乐','\"_blank\"','\r\n                                                        回家啦，吃个晚饭                        '),(348,'\"591801\"','\"0\"','\"305\"','\"0\"','\"194\"','2017-05-30 15:14:24.714354','主播宋师傅','2.2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/591801\"','\"https://rpic.douyucdn.cn/a1705/30/22/591801_170530225218.jpg\"','美食','\"_blank\"','\r\n                                                        【宋师傅】深夜放毒！！成都冒菜大家喜欢                        '),(349,'\"214116\"','\"0\"','\"0\"','\"0\"','\"272\"','2017-05-30 15:14:24.773357','灬叁叔','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/214116\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/30/e6c2fd8771ce9017eb7da5f3702011e6.jpg\"','狼人杀世界','\"_blank\"','\r\n                                                        端午节估计要吃狼肉粽子了                        '),(350,'\"578097\"','\"0\"','\"556\"','\"0\"','\"124\"','2017-05-30 15:14:24.814359','两斤饭婧婧','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/578097\"','\"https://rpic.douyucdn.cn/a1705/30/22/578097_170530225345.jpg\"','娱乐','\"_blank\"','\r\n                                                        到家啦，你有在等我吗？                        '),(351,'\"266055\"','\"0\"','\"168\"','\"0\"','\"1\"','2017-05-30 15:14:24.872363','萌面酥','33.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/266055\"','\"https://rpic.douyucdn.cn/a1705/30/22/266055_170530223947.jpg\"','英雄联盟','\"_blank\"','\r\n                                                        酥酥：o.o 我回来了                        '),(352,'\"796666\"','\"0\"','\"223\"','\"0\"','\"181\"','2017-05-30 15:14:25.064374','惊蜇','13万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/796666\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/19/fd962e29a5966bf4612c7f2fe20567b7.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        惊蛰：祝所有水友端午超神~                        '),(353,'\"1811143\"','\"0\"','\"472\"','\"0\"','\"181\"','2017-05-30 15:14:25.133378','宇宙无敌聪明白','9.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1811143\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/23/8787f55c12b108755d4d0da54507f4e7.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        白白白白白：我肥来啦                        '),(354,'\"1722598\"','\"0\"','\"455\"','\"0\"','\"174\"','2017-05-30 15:14:25.172380','月夜桜','5.7万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1722598\"','\"https://rpic.douyucdn.cn/a1705/30/23/1722598_170530230227.jpg\"','二次元','\"_blank\"','\r\n                                                        情景ASMR~？？？                        '),(355,'\"35651\"','\"0\"','\"171\"','\"0\"','\"19\"','2017-05-30 15:14:25.213382','老佳','4.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/laojia95\"','\"https://rpic.douyucdn.cn/a1705/30/23/35651_170530230315.jpg\"','主机游戏','\"_blank\"','\r\n                                                        【FIFA17】枪势崛起第12集-欧冠梦                        '),(356,'\"214786\"','\"0\"','\"167\"','\"0\"','\"2\"','2017-05-30 15:14:25.256385','两仪未娜丶','3.3万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/214786\"','\"https://rpic.douyucdn.cn/a1705/30/22/214786_170530225159.jpg\"','炉石传说','\"_blank\"','\r\n                                                        斗鱼尬年华，小姐姐请留步！                        '),(357,'\"190174\"','\"0\"','\"469\"','\"0\"','\"181\"','2017-05-30 15:14:25.364391','萌七七QAQ','2.8万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/190174\"','\"https://rpic.douyucdn.cn/a1705/30/23/190174_170530230343.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        拯救单身boy的任务就交给我了~                        '),(358,'\"142823\"','\"0\"','\"223\"','\"0\"','\"181\"','2017-05-30 15:14:25.414394','小二十一最可爱','2.5万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/142823\"','\"https://rpic.douyucdn.cn/roomCover/cover_update/2017/05/16/cc534d1dbd7e67f56c59909e8737da2a.jpg\"','王者荣耀','\"_blank\"','\r\n                                                        二十一：小兰陵神。                        '),(359,'\"428250\"','\"0\"','\"476\"','\"0\"','\"265\"','2017-05-30 15:14:25.463397','douyu青蛙','2.1万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/428250\"','\"https://rpic.douyucdn.cn/a1705/30/22/428250_170530223917.jpg\"','跳伞求生','\"_blank\"','\r\n                                                        【青蛙】带妹组排搞偶遇                        '),(360,'\"1853869\"','\"0\"','\"546\"','\"0\"','\"201\"','2017-05-30 15:14:25.505399','北宁baby','2万','\"https://shark.douyucdn.cn/app/douyu/res/page/list-item-def-thumb.gif\"','\"/1853869\"','\"https://rpic.douyucdn.cn/appCovers/2017/05/25/1853869_20170525143757_small.jpg\"','颜值','\"_blank\"','\r\n                                                        9点半差不多了                        ');
/*!40000 ALTER TABLE `tv_info` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `twfabu_item`
--

DROP TABLE IF EXISTS `twfabu_item`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `twfabu_item` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `realname` varchar(30) NOT NULL,
  `content` longtext NOT NULL,
  `dt` datetime(6) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `twfabu_item`
--

LOCK TABLES `twfabu_item` WRITE;
/*!40000 ALTER TABLE `twfabu_item` DISABLE KEYS */;
INSERT INTO `twfabu_item` VALUES (1,'测试1','<p>111111111111111111<br/></p>','2017-05-27 01:51:00.000000'),(2,'作者1','<p>测试图文发布</p><p><br/></p><p><strong>粗体</strong></p><p><strong><br/></strong></p><p><img src=\"/media/uploads/images/p4_20170527155403.jpg\" title=\"\" alt=\"p4.jpg\"/></p>','2017-05-27 07:54:00.000000'),(3,'测试2','<p>图文发布<br/></p>','2017-05-27 07:54:00.000000');
/*!40000 ALTER TABLE `twfabu_item` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `twfabu_lastpostid`
--

DROP TABLE IF EXISTS `twfabu_lastpostid`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `twfabu_lastpostid` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `postdt` datetime(6) NOT NULL,
  `postid` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `twfabu_lastpostid`
--

LOCK TABLES `twfabu_lastpostid` WRITE;
/*!40000 ALTER TABLE `twfabu_lastpostid` DISABLE KEYS */;
INSERT INTO `twfabu_lastpostid` VALUES (1,'2017-05-27 01:52:02.047930',1),(2,'2017-05-27 07:54:24.552530',2),(3,'2017-05-27 07:54:55.194283',3);
/*!40000 ALTER TABLE `twfabu_lastpostid` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `weixin_imagestory`
--

DROP TABLE IF EXISTS `weixin_imagestory`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `weixin_imagestory` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL,
  `homepic` varchar(100) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `weixin_imagestory`
--

LOCK TABLES `weixin_imagestory` WRITE;
/*!40000 ALTER TABLE `weixin_imagestory` DISABLE KEYS */;
/*!40000 ALTER TABLE `weixin_imagestory` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `weixin_weixinarticle`
--

DROP TABLE IF EXISTS `weixin_weixinarticle`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `weixin_weixinarticle` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `set_top` tinyint(1) NOT NULL,
  `pic` varchar(100) NOT NULL,
  `title` varchar(255) NOT NULL,
  `abstract` longtext NOT NULL,
  `content` longtext NOT NULL,
  `published` tinyint(1) NOT NULL,
  `pub_date` datetime(6) NOT NULL,
  `author` varchar(255) NOT NULL,
  `sourcefrom` varchar(255) NOT NULL,
  `slug_url` varchar(255) NOT NULL,
  `Tag` varchar(155) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `weixin_weixinarticle`
--

LOCK TABLES `weixin_weixinarticle` WRITE;
/*!40000 ALTER TABLE `weixin_weixinarticle` DISABLE KEYS */;
INSERT INTO `weixin_weixinarticle` VALUES (1,0,'uploads/jnu/images/default.jpg','111111','1111','11111111111',1,'2017-05-27 02:32:00.000000','暨大信息科学院','暨大信息科学院','news','11');
/*!40000 ALTER TABLE `weixin_weixinarticle` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2017-05-31 11:29:39
