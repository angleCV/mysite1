!function(){"use strict";function e(e,t,i,n){var o='<a class="aw-item'+(n?" "+n:"")+'" href="#" data-type="'+e.type+'" data-idx="'+t+'" data-src="'+i+'">'+e.name;return e.iconUri&&(o+='<img class="aw-itemicon" src="'+e.iconUri+'" alt="icon">'),o+="</a>"}function t(e,t){var i="";if(t.need){i+=e===x.feedback.name?'<li class="aw-lineitem tool-plugin tool-'+e+'">':'<li class="aw-lineitem tool-plugin tool-'+e+'" data-url="'+t.url+'">';var n=t.icon?"&#"+t.icon:e===x.feedback.name?"&#xe62b;":"&#xe629;";i+='<a class="aw-tool-item" href="#" ><i class="anywhere-iconfont toolicon">'+n+'</i><span class="toolwording">'+t.name+'</span></a><div class="aw-hover-tip" data-name="tool-'+e+'">'+t.name+" </div></li>"}return i}function i(e){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i=550,n=740,o=60,a=130,s=T.getDifferentResolutionClass(),r=s?i:n,l=s?o:a,c=Math.floor(t/2)-Math.floor(r/2)+l,d=5;return c=0>c?63:c,{top:c,right:d}}function n(e,t,i){var n;return i[e]&&i[e][t]?(n=i[e][t],n.awId=e+"_"+t):A.error("could not found data via "+e+", "+t),n}function o(e,t){var i,n={},o={};e=e||{};for(i in e)if(e.hasOwnProperty(i))switch(i){case"container":case"sourceId":case"bizCode":case"from":case"theme":case"position":case"autoRefresh":n[i]=e[i];break;default:o[i]=e[i]}return void 0!==t&&(n.autoRefresh=!!t),n.params=o,n}function a(e){return{from:e.from,sourceId:e.sourceId,sourceUrl:e.sourceUrl,requestId:e.requestId,bizCode:e.bizCode}}function s(e){var t={anyconditions:{}};return"object"==typeof e&&(t.anyconditions=e),t}function r(e,t,i){var n=JSON.stringify({action:t,value:i||null});if(e.dialog)try{e.dialogInner.contentWindow.postMessage(n,"*")}catch(o){A.error("failed to post message, caused by "+o)}else A.error("dialog is null, could not post message with "+n)}function l(e){e&&e.container||A.error("must provide container to init service window"),this.isHidden=e.isHidden?!0:!1,this.onRendered="function"==typeof e.onRendered?e.onRendered:void 0,this.from=e.from||"anywhere",this.bizCode=(e.bizCode||"")+"",this.bizCode=this.bizCode?this.bizCode:"anywhere"===this.from?"PCAnyWhereWindow":"",this.sourceId=(e.sourceId||"")+"",this.sourceUrl=location.href,this.container=e.container,this.triggerNode=[],this.requestId="",this.data=void 0,this.params=void 0,this.dialogUrl=e.dialogUrl||f.dialogUrl,this.dialogId="",this.dialog=void 0,this.mode="normal",this.isOpenDialog=!1,this.unreadedOcsCount=0,this.activeNotifyCount=0,this.currentActiveService=void 0,this.isStrongActvieNotifyShow=!1,this.imInteractMode=B.ROBOT,this.setTheme(e.theme||k);var t=50,i=30;if(this.logoWidth="number"==typeof e.logoWidth?e.logoWidth:t,this.logoWidth=this.logoWidth>t?t:this.logoWidth,this.logoWidth=this.logoWidth<i?i:this.logoWidth,this.isLogoAnim=this.logoWidth===t?!0:!1,e.autoRefresh!==!1){var n=A.mixin(e.params,{isInit:!0});this.refresh(n)}e.draggable!==!1&&C.init(this.container,this),e.position&&e.position.length?this.moveTo.apply(this,e.position):this.moveTo("auto"),N.push(this)}function c(e){return h.supports?!0:(A.error("do not supports this browser. skip action: "+e),!1)}function d(){O.attached||O.init()}function u(e){return function(){if(c(e)){if(!l.hasDefault())return void("refresh"===e?h.init(l.formatInitArgs(arguments[0],!0)):A.error('must call init before call "'+e+'"'));var t=l.getDefault();return t[e].apply(t,arguments)}}}{var h={};!function(){var e=window.location.hostname.indexOf(".daily.")>-1,t=window.location.href.indexOf("__mock__")>-1;return t?{content:"//dip.alibaba-inc.com/api/v2/services/schema/mock/5725"}:e?{content:"//service.daily.taobao.net/support/anywhere/GetAnywhereContent.do"}:{content:"//service.taobao.com/support/anywhere/GetAnywhereContent.do"}}()}h.supports=function(){var e,t=window.navigator.userAgent,i=t.indexOf("MSIE ");return i>0&&(e=parseInt(t.substring(i+5,t.indexOf(".",i)),10),e&&7>=e)?!1:!0}(),h.config={pageWidth:1190,entryWidth:120,entryHeight:300,entrySmallWidth:50,entrySmallHeight:150};var m,f;m={development:{getAnywhereContent:"//any.daily.taobao.net/window/getAnywhereContent.do",getAnywhereContentCenter:"//anyunit.daily.taobao.net/window/getAnywhereContent.do",getKnowledgeById:"//anyunit.daily.taobao.net/window/getKnowledgeById.do",dialogUrl:"//anyunit.daily.taobao.net/window/dialog.htm",closeImBubble:"//anyunit.daily.taobao.net/window/closeImBubble.do",getUserStateInfo:"//any.daily.taobao.net/window/getUserStateInfo.do",closeRemind:"//any.daily.taobao.net/remind/closeRemind.do"},propuction:{getAnywhereContent:"//anyservice.taobao.com/window/getAnywhereContent.do",getAnywhereContentCenter:"//anyhelp.taobao.com/window/getAnywhereContent.do",getKnowledgeById:"//anyhelp.taobao.com/window/getKnowledgeById.do",dialogUrl:"//anyhelp.taobao.com/window/dialog.htm",closeImBubble:"//anyhelp.taobao.com/window/closeImBubble.do",getUserStateInfo:"//anyhelp.taobao.com/window/getUserStateInfo.do",closeRemind:"//anyservice.taobao.com/remind/closeRemind.do"}};var g=window.location.hostname.indexOf(".daily.")>-1;f=g?m.development:m.propuction;var p={largeLogoD11:"//img.alicdn.com/tps/TB1O46ANVXXXXXSapXXXXXXXXXX-270-171.png",largeLogo:"//img.alicdn.com/tps/TB1HxcCMpXXXXbfaXXXXXXXXXXX-102-83.png",largeMoveLogo:"//img.alicdn.com/tps/TB1g43RMpXXXXbkXFXXXXXXXXXX-102-83.png",smallLogoD11:"//img.alicdn.com/tps/TB1lLshNVXXXXXqXXXXXXXXXXXX-124-139.png",smallLogo:"//img.alicdn.com/tps/TB1zXnCKVXXXXc5XVXXXXXXXXXX-50-50.png",dialogLogo:"//img.alicdn.com/tps/TB1bC80LVXXXXcNXVXXXXXXXXXX-47-30.png",largeAutoAnim:"//img.alicdn.com/tps/TB1DJg7MpXXXXazXXXXXXXXXXXX-102-1992.png",smallAutoAnim:"//img.alicdn.com/tps/TB1Xe45MXXXXXbUaXXXXXXXXXXX-50-500.png",bubbleWrapper:"//img.alicdn.com/tps/TB1molpLVXXXXaGXFXXXXXXXXXX-97-63.png",bubbleWrapperD11:"//img.alicdn.com/tps/TB1K9ghNVXXXXa.XpXXXXXXXXXX-97-63.png"};for(var y in p)if(p.hasOwnProperty(y)){var v=new Image;v.src=p[y]}var w=document.head||document.documentElement,b=function(){},I=1,A={isDebug:window.location.search.indexOf("&debug")>-1,loggerInstance:null,find:function(e,t,i){var n,o,a,s,r="function"==typeof t;if(e.childNodes)for(o=0,a=e.childNodes.length;a>o&&(n=e.childNodes[o],A.find(n,t,i),r&&!t(n)||(s=i(n),s!==!1));o+=1);},findChildByClass:function(e,t){for(var i=e.childNodes,n=void 0,o=0;o<i.length;o++)if(-1!==i[o].getAttribute("class").indexOf(t)){n=i[o];break}return n},bind:function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},unbind:function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},halt:function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble&&(e.cancelBubble=!0)},hasClass:function(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){A.hasClass(e,t)||(e.className+=" "+t)},removeClass:function(e,t){if(A.hasClass(e,t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ")}},openWindow:function(e,t){window.open(e,t||"","menubar=yes,location=yes,resizable=yes,scrollbars=yes,status=yes")},error:function(e,t,i){if("undefined"!=typeof window.console&&window.console.error("[anywhere entry] "+e),window.JSTracker2&&e){var n="anywhere",o=window.location.hostname.indexOf(".daily.")>-1,a=o?"http://fgt.daily.taobao.net/":"http://fgt.taobao.net/";a+=a+n+"/error",this.loggerInstance||(this.loggerInstance=new JSTracker2.constructor({url:a}));var s={msg:"["+n+"]"+e,subType:t?t:"entry",extraData:"object"==typeof i?i:{}};this.loggerInstance.push({msg:JSON.stringify(s)})}},stringifyParams:function(e){var t,i,n=[];if(e)for(t in e)if(e.hasOwnProperty(t)){if(i=e[t],void 0===typeof i)return;"object"==typeof i&&(i=JSON.stringify(i)),n.push(t+"="+encodeURIComponent(i))}return n.join("&")},makeUrl:function(e,t,i){var n=e.lastIndexOf("?");return-1===n?e+="?":n!==e.length-1&&(e+="&"),i===!0||t._input_charset||(t._input_charset="UTF-8"),e+A.stringifyParams(t)},jsonp:function(e,t,i,n){var o,a,s,r,l=document.createElement("script");n=n||b,o=t.callback||"anywhere_jsonp_"+I,I+=1,window[o]=function(e){s=e},t||(t={}),t.callback||(t.callback=o),a=A.makeUrl(e,t),r=setTimeout(function(){n("request time out")},5e3),l.async=!0,l.src=a,l.onload=l.onreadystatechange=function(){if(!l.readyState||/loaded|complete/.test(l.readyState)){clearTimeout(r),r=null,l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),s?i(s):n("jsonp callback was not called"),l=null,window[o]=null;try{delete window[o]}catch(e){}}},w.insertBefore(l,w.firstChild)},mixin:function(){var e,t,i,n,o={};for(e=0,t=arguments.length;t>e;e+=1)if(n=arguments[e],"object"==typeof n)for(i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);return o},getWindowSize:function(){var e=window,t=document.documentElement,i=document.getElementsByTagName("body")[0];return{width:e.innerWidth||t.clientWidth||i.clientWidth||t.documentElement.clientWidth,height:e.innerHeight||t.clientHeight||i.clientHeigh||t.documentElement.clientHeight}},getElementSize:function(e){return{width:e.offsetWidth,height:e.offsetHeight}},initActionTracker:function(e){var t=this,i=window.XLogTracker;if(i)i.initConfig({appname:"anywhere"}),t.trackerToken=i.startSession(),"function"==typeof e&&e();else{{var n,o=document.getElementsByTagName("script")[0],a=document.createElement("script"),s=window.location.hostname.indexOf(".daily.")>-1,r=!1;document.getElementsByTagName("head")[0]||document.documentElement}a.src=s?"//g-assets.daily.taobao.net/xtracker/logger/3.0.3/index.js":"//g.alicdn.com/xtracker/logger/3.0.3/index.js",a.id="femTrackerSdk",n=setTimeout(function(){"function"==typeof e&&e()},3e3),a.onload=a.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,clearTimeout(n),n=null,t.initActionTracker(e),a.onload=a.onreadystatechange=null)},o.parentNode.insertBefore(a,o)}},initApush:function(e,t){var i=this,n=window.Apush,o=window.location.hostname.indexOf(".daily.")>-1;if(n){var a=o?"http://10.125.8.90:6080":"https://hzapush.aliexpress.com",s=a+e,r=n.createClient(s,function(e){t&&t(e)});i.apushClient=r}else{{var l,c=document.getElementsByTagName("script")[0],d=document.createElement("script"),u=!1;document.getElementsByTagName("head")[0]||document.documentElement}d.src=o?"//g-assets.daily.taobao.net/tb/apush/0.0.8/??socketio.js,apush.js":"//g.alicdn.com/tb/apush/0.0.8/??socketio.js,apush.js",d.id="femTrackerSdk",l=setTimeout(function(){A.error("fetch apush lib res error .... ")},3e3),d.onload=d.onreadystatechange=function(){u||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(u=!0,clearTimeout(l),l=null,i.initApush(e,t),d.onload=d.onreadystatechange=null)},c.parentNode.insertBefore(d,c)}},_formatRecordActionExtraData:function(e){if("object"!=typeof e)return{};for(var t={fromflag:e.fromflag||"",wanxiangFlag:e.wanxiangFlag,subUserId:e.subUserId,bizCode:e.bizCode,sourceId:e.sourceId,from:e.from,requestUrl:e.requestUrl,requestId:e.requestId,sourceUrl:location.href},i=2;6>=i;i++){var n="actionAttrValue"+i,o="actionAttrDescription"+i;void 0!==e[n]&&null!==e[n]&&(t[n]=e[n],t[o]=e[o]||"")}return e.screen&&(t.avlscreen=e.screen),e.pos&&(t.pos=e.pos),t},recordAction:function(e){var t=this._formatRecordActionExtraData(e.extraData);e.extraData=t,window.XLogTracker&&this.trackerToken&&window.XLogTracker.record&&"function"==typeof window.XLogTracker.record&&window.XLogTracker.record(this.trackerToken,e)},supportIframePreload:function(){var e=window.navigator.userAgent.toLocaleLowerCase(),t=(e.indexOf("msie "),!1);return(-1!==e.indexOf("chrome")||-1!==e.indexOf("firefox")||-1!==e.indexOf("safari")&&-1===e.indexOf("360"))&&(t=!0),t},isLowerAndEqualIE8:function(){var e=window.navigator.userAgent.toLocaleLowerCase(),t=e.indexOf("msie "),i=!1;if(t>0){var n=parseInt(e.substring(t+5,e.indexOf(".",t)),10);8>=n&&(i=!0)}return i},setMiniDialog:function(e){var t=new Date,i=15;t.setTime(t.getTime()+24*i*60*60*1e3),document.cookie="miniDialog="+e+";expires="+t.toGMTString()},getMiniDialog:function(){var e,t=new RegExp("(^| )miniDialog=([^;]*)(;|$)");return(e=document.cookie.match(t))?unescape(e[2]):null},applyMiniDialog:function(e){var t=this,i=t.getMiniDialog(),n=1366;try{i=JSON.parse(i)}catch(o){i=null}if(null==i){var a=T.getScreenWidthHeight().h;i=n>=a?!0:!1,i||(i=e?!0:!1)}return i}},D={frameDuration:20,opacityUnit:.1,positionUnit:20,defaultTimes:7,showActiveNotifyTooltip:function(e){var t=this,i="activeTootipShowItemId",n="activeTootipShowItemId2",o=0,a=-180,s=-310,r=a,l=o,c=Math.ceil(Math.abs(s-a)/30),d=1/26;clearInterval(t[i]),clearInterval(t[n]),e.style.display="block",t[i]=setInterval(function(){if(r-=c,l+=d,s>r){clearInterval(t[i]),e.style.opacity=1;var o=-310,a=-300,u=o,h=Math.ceil(Math.abs(a-o)/14);return void(t[n]=setInterval(function(){return u+=h,u>-300?void clearInterval(t[n]):void(e.style.left=u+"px")},t.frameDuration))}e.style.left=r+"px",e.style.opacity=l},t.frameDuration)},hideActiveNotifyTooltip:function(e){var t=this,i="activeTootipHideItemId",n="activeTootipHideItemId2",o=1,a=-300,s=-150,r=a,l=o,c=Math.ceil(Math.abs(s-a)/20),d=.05;clearInterval(t[i]),clearInterval(t[n]),e.style.display="block",t[i]=setInterval(function(){return r+=c,l-=d,r>s?(clearInterval(t[i]),void(e.style.display="none")):(e.style.left=r+"px",void(e.style.opacity=l))},t.frameDuration)},setupAutoAnim:function(e,t){var i=this;A.find(e,function(e){return!!(e&&e.className&&e.className.match(/aw-logo/))},function(n){A.find(e,function(e){return!!(e&&e.className&&e.className.match(/aw-anim-lge-logo/))},function(o){A.find(e,function(e){return!!(e&&e.className&&e.className.match(/aw-anim-small-logo/))},function(e){"normal"===t.mode?(o.style.display="none",n.style.display="block"):(e.style.display="none",n.style.display="block"),clearInterval(i.largeAutoAnimId),clearInterval(i.smallAutoAnimId),clearInterval(i.logoAutoAnimId),i.logoAutoAnimId=setInterval(function(){t.isOpenDialog||C.isDragging||("normal"===t.mode?i.largeAutoAnim(o,n):t.isLogoAnim&&i.smallAutoAnim(e,n))},2e4)})})})},largeAutoAnim:function(e,t){var i=this,n=0,o="0px ",a=0,s=83;e.style.display="block",t.style.display="none",e.style.backgroundPosition="0px 0px",clearInterval(i.largeAutoAnimId),i.largeAutoAnimId=setInterval(function(){a-=s,e.style.backgroundPosition=o+a+"px",-1407>=a&&(n++,n>=2&&(clearInterval(i.largeAutoAnimId),e.style.display="none",t.style.display="block"),e.style.backgroundPosition="0px 0px",a=0)},59)},smallAutoAnim:function(e,t){var i=this,n=0,o="0px ",a=0,s=50;e.style.display="block",t.style.display="none",e.style.backgroundPosition="0px 0px",clearInterval(i.smallAutoAnimId),i.smallAutoAnimId=setInterval(function(){a-=s,e.style.backgroundPosition=o+a+"px",-500>=a&&(n++,n>=2&&(clearInterval(i.smallAutoAnimId),e.style.display="none",t.style.display="block"),e.style.backgroundPosition="0px 0px",a=0)},59)},showTooltip:function(e,t,i){var n=this,o=n.defaultTimes-2,a=t.logoWidth+20,s=80,r=a,l=Math.ceil(Math.abs(s-a)/o),c=e.getAttribute("data-name"),d="showTooltipId"+c;n[d]=setInterval(function(){r=r+l>s?s:r+l,e.style.width=r+"px",r>=15&&(e.style.display="block"),r>=s&&(clearInterval(n[d]),"function"==typeof i&&i())},n.frameDuration)},hideTooltip:function(e,t){var i=this,n=i.defaultTimes-2,o=80,a=0,s=o,r=Math.ceil(Math.abs(a-o)/n),l=e.getAttribute("data-name"),c="hideTooltipId"+l;i[c]=setInterval(function(){s=a>=s-r?a:s-r,e.style.width=s+"px",a>=s&&(clearInterval(i[c]),"function"==typeof t&&t())},i.frameDuration)},showDialog:function(e,t,i){var n=this,o=n.defaultTimes,a=.1,s=-80,r=1,l=7;e.parentNode.style.opacity=1,e.style.display="block",clearInterval(n.showDialogId);var c=a,d=s,u=Math.ceil(Math.abs(r-a)/o),h=Math.ceil(Math.abs(l-s)/o);n.showDialogId=setInterval(function(){c=c+u>r?r:c+u,d=d+h>l?l:d+h,e.style.opacity=c,e.style.right=d+"px",d>=l&&(clearInterval(n.showDialogId),"function"==typeof t&&t())},n.frameDuration),i.dialog&&(i.dialog.style.right="small"===i.mode?i.logoWidth-7+"px":"110px")},closeDialog:function(e,t){var i=this,n=i.defaultTimes,o=1,a=7,s=.1,r=-80;e.style.display="block",clearInterval(i.closeDialogId);var l=o,c=a,d=Math.ceil(Math.abs(s-o)/n),u=Math.ceil(Math.abs(r-a)/n);i.closeDialogId=setInterval(function(){l=s>=l-d?s:l-d,c=r>=c-u?r:c-u,e.style.opacity=l,e.style.right=c+"px",r>=c&&(clearInterval(i.closeDialogId),"function"==typeof t&&t())},i.frameDuration)},showResumeBtn:function(e,t,i){var n=this,o=n.defaultTimes,a=0,s=37;e.style.width=a,clearInterval(n.showResumeBtnId);var r=a,l=Math.ceil(Math.abs(s-a)/o);clearTimeout(n.showResumeBtnDelayId),n.showResumeBtnDelayId=setTimeout(function(){n.showResumeBtnId=setInterval(function(){r=r+l>=s?s:r+l,e.style.width=r+"px",r>=s&&(clearInterval(n.showResumeBtnId),"function"==typeof i&&i())},n.frameDuration)},n.frameDuration*t)},hideResumeBtn:function(e,t){var i=this,n=i.defaultTimes,o=37,a=0;e.style.width=o,clearInterval(i.showResumeBtnId);var s=o,r=Math.ceil(Math.abs(a-o)/n);clearTimeout(i.showResumeBtnDelayId),i.showResumeBtnId=setInterval(function(){s=a>=s-r?a:s-r,e.style.width=s+"px",a>=s&&(clearInterval(i.showResumeBtnId),"function"==typeof t&&t())},i.frameDuration)},switchMode:function(e,t,i,n,o){var a,s=this,r=n?5:s.frameDuration,l=e.childNodes[0],c=void 0,d=void 0,u=void 0,h=void 0,m=void 0,f=void 0;for(a=0;a<l.childNodes.length;a++){var g=l.childNodes[a],y=g.getAttribute("class");-1!==y.indexOf("aw-title")?d=g:-1!==y.indexOf("aw-content")?u=g:-1!==y.indexOf("aw-footer")?h=g:-1!==y.indexOf("aw-default-tool")?m=g:-1!==y.indexOf("aw-logo")?c=g:-1!==y.indexOf("aw-bubble-wrapper")&&(f=g)}var v=120,w=o.logoWidth,b="aw-double11"===o.theme?125:102,I=o.logoWidth,D=o.logoWidth,x=7;if(o.resumeBtn&&(o.resumeBtn.style.right="small"===t?o.logoWidth-2+"px":"118px"),o.dialog&&(o.dialog.style.right="small"===t?o.logoWidth-7+"px":"110px"),"small"===t){if(f){var T=0,C=-125,X=110-(50-I),N=15,k=Math.ceil(N/7),S=Math.ceil(Math.abs(C+X)/7);clearInterval(s.awDefaultBubblelId),s.awDefaultBubblelId=setInterval(function(){T=-N>=T-k?-N:T-k,C=C+S>=-X?-X:C+S,f.style.right=T+"px",f.style.top=C+"px",C>=-X&&clearInterval(s.awDefaultBubblelId)},r)}var B=v,M=Math.ceil((B-w)/7);clearInterval(s.awDefaultToolId),s.awDefaultToolId=setInterval(function(){B=w>=B-M?w:B-M,m.style.width=B+"px",w>=B&&clearInterval(s.awDefaultToolId)},r),A.find(m,function(e){return!!(e&&e.className&&e.className.match("toolwording"))},function(e){e.style.display="none"}),A.find(m,function(e){return!!(e&&e.className&&e.className.match("toolicon"))},function(e){e.style.marginRight="0px"});var O=.7;clearInterval(s.awContentId),clearInterval(s.awContentMoveId),clearInterval(s.awLogoMoveId),s.awContentId=setInterval(function(){if(O=0>=O-.1?0:O-.1,u.style.opacity=O,d.style.opacity=O,0>=O){clearInterval(s.awContentId);var e=s.originalContentHeight=u.offsetHeight?u.offsetHeight:o.dodgeAWContentHeight,t=s.originalTitleHeight=d.offsetHeight?d.offsetHeight:30,n=Math.ceil(e/x),a=Math.ceil(t/x),l=setInterval(function(){e=0>=e-n?0:e-n,t=0>=t-a?0:t-a,u.style.height=e+"px",d.style.height=t+"px",0>=e&&(clearInterval(l),u.style.display="none","function"==typeof i&&i())},r);d.style.paddingTop="0px",d.style.display="none"}},r);var L=(c.getAttribute("class"),b),R=-60,H="aw-double11"===o.theme?D+2:D-4,E=Math.ceil((L-I)/14),W=Math.ceil(Math.abs(R+H)/14);c.style.right="0px",clearInterval(s.awLogoWidthId),s.awLogoWidthId=setInterval(function(){if(L=I>=L-E?I:L-E,R=R+W>=-H?-H:R+W,c.style.width=L+"px",c.style.top=R+"px",I>=L){clearInterval(s.awLogoWidthId);var e="aw-double11"===o.theme?p.smallLogoD11:p.smallLogo;c.setAttribute("src",e)}},r)}else{var O=.3;clearInterval(s.awContentId),clearInterval(s.awContentMoveId),clearInterval(s.awLogoMoveId);var U=0,_=0,P=Math.ceil(s.originalContentHeight/x),z=Math.ceil(s.originalTitleHeight/x),F=8;d.style.display="block",d.style.paddingTop=F+"px",u.style.display="block";var V=setInterval(function(){U=U+P>=s.originalContentHeight?s.originalContentHeight:U+P,_=_+z>=20?20:_+z,u.style.height=U+"px",d.style.height=_+"px",U>=s.originalContentHeight&&(clearInterval(V),s.awContentId=setInterval(function(){O=O+.1>=1?1:O+.1,u.style.opacity=O,d.style.opacity=O,O>=1&&clearInterval(s.awContentId)},r))},r);"aw-double11"===o.theme?c.setAttribute("src",p.largeLogoD11):o.isOpenDialog?c.setAttribute("src",p.largeMoveLogo):c.setAttribute("src",p.largeLogo),c.style.right="aw-double11"===o.theme?"0px":"9px";var L=(c.getAttribute("class"),I),R=-42,H="aw-double11"===o.theme?-70:-71,E=Math.ceil((b-L)/x),W=Math.ceil(Math.abs(R+71)/14),j=setInterval(function(){L=L+E>=b?b:L+E,R=H>=R-W?H:R-W,c.style.width=L+"px",c.style.top=R+"px",H>=R&&clearInterval(j)},r),q=w,M=Math.ceil((v-q)/x);if(clearInterval(s.awDefaultToolId),s.awDefaultToolId=setInterval(function(){q=q+M>=v?v:q+M,m.style.width=q+"px",q>=v&&(clearInterval(s.awDefaultToolId),A.find(m,function(e){return!!(e&&e.className&&e.className.match("toolwording"))},function(e){e.style.display=""}),A.find(m,function(e){return!!(e&&e.className&&e.className.match("toolicon"))},function(e){e.style.marginRight="13px"}),"function"==typeof i&&i())},r),f){var T=-15,C=-110,k=Math.ceil(15/x),S=Math.ceil(Math.abs(C+125)/x),G="aw-double11"===o.theme?-134:-125;clearInterval(s.awDefaultBubbleHideId),s.awDefaultBubbleHideId=setInterval(function(){T=T+k>=0?0:T+k,C=-G>=C-S?G:C-S,f.style.right=T+"px",f.style.top=C+"px",-G>=C&&clearInterval(s.awDefaultBubbleHideId)},r)}}}},x={recordAction:function(e,t){var i={actionType:"clickTool",actionDescription:"\u70B9\u51FB\u5DE5\u5177",actionAttrValue:e,actionAttrDescription:"\u5DE5\u5177\u540D\u79F0"};i.extraData=A.mixin({},t),A.recordAction(i)},backtop:{name:"backtop",handler:function(e,t,i){window.scrolllTop="75px",x.recordAction(x.backtop.name,i)}},feedback:{name:"feedback",handler:function(e,t,i){var n=e.getAttribute("data-url");window.open(n,"_blank"),x.recordAction(x.feedback.name,i)}}},T={WRAPPER_CLASS:"aw-wrapper",ITEM_CLASS:"aw-item",DIALOG_WRAPPER_CLASS:"aw-dialog-wrapper",DIALOG_WRAPPER_LOWRESO_CLASS:"lowreso-dialog",DIALOG_WRAPPER_SMALL_CLASS:"aw-dialog-wrapper small",DIALOG_CLASS:"aw-dialog",DRAGGER_CLASS:"aw-dragger",RESUME_BTN_CLASS:"aw-dialog-resume",INNER_LOGO_CLASS:"aw-inner-logo",getScreenWidthHeight:function(){return{w:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,h:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}},getDifferentResolutionClass:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,t=850;return t>e?this.DIALOG_WRAPPER_LOWRESO_CLASS:""},content:function(i,n){var o,a,s,r="";if(r+='<div class="aw-window">',r+='<h3 class="aw-title aw-dragger">'+(i.im&&i.im.title||"\u39B1\u731C\u4F60\u60F3\u95EE\uFF1A")+"</h3>",r+='<ul class="aw-content">',i.contents)for(o=0,a=i.contents.length;a>o;o+=1)s=i.contents[o],r+='<li class="aw-lineitem">'+e(s,o,"contents",o===a-1?"last":"")+"</li>";r+="</ul>",r+='<ul class="aw-default-tool">';var l="\u4E07\u8C61\u63D0\u9192";r+='<li class="aw-lineitem stress tool-active-notify"><a class="aw-tool-item" href="#"><i class="anywhere-iconfont toolicon ring-icon">&#xe62e;</i><span class="toolwording">'+l+'</span><span class="activeNotifyCount">10</span><span class="actived-corner" data-service="activeNotify"></span></a><div class="aw-hover-tip stress" data-name="tool-active-notify">'+l+"</div>",r+='<div class="active-notify-tooltip"><div class="active-notify-logo-wrapper"><i class="anywhere-iconfont active-notify-logo">&#xe62f;</i></div><i class="anywhere-iconfont active-notify-close">&#xe61e;</i><div class="active-notify-anchor"></div><div class="active-notify-content"><div class="active-notify-content-header"></div><div class="active-notify-content-detail"></div><a href="#" class="active-notify-content-check">\u67E5\u770B\u8BE6\u60C5</a></div></div></li>';var c="\u53EC\u5524\u5BA2\u670D",d=i.im.open?"block":"none";r+='<li class="aw-lineitem stress tool-connect" style="display: '+d+';"><a class="aw-tool-item" href="#"><i class="anywhere-iconfont toolicon">&#xe628;</i><span class="toolwording">'+c+'</span><span class="msgCount"></span><span class="actived-corner" data-service="imDialogService"></span></a><div class="aw-hover-tip stress" data-name="tool-connect">'+c+"</div></li>";var u="\u670D\u52A1\u8FFD\u8E2A",h=i.showServiceHistory?"block":"none";if(r+='<li class="aw-lineitem stress tool-ser-history" style="display:'+h+';"><a class="aw-tool-item" href="#"><i class="anywhere-iconfont toolicon">&#xe61a;</i><span class="toolwording">'+u+'</span><span class="red-point"></span><span class="actived-corner" data-service="serviceHistory"></span></a><div class="aw-hover-tip stress" data-name="tool-ser-history">'+u+"</div></li>",i.toolbar)for(var m in i.toolbar)r+=t(m,i.toolbar[m]);r+="</ul>",r+="aw-double11"===n?'<img class="aw-logo aw-double11 aw-dragger" src="'+p.largeLogoD11+'" alt="\u4E07\u8C61LOGO"/>':'<img class="aw-logo aw-dragger" src="'+p.largeLogo+'" alt="\u4E07\u8C61LOGO"/>',r+='<div class="aw-anim-lge-logo"></div>',r+='<div class="aw-anim-small-logo"></div>';var f=i.im&&i.im.bubbleClose?"none":"block",g="aw-double11"===n?p.bubbleWrapperD11:p.bubbleWrapper;return r+='<div class="aw-bubble-wrapper" style="display:'+f+';"><div class="aw-bubble-text">'+(i.im&&i.im.bubble||"\u39B1\u731C\u4F60\u60F3\u95EE\uFF1A")+'</div><img class="aw-bubble-close"  src="//img.alicdn.com/tps/TB1OE0BLVXXXXaVXXXXXXXXXXXX-18-18.png" alt="\u4E07\u8C61\u53C9\u53C9" style="display:'+f+';"/><img class="aw-bubble" src="'+g+'" alt="\u4E07\u8C61\u6C14\u6CE1" /></div>'}},C={isDragReady:!1,hasDragged:!1,dragoffset:{x:0,y:0},checkPosMousedown:{x:0,y:0},computePosition:function(e){e=e||window.event;var t=(e.screenX||e.pageX||e.clientX)+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),i=(e.screenY||e.pageY||e.clientY)+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return{pageX:t,pageY:i}},getScreenWidthAndHeight:function(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}},mouseDownHandler:function(e,t,i,n){var o=this;e=e||window.event;var a=e.srcElement||e.target;if(n);else if(!a||!A.hasClass(a,T.DRAGGER_CLASS)&&a&&!A.hasClass(a.parentNode,T.DRAGGER_CLASS))return;A.halt(e),o.isDragReady=!0;var s=o.computePosition(e);o.dragoffset.x=s.pageX-(n?i.container.offsetLeft:t.offsetLeft),o.dragoffset.y=s.pageY-(n?i.container.offsetTop:t.offsetTop),o.checkPosMousedown.x=e.clientX,o.checkPosMousedown.y=e.clientY},mouseMoveHandler:function(e,t,i,n){var o=this;e=e||window.event;var a={x:e.clientX,y:e.clientY},s=o.checkPosMousedown.x&&a.x&&Math.abs(o.checkPosMousedown.x-a.x)<=1?!1:!0,r=o.checkPosMousedown.y&&a.y&&Math.abs(o.checkPosMousedown.y-a.y)<=1?!1:!0;if((s||r)&&o.isDragReady){var l=o.getScreenWidthAndHeight(),c=o.computePosition(e),d=n?-30:"small"===i.mode?50:120,u=c.pageY-o.dragoffset.y+(n?-25:0),m=l.width-c.pageX+o.dragoffset.x-d,f=A.getWindowSize(),g=h.config,p="small"===i.mode,y={width:p?g.entrySmallWidth:g.entryWidth,height:p?g.entrySmallHeight:g.entryHeight},v=f.width-y.width-5,w=f.height-y.height+100;30>u?u=30:u>w&&(u=w),5>m?m=5:m>v&&(m=v);var b=n?i.container:t;b.style.top=u+"px",b.style.bottom&&(b.style.bottom=""),b.style.right=m+"px",o.hasDragged=!0,A.find(t,function(e){return!!(e&&e.className&&e.className.match(/aw-logo/))},function(e){e.style.cursor="move"}),C.isDragging=!0}},mouseUpHandler:function(e,t,i,n){var o=this;if(o.isDragReady=!1,o.hasDragged){C.hasDraged=!0,setTimeout(function(){C.hasDraged=!1},60);var s={pos:{}};s.pos.x=e&&e.clientX?e.clientX:"",s.pos.y=e&&e.clientY?e.clientY:"",A.recordAction({actionType:"dragAnywhere",actionDescription:"\u62D6\u52A8\u670D\u52A1\u7A97",extraData:A.mixin(a(i),s)}),o.hasDragged=!1;var r=n?i.container:t;A.find(r,function(e){return!!(e&&e.className&&e.className.match(/aw-logo/))},function(e){e.style.cursor="pointer"}),C.isDragging=!1}}};C.init=function(e,t,i){var n=this;A.bind(e,"mousedown",function(o){n.mouseDownHandler(o,e,t,i)});var o=i?e:document;A.bind(o,"mouseup",function(o){n.mouseUpHandler(o,e,t,i)}),A.bind(o,"mousemove",function(o){n.mouseMoveHandler(o,e,t,i)})};var X,N=[],k="bluegirl",S=0,B={ROBOT:"robot",OCS:"ocs"},M=new RegExp("(\\s|^)"+T.ITEM_CLASS+"(\\s|$)");l.prototype={updateMsgCount:function(e){var t=this;A.find(this.container,function(e){return!!(e&&e.className&&e.className.match("msgCount"))},function(i){e?(i.innerText=t.unreadedOcsCount=0,i.style.display="none"):(t.unreadedOcsCount++,i.style.display="block",i.innerText=t.unreadedOcsCount)})},trigger:function(e,t){var i=this,n=function(e,t){"more"===e.type&&(e=A.mixin(e,{name:""})),i.showDialog(e,t)},o=function(e){if(!e.options||!e.options.linkUri)return void A.error("could not found link uri on "+e.name);var t=e.options,n=A.makeUrl(t.linkUri,a(i),!0);A.openWindow(n,t.windowTitle||"")},s={global:n,more:n,link:o,knowledge:n,selfService:n};e?s[e.type]?s[e.type](e,t):A.error("could not found action type: "+e.type):A.error("item is empty")},switchMode:function(e,t,i){var n=this;n.mode!=e&&(n.mode=e,D.switchMode(n.container,e,t,i,n))},switchLogo:function(){var e=this;A.find(e.container,function(e){return!!(e&&e.className&&e.className.match("aw-logo"))},function(t){"small"!==e.mode&&("aw-double11"===e.theme?t.setAttribute("src",p.largeLogoD11):e.isOpenDialog?t.setAttribute("src",p.largeMoveLogo):t.setAttribute("src",p.largeLogo))})},_renderDialog:function(e,t){var i=this;i.dialog=document.createElement("div"),i.dialogInner=document.createElement("iframe"),i.dialogInner.setAttribute("src",A.makeUrl(i.dialogUrl,e)),t&&(i.dialogInner.setAttribute("onload","anywhereDialogload();"),window.anywhereDialogload=function(){i.isDialogInnerLoading&&(i.dialog.style.display="none",i.isDialogInnerLoading=!1)});var n=T.getDifferentResolutionClass();"small"===i.mode?A.addClass(i.dialog,T.DIALOG_WRAPPER_SMALL_CLASS+" "+n):A.addClass(i.dialog,T.DIALOG_WRAPPER_CLASS+" "+n),A.addClass(i.dialogInner,T.DIALOG_CLASS+" "+n),i.dialog.appendChild(i.dialogInner),i.container.appendChild(i.dialog),t&&(i.isDialogInnerLoading=!0)},createDialog:function(){var e=this,t=A.mixin(a(this),{type:"preload",name:"",theme:this.getTheme(),options:A.mixin({resoClass:"lowreso-dialog"===T.getDifferentResolutionClass()?"":"highreso-dialog"},this.params),trackerToken:A.trackerToken,isMappingId:0,userId:this.data.userId||"",notice:this.data.notice||{},bu:this.data.im&&this.data.im.robotKnowledgeBu||"",wanxiangFlag:this.data.wanxiangFlag||"",showServiceHistory:this.data.showServiceHistory||!1,sayno:this.data.sayno||!1,subUserId:this.data.subUserId||"",mode:this.mode||""});e._renderDialog(t,!0)},_isSpecialUrl:function(e){if(!e)return!1;var t=/help-.*\.htm/i,i=e.match(t),n=!1,o=this;if(i&&i.length>0){var a=i[0];try{var s,r=a.substring(a.indexOf("help-")+5,a.indexOf(".htm")),l=o.data.helpIds,c=!1;for(s in l){var d=l[s];if(r.toString()===d.toString()){c=!0;break}}c&&(n=!0)}catch(u){A.error("invalid url of open idalog "+u.message)}}return n},openDialog:function(e,t){var i,n=this.data.abtest&&"link"===this.data.abtest.openOutKnowledge?!0:!1,o="",s="",l={},c=this,d="firstAnswer",u="serviceHistory",h="activeNotify",m="knowledge",f=e.isFromToolBtn;if("object"!=typeof e)return void A.error("open dialog params is not json format");if(!(e.kid||e.url||e.isFirstAnswer||e.isServiceHistory||e.isActiveNotify))return void A.error("question params kid or url is empty");if(n||c._isSpecialUrl(e.url)){var g=e.url,p=/(http|https)/i;return g=p.test(g)?g:location.protocol+g,window.open(g,"_blank"),void A.recordAction({actionType:"openExternalLink",actionDescription:"\u6253\u5F00\u5916\u94FE",actionAttrValue:"link",actionAttrDescription:"\u5916\u94FE\u7C7B\u578B",extraData:A.mixin(a(c),this.data)})}if(c.isOpenDialog=!0,c.switchLogo(),o=e.isFirstAnswer?d:e.isServiceHistory?u:e.isActiveNotify?h:m,s=o===d?e.isBubbleTrigger?this.data.im.bubbleContent:this.data.im.imFirstAnswer:o===u?"serviceHistory":o===h?"activeNotify":"delayShow",l=o===d?{name:s}:{name:s,kid:e.kid,mappingUrl:e.url,isExternal:1},l.resoClass="lowreso-dialog"===T.getDifferentResolutionClass()?"":"highreso-dialog",!f){var y=o===d&&e.isBubbleTrigger?"bubble":o;A.recordAction({
actionType:"openExternalLink",actionDescription:"\u6253\u5F00\u5916\u94FE",actionAttrValue:y,actionAttrDescription:"\u5916\u94FE\u7C7B\u578B",extraData:A.mixin(a(c),this.data)})}var v=this.currentActiveService===d||this.currentActiveService===m?"imDialogService":this.currentActiveService,w=o===d||o===m?"imDialogService":o;if("imDialogService"===w&&c.updateMsgCount(!0),A.find(c.container,function(e){return!!(e&&e.className&&e.className.match(/actived-corner/))},function(e){setTimeout(function(){e.style.display=e.getAttribute("data-service")!==w?"none":"block"},300)}),w!==v&&v)return this.closeDialog({},function(){c.openDialog(e)}),void(this.currentActiveService=w);this.currentActiveService=w;var b=A.mixin(a(this),{type:o,name:s,theme:this.getTheme(),options:A.mixin(l,this.params),trackerToken:A.trackerToken,isMappingId:o===m?1:0,userId:this.data.userId||"",notice:this.data.notice||{},bu:this.data.im&&this.data.im.robotKnowledgeBu||"",wanxiangFlag:this.data.wanxiangFlag||"",showServiceHistory:this.data.showServiceHistory||!1,sayno:this.data.sayno||!1,subUserId:this.data.subUserId||"",mode:this.mode||"",msgId:e&&e.msgId||"all"});if(c.isDialogInnerLoading&&(c.isDialogInnerLoading=!1,c.destroyPreloadDialog()),this.dialog){if(b.im=this.data.im||"",b.anywhereContents=this.data.contents||"[]","firstAnswer"===o){if(i=c.dialog.style.display,this.resumeBtn&&"none"===i&&D.hideResumeBtn(c.resumeBtn,function(){c.resumeBtn.style.display="none"}),this.dialogId){var i=c.dialog.style.display;return void(this.resumeBtn&&"none"===i&&(this.dialog.style.display="block",D.showDialog(c.dialogInner,null,c)))}return this.dialog.style.display="block",D.showDialog(c.dialogInner,null,c),this.dialogId=d,void r(this,"refreshAWDialog",b)}var I="open_"+(e.kid||"");this.dialogId!=="open_"+I&&r(this,"refreshAWDialog",b),this.dialogId||(this.dialog.style.display="block",D.showDialog(c.dialogInner,null,c)),this.resetTriggerNode()}else A.isDebug&&(b.debug=1),c._renderDialog(b,!1),setTimeout(function(){D.showDialog(c.dialogInner,null,c)},250);this.dialogId="firstAnswer"===o?"firstAnswer":"open_"+e.kid,i=c.dialog.style.display,this.dialog&&(this.dialog.style.display="block"),this.resumeBtn&&"none"===i&&D.hideResumeBtn(c.resumeBtn,function(){c.resumeBtn.style.display="none",D.showDialog(c.dialogInner,null,c)})},showDialog:function(e,t){var i=this;i.isOpenDialog=!0,i.updateMsgCount(!0),i.switchLogo(),i.isDialogInnerLoading&&(i.isDialogInnerLoading=!1,i.destroyPreloadDialog());var n="imDialogService";if(A.find(i.container,function(e){return!!(e&&e.className&&e.className.match(/actived-corner/))},function(e){setTimeout(function(){e.style.display=e.getAttribute("data-service")!==n?"none":"block"},300)}),"serviceHistory"===this.currentActiveService)return this.closeDialog({},function(){i.showDialog(e,t)}),void(this.currentActiveService=n);if(this.currentActiveService=n,e){var o=A.mixin(a(this),{type:"knowledge"===e.type?"knowledge-to-robot":e.type,name:e.name,theme:this.getTheme(),options:A.mixin(e.options,this.params),trackerToken:A.trackerToken,isMappingId:0,userId:this.data.userId||"",notice:this.data.notice||{},bu:this.data.im&&this.data.im.robotKnowledgeBu||"",wanxiangFlag:this.data.wanxiangFlag||"",showServiceHistory:this.data.showServiceHistory||!1,sayno:this.data.sayno||!1,subUserId:this.data.subUserId||"",mode:this.mode||""});o.options.resoClass="lowreso-dialog"===T.getDifferentResolutionClass()?"":"highreso-dialog",o.options.isExternal=0,this.dialog?(o.im=this.data.im||"",o.anywhereContents=this.data.contents||"[]",this.dialogId!==e.awId&&r(this,"refreshAWDialog",o),this.dialogId||(this.dialog.style.display="block",D.showDialog(i.dialogInner,null,i))):(A.isDebug&&(o.debug=1),i._renderDialog(o,!1),setTimeout(function(){D.showDialog(i.dialogInner,null,i)},250)),this.dialogId=e.awId}var s=this.dialog.style.display;if(this.dialog&&(this.dialog.style.display="block"),this.resumeBtn&&"none"===s){if("small"===i.mode){var l=i.resumeBtn.getAttribute("class");-1===l.indexOf("small")&&(i.resumeBtn.setAttribute("class",l+" small"),i.resumeBtn.style.right=i.logoWidth-10+"px")}D.hideResumeBtn(i.resumeBtn,function(){i.resumeBtn.style.display="none",D.showDialog(i.dialogInner,null,i)})}t&&this.activeTriggerNode(t.parentNode)},activeTriggerNode:function(e){e&&A.addClass(e,"active")},resetTriggerNode:function(){var e,t,i=this.triggerNode;for(e=0,t=i.length;t>e;e+=1)A.removeClass(i[e].parentNode,"active")},closeDialog:function(e,t){var i=this;if(this.isOpenDialog=!1,this.currentActiveService=void 0,i.switchLogo(),A.find(i.container,function(e){return!!(e&&e.className&&e.className.match(/actived-corner/))},function(e){e.style.display="none"}),this.dialog&&D.closeDialog(i.dialogInner,function(){i.dialog&&(i.dialog.style.display="none",t&&t())}),e&&e.options&&e.options.resumeBtn){if(this.resumeBtn)this.resumeBtn.style.display="block";else{this.resumeBtn=document.createElement("div");var n="small"===i.mode?"small":"";A.addClass(this.resumeBtn,T.RESUME_BTN_CLASS+" "+n),A.addClass(this.resumeBtn,T.getDifferentResolutionClass()),this.resumeBtn.innerHTML='<i class="anywhere-iconfont">&#xe626;</i>',this.container.appendChild(this.resumeBtn),A.bind(this.resumeBtn,"click",function(){i.showDialog(),A.recordAction({actionType:"expandDialog",actionDescription:"\u5C55\u5F00\u7A97\u53E3(\u70B9\u51FB\u5C55\u5F00\u6309\u94AE)",extraData:A.mixin(a(i),i.data)})})}this.resumeBtn.style.right="small"===i.mode?i.logoWidth-2+"px":"118px",D.showResumeBtn(i.resumeBtn,D.defaultTimes)}else this.resumeBtn&&(this.resumeBtn.style.display="none"),this.resetTriggerNode(),this.dialogId=""},destroyPreloadDialog:function(){this.dialog&&this.dialog.parentNode.removeChild(this.dialog),this.dialog=null,this.dialogInner=null},destroyDialog:function(){this.closeDialog(),this.dialog&&this.dialog.parentNode.removeChild(this.dialog),this.resumeBtn&&this.resumeBtn.parentNode.removeChild(this.resumeBtn),this.dialog=null,this.dialogInner=null,this.resumeBtn=null},setTheme:function(e){return this.theme&&A.removeClass(this.container,this.theme),A.hasClass(this.container,T.WRAPPER_CLASS)||A.addClass(this.container,T.WRAPPER_CLASS),this.theme=e,A.addClass(this.container,this.theme),this},getTheme:function(){return this.theme},moveTo:function(e,t){var n;return"auto"===e&&(n=i(this),e=n.top,t=n.right),e&&(this.container.style.top=e+"px"),t&&(this.container.style.right=t+"px"),this},refresh:function(e,t){function i(e){p.data=e,p.isHidden&&(p.container.style.display="none"),p.container.innerHTML=T.content(e,p.theme),p.triggerNode=[],p.requestId=e.requestId||"N/A"}function o(e){A.find(p.container,function(e){return!!(e&&e.className&&e.className.match(M))},r);var t=e.im.bubble,i=e.im.bubbleClose,n="\u70B9\u6211\u5C55\u5F00\u5594\uFF5E",o="\u70B9\u6211\u6536\u8D77\u5594\uFF5E",s=p.data.im.miniDialog,l=!1,c=i,d=T.getDifferentResolutionClass();p.mode="normal",p.dodgeAWContentHeight=0;for(var u in e.contents){p.dodgeAWContentHeight||(p.dodgeAWContentHeight=e.contents.length);var h=e.contents[u].name,m=h?h.length:0,g=20,y=m>0?Math.ceil(m/8):1;g+=18*y,p.dodgeAWContentHeight+=g}var v=A.findChildByClass(p.container,"aw-window");A.applyMiniDialog(s)&&(p.container.style.opacity=0,p.switchMode("small",function(){l=!1,p.mode="small",A.addClass(v,"small"),A.addClass(p.container,"small"),p.resumeBtn&&A.addClass(p.resumeBtn,d),p.container.style.opacity=1},!0)),A.addClass(v,d),A.find(p.container,function(e){return!!(e&&e.className&&e.className.match(/active-notify-tooltip/))},function(e){A.bind(e,"click",function(e){A.halt(e)})}),A.find(p.container,function(e){return!!(e&&e.className&&e.className.match(/active-notify-close/))},function(e){A.bind(e,"click",function(t){A.halt(t),p.clearActiveNotifyTip(!0);var i=e.parentNode,n=i.getAttribute("data-msgId"),o=i.getAttribute("data-templateId");A.jsonp(f.closeRemind,A.mixin({msgId:n},a(p))),A.recordAction({actionType:"clickStrongNotifyClose",actionDescription:"\u70B9\u51FB\u5F3A\u63D0\u9192\u5173\u95ED",actionAttrValue:o,actionAttrDescription:"templateId",extraData:a(p)})})}),A.find(p.container,function(e){return!!(e&&e.className&&e.className.match(/active-notify-content-check/))},function(e){A.bind(e,"click",function(t){if(A.halt(t),"activeNotify"!==p.currentActiveService){p.clearActiveNotifyTip();var i=e.parentNode.parentNode,n=i.getAttribute("data-msgId"),o=i.getAttribute("data-templateId");p.openDialog({isFirstAnswer:!1,isActiveNotify:!0,isFromToolBtn:!0,msgId:n}),A.recordAction({actionType:"clickStrongNotifyDetail",actionDescription:"\u70B9\u51FB\u5F3A\u63D0\u9192\u67E5\u770B\u8BE6\u60C5",actionAttrValue:o,actionAttrDescription:"templateId",extraData:a(p)})}})}),A.find(p.container,function(e){return!!(e&&e.className&&e.className.match(/aw-bubble-wrapper/))},function(t){if(c)return void(t.style.display="none");A.bind(t,"click",function(i){i=i||window.event;var n=i.srcElement||i.target;if((!n||!A.hasClass(n,"aw-bubble-close"))&&e.im&&e.im.bubbleContent){p.openDialog({isFirstAnswer:!0,isBubbleTrigger:!0}),t.style.display="none";var o=A.mixin({bubble:e.im.bubble,bubbleContent:e.im.bubbleContent||""},a(p));A.jsonp(f.closeImBubble,o,function(){});var s={actionType:"clickBubbleOpen",actionDescription:"\u70B9\u51FB\u6C14\u6CE1\u6253\u5F00\u7A97\uFF0C\u5173\u95ED\u6CE1",actionAttrValue:e.abtest&&e.abtest.bubbleType?e.abtest.bubbleType:-1,actionAttrDescription:"abtest.bubbleType"};s.extraData=A.mixin(a(p),e),s.extraData.requestUrl=f.closeImBubble,A.recordAction(s)}});var i=A.findChildByClass(t,"aw-bubble-close");A.bind(i,"click",function(n){t.style.display="none",i.style.display="none",c=!0;var o=A.mixin({bubble:e.im.bubble,bubbleContent:e.im.bubbleContent||""},a(p));A.jsonp(f.closeImBubble,o,function(){});var s={actionType:"closeImBubble",actionDescription:"\u5173\u95ED\u6C14\u6CE1"};s.extraData=A.mixin(a(p),e),s.extraData.requestUrl=f.closeImBubble,A.recordAction(s)})}),A.find(p.container,function(e){return!!(e&&e.className&&e.className.match(/aw-logo/))},function(i){function s(){if(!l&&!C.hasDraged){if(l=!0,"normal"===p.mode){p.switchMode("small",function(){l=!1}),p.mode="small",A.addClass(v,"small"),A.addClass(p.container,"small");var t=i.parentNode,s=t.nextSibling;if(s){var c=s.getAttribute("class");-1===c.indexOf("small")&&s.setAttribute("class",c+" small")}if(p.resumeBtn){var u=p.resumeBtn.getAttribute("class");-1===u.indexOf("small")&&p.resumeBtn.setAttribute("class",u+" small")}r&&(d.innerHTML=n),A.setMiniDialog(!0)}else{p.switchMode("normal",function(){l=!1}),p.mode="normal",A.removeClass(v,"small"),A.removeClass(p.container,"small");var t=i.parentNode,s=t.nextSibling;if(s){var c=s.getAttribute("class");-1!==c.indexOf("small")&&s.setAttribute("class",c.replace("small",""))}if(p.resumeBtn){var u=p.resumeBtn.getAttribute("class");-1!==u.indexOf("small")&&p.resumeBtn.setAttribute("class",u.replace("small",""))}r&&(d.innerHTML=o),A.setMiniDialog(!1)}var h={actionType:"clickLogo",actionDescription:"\u70B9\u51FBlogo",actionAttrValue:p.mode,actionAttrDescription:"\u5207\u6362\u7ED3\u679C\u72B6\u6001"};h.extraData=A.mixin(a(p),e),A.recordAction(h)}}A.find(p.container,function(e){return!!(e&&e.className&&e.className.match("aw-anim-lge-logo"))},function(e){A.find(p.container,function(e){return!!(e&&e.className&&e.className.match("aw-anim-small-logo"))},function(t){A.bind(e,"click",function(e){"aw-double11"!==p.theme&&D.setupAutoAnim(p.container,p),s()}),A.bind(t,"click",function(e){"aw-double11"!==p.theme&&D.setupAutoAnim(p.container,p),s()}),"aw-double11"!==p.theme&&D.setupAutoAnim(p.container,p)})}),A.bind(i,"click",function(e){s()});var r=A.findChildByClass(i.parentNode,"aw-bubble-wrapper"),d=r?A.findChildByClass(r,"aw-bubble-text"):null;A.bind(i,"mouseenter",function(e){"none"===r.style.display&&(r.style.display="block"),d.innerHTML="small"===p.mode?n:o}),A.bind(i,"mouseleave",function(e){r&&("block"===r.style.display&&c&&(r.style.display="none"),d.innerText=t)})}),A.find(p.container,function(e){return!!(e&&e.className&&e.className.match(/tool-connect|tool-ser-history|tool-active-notify/))},function(t){var i=t.getAttribute("class"),n=!1,o=!1;A.bind(t,"click",function(n){if(A.halt(n),!("imDialogService"===p.currentActiveService&&-1!==i.indexOf("tool-connect")||"activeNotify"===p.currentActiveService&&-1!==i.indexOf("tool-active-notify")||"serviceHistory"===p.currentActiveService&&-1!==i.indexOf("tool-ser-history"))){var s={actionType:"",actionDescription:""};if(-1!==i.indexOf("tool-connect")?(p.openDialog({isFirstAnswer:!0,isFromToolBtn:!0}),s={actionType:"clickConnect",actionDescription:"\u70B9\u51FB\u53EC\u5524\u5BA2\u670D"}):-1!==i.indexOf("tool-active-notify")?(p.clearActiveNotifyTip(),p.openDialog({isFirstAnswer:!1,isActiveNotify:!0,isFromToolBtn:!0,msgId:"all"}),s={actionType:"clickToolActiveNotify",actionDescription:"\u70B9\u51FB\u4E3B\u52A8\u63D0\u9192\u5DE5\u5177"}):-1!==i.indexOf("tool-ser-history")&&(p.openDialog({isFirstAnswer:!1,isServiceHistory:!0,isFromToolBtn:!0}),s={actionType:"clickToolServiceHistory",actionDescription:"\u70B9\u51FB\u670D\u52A1\u8BB0\u5F55\u5DE5\u5177"}),s.extraData=A.mixin(a(p),e),A.recordAction(s),"small"===p.mode&&!o){var r=A.findChildByClass(t,"aw-hover-tip");o=!0,D.hideTooltip(r,function(){r.style.display="none",o=!1})}}}),A.bind(t,"mouseenter",function(){if("small"===p.mode&&!n){if(-1!==i.indexOf("tool-active-notify")&&p.isStrongActvieNotifyShow)return;var e=A.findChildByClass(t,"aw-hover-tip"),o=t.getAttribute("class");if(-1===o.indexOf("small")&&(t.setAttribute("class",o+" small"),e.style.right=p.logoWidth-8+"px"),e.style.display="block",n=!0,p.resumeBtn&&"none"!==p.resumeBtn.style.display||p.isOpenDialog)return void(n=!1);var a="connectToolHideTipId"+i,s="connectToolHideTipId"+i;clearTimeout(p[a]),clearTimeout(p[s]),p[a]=setTimeout(function(){D.showTooltip(e,p,function(){n=!1})},S)}}),A.bind(t,"mouseleave",function(){if("small"===p.mode&&!o){var e=A.findChildByClass(t,"aw-hover-tip"),n=t.getAttribute("class");if(-1!==n.indexOf("small")&&t.setAttribute("class",n.replace("small","")),o=!0,p.resumeBtn&&"none"!==p.resumeBtn.style.display||p.isOpenDialog)return e.style.display="none",void(o=!1);var a="connectToolHideTipId"+i,s="connectToolHideTipId"+i;clearTimeout(p[a]),clearTimeout(p[s]),p[s]=setTimeout(function(){D.hideTooltip(e,function(){e.style.display="none",o=!1})},S)}})}),A.find(p.container,function(e){return!!(e&&e.className&&e.className.match(/tool-plugin/))},function(t){var i=function(){};for(var n in x)if(-1!==t.getAttribute("class").indexOf("tool-"+n)){i=x[n].handler;break}A.bind(t,"click",function(n){i(t,n,e)});var o=!1,a=!1;A.bind(t,"mouseenter",function(){if("small"===p.mode&&!o){var e=t.getAttribute("class");if(p.isOpenDialog&&"small"===p.mode&&-1!==e.indexOf("tool-ser-history"))return;var i=A.findChildByClass(t,"aw-hover-tip");-1===e.indexOf("small")&&(t.setAttribute("class",e+" small"),i.style.right=p.logoWidth-8+"px"),o=!0;var n="show-"+i.getAttribute("data-name")+"-id",a="hide-"+i.getAttribute("data-name")+"-id";clearTimeout(p[n]),clearTimeout(p[a]),p[n]=setTimeout(function(){D.showTooltip(i,p,function(){o=!1})},S)}}),A.bind(t,"mouseleave",function(){if("small"===p.mode&&!a){var e=A.findChildByClass(t,"aw-hover-tip"),i=t.getAttribute("class");-1!==i.indexOf("small")&&t.setAttribute("class",i.replace("small","")),a=!0;var n="hide-"+e.getAttribute("data-name")+"-id",o="show-"+e.getAttribute("data-name")+"-id";clearTimeout(p[n]),clearTimeout(p[o]),p[n]=setTimeout(function(){D.hideTooltip(e,function(){e.style.display="none",a=!1})},S)}})})}function r(e){p.triggerNode.push(e),A.bind(e,"click",function(t){A.halt(t);var i,o,a;for(a=n(e.getAttribute("data-src"),e.getAttribute("data-idx"),p.data),i=0,o=p.triggerNode.length;o>i;i+=1)A.removeClass(p.triggerNode[i].parentNode,"active");p.trigger(a,e)})}function l(e){A.error(e),p.data=null,p.triggerNode=[],p.requestId=""}function c(){p.isRunning=!1;var t=p.nextRefresh;"function"==typeof t&&(p.nextRefresh=null,t()),e&&"function"==typeof e.onRendered?e.onRendered():p.onRendered&&p.onRendered()}function d(e){A.initApush(e,function(e){if("tokenExpired"===e.msgType){if(!v){var t=A.mixin({target:1,tokenExpired:!0},a(p));A.jsonp(f.getUserStateInfo,t,function(e){if(e&&e.success&&e.data&&e.data.apushConfig&&e.data.apushConfig.app&&e.data.apushConfig.token&&A.apushClient){var t=e.data.apushConfig;A.apushClient.subscribeUserMsg(t.app,t.token,u)}}),v=!0}A.recordAction({actionType:"initApushConnectFail",actionDescription:"\u5EFA\u7ACBApush\u8FDE\u63A5\u5931\u8D25",extraData:a(p)})}else u(e)})}function u(e){if(e&&e.arg){var t={};try{t=JSON.parse(e.arg)}catch(i){t={}}t.remindType&&p.showActiveNotifyTip(t)}}function h(e,t){i(t.data),o(t.data),t.data.theme&&p.setTheme(t.data.theme);var n={actionType:"getAnywhereContent",actionDescription:"\u670D\u52A1\u7A97\u66DD\u5149"};n.extraData=A.mixin(e,t.data),n.extraData.requestUrl=f.getAnywhereContent,n.extraData.screen=T.getScreenWidthHeight(),A.recordAction(n),c();for(var s=t.data&&t.data.contents||[],r=!1,l="",u=0;u<s.length;u++){var h=s[u].type;if("global"===h){r=!0,l=s[u].options.kid;break}}if(t.data&&t.data.apushConfig&&t.data.apushConfig.connect){var m=t.data.apushConfig.url;m&&(A.isLowerAndEqualIE8()||d(m),A.recordAction({actionType:"initApushConnect",actionDescription:"\u5EFA\u7ACBApush\u8FDE\u63A5",extraData:a(p)}))}var g=t.data.unreadMessageDTO;if(g&&g.unreadMsgCount>0){var y={},v=g.strongRemindInfo;v&&v.strongTitle?(y.msgId=v.msgId,y.templateId=v.templateId,y.strongTitle=v.strongTitle,y.strongContent=v.strongContent,y.remindType=2):y.remindType=1,y.unreadCount=g.unreadMsgCount,y.unreadMsgIds=g.msgIds,p.showActiveNotifyTip(y,!0)}r&&A.recordAction({actionType:"globalContentShow",actionDescription:"\u5168\u5C40\u5185\u5BB9\u66DD\u5149",actionAttrValue:l,actionAttrDescription:"\u5BF9\u5E94ID",extraData:n.extraData})}function m(e){A.jsonp(f.getAnywhereContentCenter,e,function(t){t.success&&t.data?g(e,t):(l("response backup anywhere content data has error or wrnog format"),c())},function(e){l("failed to fetch backup anywhere content data, caused by "+e),c()})}function g(e,t){var i=A.mixin({target:1},a(p));A.jsonp(f.getUserStateInfo,i,function(i){if(i&&i.success&&i.data){var n=t,o=t.data.contents||[],a=i.data.contents||[],s=a.concat(o);s=s.splice(0,5),n.data.contents=s,n.data.requestId=i.data.requestId||"",n.data.userId=i.data.userId||"",n.data.sayno=i.data.sayno||!1,n.data.showServiceHistory=i.data.showServiceHistory,n.data.apushConfig=i.data.apushConfig,n.data.unreadMessageDTO=i.data.unreadMessageDTO,h(e,n)}else h(e,t)},function(i){A.error("fail to fetch user state info ....."),h(e,t)})}var p=this,y={};if(this.isRunning)return void(this.nextRefresh=function(){p.refresh(e,!0)});e&&e.sourceId&&(this.sourceId=e.sourceId,delete e.sourceId),e&&e.bizCode&&(this.bizCode=e.bizCode,delete e.bizCode),this.params=e,this.isRunning=!0,this.destroyPreloadDialog(),this.destroyDialog();var v=!1,w=s(e);return y=A.mixin(w,a(this)),delete y.requestId,y.sourceUrl=y.sourceUrl&&-1!==y.sourceUrl.indexOf("?")?y.sourceUrl.substring(0,y.sourceUrl.indexOf("?")):y.sourceUrl,t||(y.callback="anywhere_jsonp_getAnywhereContent"),A.initActionTracker(function(){A.jsonp(f.getAnywhereContent,y,function(e){e.success&&e.data?g(y,e):(l("response anywhere content data has error or wrnog format"),m(y))},function(e){l("failed to fetch anywhere content data, caused by "+e),m(y)})}),this},fallback:function(e){return A.error("refresh window error, "+e),this},show:function(){this.container.style.display="block"},showActiveNotifyTip:function(e,t){var i=this;i.isOpenDialog&&"activeNotify"===i.currentActiveService&&r(this,"receiveActiveNotify",e),A.find(this.container,function(e){return!!(e&&e.className&&e.className.match("tool-active-notify"))},function(n){var o=n.getAttribute("class");-1===o.indexOf("emphasize")&&n.setAttribute("class",o+" emphasize"),A.find(n,function(e){return!!(e&&e.className&&e.className.match("aw-hover-tip"))},function(e){var t=e.getAttribute("class");-1===t.indexOf("emphasize")&&e.setAttribute("class",t+" emphasize")}),A.find(n,function(e){return!!(e&&e.className&&e.className.match("activeNotifyCount"))},function(n){t?i.activeNotifyCount=e.unreadCount:i.activeNotifyCount++,n.style.display="block",n.innerText=i.activeNotifyCount}),2!=e.remindType||i.isOpenDialog&&"activeNotify"===i.currentActiveService||A.find(n,function(e){return!!(e&&e.className&&e.className.match("active-notify-tooltip"))},function(t){i.isStrongActvieNotifyShow=!0,t.setAttribute("data-msgId",e.msgId),t.setAttribute("data-templateId",e.templateId),A.find(t,function(e){return!!(e&&e.className&&e.className.match("active-notify-content-header"))},function(t){t.innerText=e.strongTitle}),A.find(t,function(e){return!!(e&&e.className&&e.className.match("active-notify-content-detail"))},function(t){t.innerText=e.strongContent}),D.showActiveNotifyTooltip(t,function(){t.style.display="block"})}),A.find(n,function(e){return!!(e&&e.className&&e.className.match("ring-icon"))},function(t){var n=t.getAttribute("class");1==e.remindType?-1!==n.indexOf("ring-come")||i.isStrongActvieNotifyShow?t.setAttribute("class",n.replace("ring-come")):t.setAttribute("class",n+" ring-come"):2==e.remindType&&t.setAttribute("class",n.replace("ring-come",""))})});var n=e.unreadMsgIds&&e.unreadMsgIds.length>0?e.unreadMsgIds.toString():"";A.recordAction({actionType:"activeNotifyShow",actionDescription:"\u4E3B\u52A8\u63D0\u9192\u66DD\u5149",actionAttrValue:e.remindType,actionAttrDescription:"\u7C7B\u578B",extraData:A.mixin(a(i),{actionAttrValue2:t?!0:!1,actionAttrDescription2:"\u521D\u59CB\u7C7B\u578B",actionAttrValue3:e.templateId||"all",actionAttrDescription3:"templateId",actionAttrValue4:n,actionAttrDescription4:"unreadTemplateIds"})})},clearActiveNotifyTip:function(e){var t=this;A.find(t.container,function(e){return!!(e&&e.className&&e.className.match("tool-active-notify"))},function(i){if(t.isStrongActvieNotifyShow=!1,!e){var n=i.getAttribute("class");i.setAttribute("class",n.replace("emphasize","")),A.find(i,function(e){return!!(e&&e.className&&e.className.match("aw-hover-tip"))},function(e){e.setAttribute("class",e.getAttribute("class").replace("emphasize",""))}),A.find(i,function(e){return!!(e&&e.className&&e.className.match("ring-icon"))},function(e){e.setAttribute("class",e.getAttribute("class").replace("ring-come",""))}),A.find(i,function(e){return!!(e&&e.className&&e.className.match("activeNotifyCount"))},function(e){t.activeNotifyCount=0,e.style.display="none"})}A.find(i,function(e){return!!(e&&e.className&&e.className.match("active-notify-tooltip"))},function(e){""!==e.style.display&&"block"===e.style.display&&D.hideActiveNotifyTooltip(e)})})},initImgViewer:function(e){imgViewer.init(e)},getContents:function(){return this.data&&this.data.contents||[]}},l.formatInitArgs=o,l.hasDefault=function(){return!!X},l.initDefault=function(e){return e=e||{},e.container||(e.container=document.createElement("div"),document.body.appendChild(e.container)),X=new l(e)},l.getDefault=function(){return X},l.eachInstances=function(e){if(N.length&&e)for(var t=0,i=N.length;i>t;t+=1)e(N[t])};var O={attached:!1,init:function(){function e(e){l.eachInstances(function(t){t.refresh(e)})}function t(t){try{var i,n,o=JSON.parse(t.data);"refreshAW"===o.action?e(o.value):"closeAWDialog"===o.action?(i=o.value.sourceId,n=o.value.bizCode||"",l.eachInstances(function(e){e.sourceId.toString()===i.toString()&&e.bizCode===n&&e.closeDialog(o.value)})):"updateOcsMsgCount"===o.action?(i=o.value.sourceId,n=o.value.bizCode||"",l.eachInstances(function(e){e.sourceId.toString()===i.toString()&&e.bizCode===n&&"imDialogService"!==e.currentActiveService&&e.updateMsgCount()})):"openServiceHistory"===o.action?l.eachInstances(function(e){e.openDialog({isFirstAnswer:!1,isServiceHistory:!0,isFromToolBtn:!1})}):"showServiceHistory"===o.action?l.eachInstances(function(e){A.find(e.container,function(e){return!!(e&&e.className&&e.className.match(/tool-ser-history/))},function(e){e&&(e.style.display="block")})}):"clearActiveNotifyMsg"===o.action?l.eachInstances(function(e){e.clearActiveNotifyTip()}):"switchMode"===o.action?l.eachInstances(function(e){e.imInteractMode=o.value}):"awMouseDown"===o.action?l.eachInstances(function(e){C.mouseDownHandler(o.value,void 0,e,!0)}):"awMouseMove"===o.action?l.eachInstances(function(e){C.mouseMoveHandler(o.value,void 0,e,!0)}):"awMouseUp"===o.action&&l.eachInstances(function(e){C.mouseUpHandler(o.value,void 0,e,!0)})}catch(a){}}if(!O.attached){window.addEventListener?window.addEventListener("message",t):window.attachEvent("onmessage",t),window.onbeforeunload=function(e){e=e||window.event;var t=!1,i="\u60A8\u7684\u64CD\u4F5C\u5C06\u4E2D\u65AD\u4E0E\u5BA2\u670D\u7684\u4F1A\u8BDD\uFF0C\u5EFA\u8BAE\u60A8\u9009\u62E9\u201C\u7559\u5728\u6B64\u9875\u201D\u4FDD\u6301\u4F1A\u8BDD\u5E76\u91CD\u65B0\u5F00\u542F\u65B0\u7684\u9875\u9762\u8FDB\u884C\u67E5\u8BE2\u64CD\u4F5C\uFF0C\u9632\u6B62\u65AD\u7EBF\u54E6~";return l.eachInstances(function(e){e.imInteractMode===B.OCS&&(t=!0)}),t?(e&&(e.returnValue=i),i):void 0},O.attached=!0}}};h.init=function(e){return c("init")?(d(),l.hasDefault()?(A.error("init default window more than once"),l.getDefault().refresh(e)):l.initDefault(e)):void 0};for(var y in l.prototype)l.prototype.hasOwnProperty(y)&&(h[y]?A.error("overwrite entry method: "+y):h[y]=u(y));window.AW=h,window.awAsyncInit&&window.awAsyncInit()}();